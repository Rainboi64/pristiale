function OO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BW(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var UO={exports:{}},_y={},FO={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=Symbol.for("react.element"),zW=Symbol.for("react.portal"),VW=Symbol.for("react.fragment"),$W=Symbol.for("react.strict_mode"),HW=Symbol.for("react.profiler"),GW=Symbol.for("react.provider"),WW=Symbol.for("react.context"),XW=Symbol.for("react.forward_ref"),KW=Symbol.for("react.suspense"),qW=Symbol.for("react.memo"),YW=Symbol.for("react.lazy"),LP=Symbol.iterator;function ZW(t){return t===null||typeof t!="object"?null:(t=LP&&t[LP]||t["@@iterator"],typeof t=="function"?t:null)}var jO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BO=Object.assign,zO={};function uf(t,e,n){this.props=t,this.context=e,this.refs=zO,this.updater=n||jO}uf.prototype.isReactComponent={};uf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VO(){}VO.prototype=uf.prototype;function XE(t,e,n){this.props=t,this.context=e,this.refs=zO,this.updater=n||jO}var KE=XE.prototype=new VO;KE.constructor=XE;BO(KE,uf.prototype);KE.isPureReactComponent=!0;var DP=Array.isArray,$O=Object.prototype.hasOwnProperty,qE={current:null},HO={key:!0,ref:!0,__self:!0,__source:!0};function GO(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$O.call(e,r)&&!HO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qp,type:t,key:s,ref:o,props:i,_owner:qE.current}}function JW(t,e){return{$$typeof:Qp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function YE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qp}function QW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var IP=/\/+/g;function X_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QW(""+t.key):e.toString(36)}function Pv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qp:case zW:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+X_(o,0):r,DP(i)?(n="",t!=null&&(n=t.replace(IP,"$&/")+"/"),Pv(i,e,n,"",function(c){return c})):i!=null&&(YE(i)&&(i=JW(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(IP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",DP(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+X_(s,a);o+=Pv(s,e,n,l,i)}else if(l=ZW(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+X_(s,a++),o+=Pv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vg(t,e,n){if(t==null)return t;var r=[],i=0;return Pv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function eX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},Nv={transition:null},tX={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Nv,ReactCurrentOwner:qE};function WO(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:vg,forEach:function(t,e,n){vg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vg(t,function(){e++}),e},toArray:function(t){return vg(t,function(e){return e})||[]},only:function(t){if(!YE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=uf;Gt.Fragment=VW;Gt.Profiler=HW;Gt.PureComponent=XE;Gt.StrictMode=$W;Gt.Suspense=KW;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tX;Gt.act=WO;Gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$O.call(e,l)&&!HO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qp,type:t.type,key:i,ref:s,props:r,_owner:o}};Gt.createContext=function(t){return t={$$typeof:WW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GW,_context:t},t.Consumer=t};Gt.createElement=GO;Gt.createFactory=function(t){var e=GO.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:XW,render:t}};Gt.isValidElement=YE;Gt.lazy=function(t){return{$$typeof:YW,_payload:{_status:-1,_result:t},_init:eX}};Gt.memo=function(t,e){return{$$typeof:qW,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=Nv.transition;Nv.transition={};try{t()}finally{Nv.transition=e}};Gt.unstable_act=WO;Gt.useCallback=function(t,e){return qr.current.useCallback(t,e)};Gt.useContext=function(t){return qr.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return qr.current.useEffect(t,e)};Gt.useId=function(){return qr.current.useId()};Gt.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};Gt.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return qr.current.useMemo(t,e)};Gt.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};Gt.useRef=function(t){return qr.current.useRef(t)};Gt.useState=function(t){return qr.current.useState(t)};Gt.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};Gt.useTransition=function(){return qr.current.useTransition()};Gt.version="18.3.1";FO.exports=Gt;var w=FO.exports;const Ge=kO(w),ZE=OO({__proto__:null,default:Ge},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nX=w,rX=Symbol.for("react.element"),iX=Symbol.for("react.fragment"),sX=Object.prototype.hasOwnProperty,oX=nX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aX={key:!0,ref:!0,__self:!0,__source:!0};function XO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sX.call(e,r)&&!aX.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rX,type:t,key:s,ref:o,props:i,_owner:oX.current}}_y.Fragment=iX;_y.jsx=XO;_y.jsxs=XO;UO.exports=_y;var x=UO.exports,e1={},KO={exports:{}},Bi={},qO={exports:{}},YO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,J){var ue=B.length;B.push(J);e:for(;0<ue;){var ge=ue-1>>>1,oe=B[ge];if(0<i(oe,J))B[ge]=J,B[ue]=oe,ue=ge;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var J=B[0],ue=B.pop();if(ue!==J){B[0]=ue;e:for(var ge=0,oe=B.length,Re=oe>>>1;ge<Re;){var X=2*(ge+1)-1,ce=B[X],me=X+1,re=B[me];if(0>i(ce,ue))me<oe&&0>i(re,ce)?(B[ge]=re,B[me]=ue,ge=me):(B[ge]=ce,B[X]=ue,ge=X);else if(me<oe&&0>i(re,ue))B[ge]=re,B[me]=ue,ge=me;else break e}}return J}function i(B,J){var ue=B.sortIndex-J.sortIndex;return ue!==0?ue:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,_=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=B)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function T(B){if(y=!1,E(B),!_)if(n(l)!==null)_=!0,q(C);else{var J=n(c);J!==null&&se(T,J.startTime-B)}}function C(B,J){_=!1,y&&(y=!1,m(A),A=-1),g=!0;var ue=p;try{for(E(J),f=n(l);f!==null&&(!(f.expirationTime>J)||B&&!I());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var oe=ge(f.expirationTime<=J);J=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),E(J)}else r(l);f=n(l)}if(f!==null)var Re=!0;else{var X=n(c);X!==null&&se(T,X.startTime-J),Re=!1}return Re}finally{f=null,p=ue,g=!1}}var P=!1,R=null,A=-1,L=5,N=-1;function I(){return!(t.unstable_now()-N<L)}function V(){if(R!==null){var B=t.unstable_now();N=B;var J=!0;try{J=R(!0,B)}finally{J?W():(P=!1,R=null)}}else P=!1}var W;if(typeof S=="function")W=function(){S(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=V,W=function(){Q.postMessage(null)}}else W=function(){v(V,0)};function q(B){R=B,P||(P=!0,W())}function se(B,J){A=v(function(){B(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,q(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var ue=p;p=J;try{return B()}finally{p=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ue=p;p=B;try{return J()}finally{p=ue}},t.unstable_scheduleCallback=function(B,J,ue){var ge=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ge+ue:ge):ue=ge,B){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ue+oe,B={id:d++,callback:J,priorityLevel:B,startTime:ue,expirationTime:oe,sortIndex:-1},ue>ge?(B.sortIndex=ue,e(c,B),n(l)===null&&B===n(c)&&(y?(m(A),A=-1):y=!0,se(T,ue-ge))):(B.sortIndex=oe,e(l,B),_||g||(_=!0,q(C))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var J=p;return function(){var ue=p;p=J;try{return B.apply(this,arguments)}finally{p=ue}}}})(YO);qO.exports=YO;var lX=qO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cX=w,Fi=lX;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZO=new Set,rp={};function $c(t,e){jd(t,e),jd(t+"Capture",e)}function jd(t,e){for(rp[t]=e,t=0;t<e.length;t++)ZO.add(e[t])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t1=Object.prototype.hasOwnProperty,uX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OP={},kP={};function dX(t){return t1.call(kP,t)?!0:t1.call(OP,t)?!1:uX.test(t)?kP[t]=!0:(OP[t]=!0,!1)}function fX(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hX(t,e,n,r){if(e===null||typeof e>"u"||fX(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var JE=/[\-:]([a-z])/g;function QE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JE,QE);wr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JE,QE);wr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JE,QE);wr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function eT(t,e,n,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hX(e,n,i,r)&&(n=null),r||i===null?dX(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ia=cX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yg=Symbol.for("react.element"),Ju=Symbol.for("react.portal"),Qu=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),JO=Symbol.for("react.provider"),QO=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),i1=Symbol.for("react.suspense_list"),rT=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),e3=Symbol.for("react.offscreen"),UP=Symbol.iterator;function $f(t){return t===null||typeof t!="object"?null:(t=UP&&t[UP]||t["@@iterator"],typeof t=="function"?t:null)}var Un=Object.assign,K_;function yh(t){if(K_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);K_=e&&e[1]||""}return`
`+K_+t}var q_=!1;function Y_(t,e){if(!t||q_)return"";q_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{q_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yh(t):""}function pX(t){switch(t.tag){case 5:return yh(t.type);case 16:return yh("Lazy");case 13:return yh("Suspense");case 19:return yh("SuspenseList");case 0:case 2:case 15:return t=Y_(t.type,!1),t;case 11:return t=Y_(t.type.render,!1),t;case 1:return t=Y_(t.type,!0),t;default:return""}}function s1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qu:return"Fragment";case Ju:return"Portal";case n1:return"Profiler";case tT:return"StrictMode";case r1:return"Suspense";case i1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QO:return(t.displayName||"Context")+".Consumer";case JO:return(t._context.displayName||"Context")+".Provider";case nT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rT:return e=t.displayName||null,e!==null?e:s1(t.type)||"Memo";case ka:e=t._payload,t=t._init;try{return s1(t(e))}catch{}}return null}function mX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s1(e);case 8:return e===tT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gX(t){var e=t3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xg(t){t._valueTracker||(t._valueTracker=gX(t))}function n3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function l0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o1(t,e){var n=e.checked;return Un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r3(t,e){e=e.checked,e!=null&&eT(t,"checked",e,!1)}function a1(t,e){r3(t,e);var n=fl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l1(t,e.type,n):e.hasOwnProperty("defaultValue")&&l1(t,e.type,fl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l1(t,e,n){(e!=="number"||l0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xh=Array.isArray;function yd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function c1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ze(92));if(xh(n)){if(1<n.length)throw Error(ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fl(n)}}function i3(t,e){var n=fl(e.value),r=fl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _g,o3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_g=_g||document.createElement("div"),_g.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_g.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ip(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vX=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(t){vX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nh[e]=Nh[t]})});function a3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nh.hasOwnProperty(t)&&Nh[t]?(""+e).trim():e+"px"}function l3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yX=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d1(t,e){if(e){if(yX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function f1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=null;function iT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p1=null,xd=null,_d=null;function VP(t){if(t=nm(t)){if(typeof p1!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=Ty(e),p1(t.stateNode,t.type,e))}}function c3(t){xd?_d?_d.push(t):_d=[t]:xd=t}function u3(){if(xd){var t=xd,e=_d;if(_d=xd=null,VP(t),e)for(t=0;t<e.length;t++)VP(e[t])}}function d3(t,e){return t(e)}function f3(){}var Z_=!1;function h3(t,e,n){if(Z_)return t(e,n);Z_=!0;try{return d3(t,e,n)}finally{Z_=!1,(xd!==null||_d!==null)&&(f3(),u3())}}function sp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ty(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var m1=!1;if(Zo)try{var Hf={};Object.defineProperty(Hf,"passive",{get:function(){m1=!0}}),window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{m1=!1}function xX(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Lh=!1,c0=null,u0=!1,g1=null,_X={onError:function(t){Lh=!0,c0=t}};function wX(t,e,n,r,i,s,o,a,l){Lh=!1,c0=null,xX.apply(_X,arguments)}function SX(t,e,n,r,i,s,o,a,l){if(wX.apply(this,arguments),Lh){if(Lh){var c=c0;Lh=!1,c0=null}else throw Error(ze(198));u0||(u0=!0,g1=c)}}function Hc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $P(t){if(Hc(t)!==t)throw Error(ze(188))}function bX(t){var e=t.alternate;if(!e){if(e=Hc(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $P(i),t;if(s===r)return $P(i),e;s=s.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function m3(t){return t=bX(t),t!==null?g3(t):null}function g3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g3(t);if(e!==null)return e;t=t.sibling}return null}var v3=Fi.unstable_scheduleCallback,HP=Fi.unstable_cancelCallback,EX=Fi.unstable_shouldYield,TX=Fi.unstable_requestPaint,Gn=Fi.unstable_now,MX=Fi.unstable_getCurrentPriorityLevel,sT=Fi.unstable_ImmediatePriority,y3=Fi.unstable_UserBlockingPriority,d0=Fi.unstable_NormalPriority,CX=Fi.unstable_LowPriority,x3=Fi.unstable_IdlePriority,wy=null,ro=null;function AX(t){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(wy,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:NX,RX=Math.log,PX=Math.LN2;function NX(t){return t>>>=0,t===0?32:31-(RX(t)/PX|0)|0}var wg=64,Sg=4194304;function _h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function f0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_h(a):(s&=o,s!==0&&(r=_h(s)))}else o=n&~i,o!==0?r=_h(o):s!==0&&(r=_h(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Os(e),i=1<<n,r|=t[n],e&=~i;return r}function LX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DX(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Os(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=LX(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function v1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _3(){var t=wg;return wg<<=1,!(wg&4194240)&&(wg=64),t}function J_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function em(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Os(e),t[e]=n}function IX(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Os(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function oT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Os(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var un=0;function w3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S3,aT,b3,E3,T3,y1=!1,bg=[],Za=null,Ja=null,Qa=null,op=new Map,ap=new Map,Ba=[],OX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GP(t,e){switch(t){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":op.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(e.pointerId)}}function Gf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nm(e),e!==null&&aT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kX(t,e,n,r,i){switch(e){case"focusin":return Za=Gf(Za,t,e,n,r,i),!0;case"dragenter":return Ja=Gf(Ja,t,e,n,r,i),!0;case"mouseover":return Qa=Gf(Qa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return op.set(s,Gf(op.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ap.set(s,Gf(ap.get(s)||null,t,e,n,r,i)),!0}return!1}function M3(t){var e=hc(t.target);if(e!==null){var n=Hc(e);if(n!==null){if(e=n.tag,e===13){if(e=p3(n),e!==null){t.blockedOn=e,T3(t.priority,function(){b3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=x1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);h1=r,n.target.dispatchEvent(r),h1=null}else return e=nm(n),e!==null&&aT(e),t.blockedOn=n,!1;e.shift()}return!0}function WP(t,e,n){Lv(t)&&n.delete(e)}function UX(){y1=!1,Za!==null&&Lv(Za)&&(Za=null),Ja!==null&&Lv(Ja)&&(Ja=null),Qa!==null&&Lv(Qa)&&(Qa=null),op.forEach(WP),ap.forEach(WP)}function Wf(t,e){t.blockedOn===e&&(t.blockedOn=null,y1||(y1=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,UX)))}function lp(t){function e(i){return Wf(i,t)}if(0<bg.length){Wf(bg[0],t);for(var n=1;n<bg.length;n++){var r=bg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Za!==null&&Wf(Za,t),Ja!==null&&Wf(Ja,t),Qa!==null&&Wf(Qa,t),op.forEach(e),ap.forEach(e),n=0;n<Ba.length;n++)r=Ba[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ba.length&&(n=Ba[0],n.blockedOn===null);)M3(n),n.blockedOn===null&&Ba.shift()}var wd=ia.ReactCurrentBatchConfig,h0=!0;function FX(t,e,n,r){var i=un,s=wd.transition;wd.transition=null;try{un=1,lT(t,e,n,r)}finally{un=i,wd.transition=s}}function jX(t,e,n,r){var i=un,s=wd.transition;wd.transition=null;try{un=4,lT(t,e,n,r)}finally{un=i,wd.transition=s}}function lT(t,e,n,r){if(h0){var i=x1(t,e,n,r);if(i===null)lw(t,e,r,p0,n),GP(t,r);else if(kX(i,t,e,n,r))r.stopPropagation();else if(GP(t,r),e&4&&-1<OX.indexOf(t)){for(;i!==null;){var s=nm(i);if(s!==null&&S3(s),s=x1(t,e,n,r),s===null&&lw(t,e,r,p0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lw(t,e,r,null,n)}}var p0=null;function x1(t,e,n,r){if(p0=null,t=iT(r),t=hc(t),t!==null)if(e=Hc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return p0=t,null}function C3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MX()){case sT:return 1;case y3:return 4;case d0:case CX:return 16;case x3:return 536870912;default:return 16}default:return 16}}var Ga=null,cT=null,Dv=null;function A3(){if(Dv)return Dv;var t,e=cT,n=e.length,r,i="value"in Ga?Ga.value:Ga.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dv=i.slice(t,1<r?1-r:void 0)}function Iv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eg(){return!0}function XP(){return!1}function zi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eg:XP,this.isPropagationStopped=XP,this}return Un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eg)},persist:function(){},isPersistent:Eg}),e}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uT=zi(df),tm=Un({},df,{view:0,detail:0}),BX=zi(tm),Q_,ew,Xf,Sy=Un({},tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xf&&(Xf&&t.type==="mousemove"?(Q_=t.screenX-Xf.screenX,ew=t.screenY-Xf.screenY):ew=Q_=0,Xf=t),Q_)},movementY:function(t){return"movementY"in t?t.movementY:ew}}),KP=zi(Sy),zX=Un({},Sy,{dataTransfer:0}),VX=zi(zX),$X=Un({},tm,{relatedTarget:0}),tw=zi($X),HX=Un({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),GX=zi(HX),WX=Un({},df,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XX=zi(WX),KX=Un({},df,{data:0}),qP=zi(KX),qX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZX[t])?!!e[t]:!1}function dT(){return JX}var QX=Un({},tm,{key:function(t){if(t.key){var e=qX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dT,charCode:function(t){return t.type==="keypress"?Iv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eK=zi(QX),tK=Un({},Sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YP=zi(tK),nK=Un({},tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dT}),rK=zi(nK),iK=Un({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),sK=zi(iK),oK=Un({},Sy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aK=zi(oK),lK=[9,13,27,32],fT=Zo&&"CompositionEvent"in window,Dh=null;Zo&&"documentMode"in document&&(Dh=document.documentMode);var cK=Zo&&"TextEvent"in window&&!Dh,R3=Zo&&(!fT||Dh&&8<Dh&&11>=Dh),ZP=" ",JP=!1;function P3(t,e){switch(t){case"keyup":return lK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ed=!1;function uK(t,e){switch(t){case"compositionend":return N3(e);case"keypress":return e.which!==32?null:(JP=!0,ZP);case"textInput":return t=e.data,t===ZP&&JP?null:t;default:return null}}function dK(t,e){if(ed)return t==="compositionend"||!fT&&P3(t,e)?(t=A3(),Dv=cT=Ga=null,ed=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return R3&&e.locale!=="ko"?null:e.data;default:return null}}var fK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fK[t.type]:e==="textarea"}function L3(t,e,n,r){c3(r),e=m0(e,"onChange"),0<e.length&&(n=new uT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ih=null,cp=null;function hK(t){$3(t,0)}function by(t){var e=rd(t);if(n3(e))return t}function pK(t,e){if(t==="change")return e}var D3=!1;if(Zo){var nw;if(Zo){var rw="oninput"in document;if(!rw){var e2=document.createElement("div");e2.setAttribute("oninput","return;"),rw=typeof e2.oninput=="function"}nw=rw}else nw=!1;D3=nw&&(!document.documentMode||9<document.documentMode)}function t2(){Ih&&(Ih.detachEvent("onpropertychange",I3),cp=Ih=null)}function I3(t){if(t.propertyName==="value"&&by(cp)){var e=[];L3(e,cp,t,iT(t)),h3(hK,e)}}function mK(t,e,n){t==="focusin"?(t2(),Ih=e,cp=n,Ih.attachEvent("onpropertychange",I3)):t==="focusout"&&t2()}function gK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return by(cp)}function vK(t,e){if(t==="click")return by(e)}function yK(t,e){if(t==="input"||t==="change")return by(e)}function xK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fs=typeof Object.is=="function"?Object.is:xK;function up(t,e){if(Fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t1.call(e,i)||!Fs(t[i],e[i]))return!1}return!0}function n2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r2(t,e){var n=n2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n2(n)}}function O3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k3(){for(var t=window,e=l0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=l0(t.document)}return e}function hT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _K(t){var e=k3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O3(n.ownerDocument.documentElement,n)){if(r!==null&&hT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=r2(n,s);var o=r2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wK=Zo&&"documentMode"in document&&11>=document.documentMode,td=null,_1=null,Oh=null,w1=!1;function i2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;w1||td==null||td!==l0(r)||(r=td,"selectionStart"in r&&hT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oh&&up(Oh,r)||(Oh=r,r=m0(_1,"onSelect"),0<r.length&&(e=new uT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=td)))}function Tg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nd={animationend:Tg("Animation","AnimationEnd"),animationiteration:Tg("Animation","AnimationIteration"),animationstart:Tg("Animation","AnimationStart"),transitionend:Tg("Transition","TransitionEnd")},iw={},U3={};Zo&&(U3=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function Ey(t){if(iw[t])return iw[t];if(!nd[t])return t;var e=nd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U3)return iw[t]=e[n];return t}var F3=Ey("animationend"),j3=Ey("animationiteration"),B3=Ey("animationstart"),z3=Ey("transitionend"),V3=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(t,e){V3.set(t,e),$c(e,[t])}for(var sw=0;sw<s2.length;sw++){var ow=s2[sw],SK=ow.toLowerCase(),bK=ow[0].toUpperCase()+ow.slice(1);Tl(SK,"on"+bK)}Tl(F3,"onAnimationEnd");Tl(j3,"onAnimationIteration");Tl(B3,"onAnimationStart");Tl("dblclick","onDoubleClick");Tl("focusin","onFocus");Tl("focusout","onBlur");Tl(z3,"onTransitionEnd");jd("onMouseEnter",["mouseout","mouseover"]);jd("onMouseLeave",["mouseout","mouseover"]);jd("onPointerEnter",["pointerout","pointerover"]);jd("onPointerLeave",["pointerout","pointerover"]);$c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$c("onBeforeInput",["compositionend","keypress","textInput","paste"]);$c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EK=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function o2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SX(r,e,void 0,t),t.currentTarget=null}function $3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;o2(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;o2(i,a,c),s=l}}}if(u0)throw t=g1,u0=!1,g1=null,t}function En(t,e){var n=e[M1];n===void 0&&(n=e[M1]=new Set);var r=t+"__bubble";n.has(r)||(H3(e,t,2,!1),n.add(r))}function aw(t,e,n){var r=0;e&&(r|=4),H3(n,t,r,e)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function dp(t){if(!t[Mg]){t[Mg]=!0,ZO.forEach(function(n){n!=="selectionchange"&&(EK.has(n)||aw(n,!1,t),aw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mg]||(e[Mg]=!0,aw("selectionchange",!1,e))}}function H3(t,e,n,r){switch(C3(e)){case 1:var i=FX;break;case 4:i=jX;break;default:i=lT}n=i.bind(null,e,n,t),i=void 0,!m1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=hc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}h3(function(){var c=s,d=iT(n),f=[];e:{var p=V3.get(t);if(p!==void 0){var g=uT,_=t;switch(t){case"keypress":if(Iv(n)===0)break e;case"keydown":case"keyup":g=eK;break;case"focusin":_="focus",g=tw;break;case"focusout":_="blur",g=tw;break;case"beforeblur":case"afterblur":g=tw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=KP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rK;break;case F3:case j3:case B3:g=GX;break;case z3:g=sK;break;case"scroll":g=BX;break;case"wheel":g=aK;break;case"copy":case"cut":case"paste":g=XX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=YP}var y=(e&4)!==0,v=!y&&t==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var S=c,E;S!==null;){E=S;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,m!==null&&(T=sp(S,m),T!=null&&y.push(fp(S,T,E)))),v)break;S=S.return}0<y.length&&(p=new g(p,_,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==h1&&(_=n.relatedTarget||n.fromElement)&&(hc(_)||_[Jo]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?hc(_):null,_!==null&&(v=Hc(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(y=KP,T="onMouseLeave",m="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(y=YP,T="onPointerLeave",m="onPointerEnter",S="pointer"),v=g==null?p:rd(g),E=_==null?p:rd(_),p=new y(T,S+"leave",g,n,d),p.target=v,p.relatedTarget=E,T=null,hc(d)===c&&(y=new y(m,S+"enter",_,n,d),y.target=E,y.relatedTarget=v,T=y),v=T,g&&_)t:{for(y=g,m=_,S=0,E=y;E;E=gu(E))S++;for(E=0,T=m;T;T=gu(T))E++;for(;0<S-E;)y=gu(y),S--;for(;0<E-S;)m=gu(m),E--;for(;S--;){if(y===m||m!==null&&y===m.alternate)break t;y=gu(y),m=gu(m)}y=null}else y=null;g!==null&&a2(f,p,g,y,!1),_!==null&&v!==null&&a2(f,v,_,y,!0)}}e:{if(p=c?rd(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=pK;else if(QP(p))if(D3)C=yK;else{C=gK;var P=mK}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=vK);if(C&&(C=C(t,c))){L3(f,C,n,d);break e}P&&P(t,p,c),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&l1(p,"number",p.value)}switch(P=c?rd(c):window,t){case"focusin":(QP(P)||P.contentEditable==="true")&&(td=P,_1=c,Oh=null);break;case"focusout":Oh=_1=td=null;break;case"mousedown":w1=!0;break;case"contextmenu":case"mouseup":case"dragend":w1=!1,i2(f,n,d);break;case"selectionchange":if(wK)break;case"keydown":case"keyup":i2(f,n,d)}var R;if(fT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ed?P3(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(R3&&n.locale!=="ko"&&(ed||A!=="onCompositionStart"?A==="onCompositionEnd"&&ed&&(R=A3()):(Ga=d,cT="value"in Ga?Ga.value:Ga.textContent,ed=!0)),P=m0(c,A),0<P.length&&(A=new qP(A,t,null,n,d),f.push({event:A,listeners:P}),R?A.data=R:(R=N3(n),R!==null&&(A.data=R)))),(R=cK?uK(t,n):dK(t,n))&&(c=m0(c,"onBeforeInput"),0<c.length&&(d=new qP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=R))}$3(f,e)})}function fp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function m0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sp(t,n),s!=null&&r.unshift(fp(t,s,i)),s=sp(t,e),s!=null&&r.push(fp(t,s,i))),t=t.return}return r}function gu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=sp(n,s),l!=null&&o.unshift(fp(n,l,a))):i||(l=sp(n,s),l!=null&&o.push(fp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TK=/\r\n?/g,MK=/\u0000|\uFFFD/g;function l2(t){return(typeof t=="string"?t:""+t).replace(TK,`
`).replace(MK,"")}function Cg(t,e,n){if(e=l2(e),l2(t)!==e&&n)throw Error(ze(425))}function g0(){}var S1=null,b1=null;function E1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T1=typeof setTimeout=="function"?setTimeout:void 0,CK=typeof clearTimeout=="function"?clearTimeout:void 0,c2=typeof Promise=="function"?Promise:void 0,AK=typeof queueMicrotask=="function"?queueMicrotask:typeof c2<"u"?function(t){return c2.resolve(null).then(t).catch(RK)}:T1;function RK(t){setTimeout(function(){throw t})}function cw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lp(e)}function el(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ff=Math.random().toString(36).slice(2),Qs="__reactFiber$"+ff,hp="__reactProps$"+ff,Jo="__reactContainer$"+ff,M1="__reactEvents$"+ff,PK="__reactListeners$"+ff,NK="__reactHandles$"+ff;function hc(t){var e=t[Qs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jo]||n[Qs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=u2(t);t!==null;){if(n=t[Qs])return n;t=u2(t)}return e}t=n,n=t.parentNode}return null}function nm(t){return t=t[Qs]||t[Jo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function Ty(t){return t[hp]||null}var C1=[],id=-1;function Ml(t){return{current:t}}function Cn(t){0>id||(t.current=C1[id],C1[id]=null,id--)}function _n(t,e){id++,C1[id]=t.current,t.current=e}var hl={},kr=Ml(hl),ui=Ml(!1),Mc=hl;function Bd(t,e){var n=t.type.contextTypes;if(!n)return hl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function di(t){return t=t.childContextTypes,t!=null}function v0(){Cn(ui),Cn(kr)}function d2(t,e,n){if(kr.current!==hl)throw Error(ze(168));_n(kr,e),_n(ui,n)}function G3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ze(108,mX(t)||"Unknown",i));return Un({},n,r)}function y0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hl,Mc=kr.current,_n(kr,t),_n(ui,ui.current),!0}function f2(t,e,n){var r=t.stateNode;if(!r)throw Error(ze(169));n?(t=G3(t,e,Mc),r.__reactInternalMemoizedMergedChildContext=t,Cn(ui),Cn(kr),_n(kr,t)):Cn(ui),_n(ui,n)}var ko=null,My=!1,uw=!1;function W3(t){ko===null?ko=[t]:ko.push(t)}function LK(t){My=!0,W3(t)}function Cl(){if(!uw&&ko!==null){uw=!0;var t=0,e=un;try{var n=ko;for(un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ko=null,My=!1}catch(i){throw ko!==null&&(ko=ko.slice(t+1)),v3(sT,Cl),i}finally{un=e,uw=!1}}return null}var sd=[],od=0,x0=null,_0=0,Qi=[],es=0,Cc=null,Fo=1,jo="";function ec(t,e){sd[od++]=_0,sd[od++]=x0,x0=t,_0=e}function X3(t,e,n){Qi[es++]=Fo,Qi[es++]=jo,Qi[es++]=Cc,Cc=t;var r=Fo;t=jo;var i=32-Os(r)-1;r&=~(1<<i),n+=1;var s=32-Os(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fo=1<<32-Os(e)+i|n<<i|r,jo=s+t}else Fo=1<<s|n<<i|r,jo=t}function pT(t){t.return!==null&&(ec(t,1),X3(t,1,0))}function mT(t){for(;t===x0;)x0=sd[--od],sd[od]=null,_0=sd[--od],sd[od]=null;for(;t===Cc;)Cc=Qi[--es],Qi[es]=null,jo=Qi[--es],Qi[es]=null,Fo=Qi[--es],Qi[es]=null}var ki=null,Ii=null,Rn=!1,Ps=null;function K3(t,e){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function h2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ki=t,Ii=el(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ki=t,Ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Cc!==null?{id:Fo,overflow:jo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ki=t,Ii=null,!0):!1;default:return!1}}function A1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R1(t){if(Rn){var e=Ii;if(e){var n=e;if(!h2(t,e)){if(A1(t))throw Error(ze(418));e=el(n.nextSibling);var r=ki;e&&h2(t,e)?K3(r,n):(t.flags=t.flags&-4097|2,Rn=!1,ki=t)}}else{if(A1(t))throw Error(ze(418));t.flags=t.flags&-4097|2,Rn=!1,ki=t}}}function p2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ki=t}function Ag(t){if(t!==ki)return!1;if(!Rn)return p2(t),Rn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!E1(t.type,t.memoizedProps)),e&&(e=Ii)){if(A1(t))throw q3(),Error(ze(418));for(;e;)K3(t,e),e=el(e.nextSibling)}if(p2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ii=el(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ii=null}}else Ii=ki?el(t.stateNode.nextSibling):null;return!0}function q3(){for(var t=Ii;t;)t=el(t.nextSibling)}function zd(){Ii=ki=null,Rn=!1}function gT(t){Ps===null?Ps=[t]:Ps.push(t)}var DK=ia.ReactCurrentBatchConfig;function Kf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,t))}return t}function Rg(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m2(t){var e=t._init;return e(t._payload)}function Y3(t){function e(m,S){if(t){var E=m.deletions;E===null?(m.deletions=[S],m.flags|=16):E.push(S)}}function n(m,S){if(!t)return null;for(;S!==null;)e(m,S),S=S.sibling;return null}function r(m,S){for(m=new Map;S!==null;)S.key!==null?m.set(S.key,S):m.set(S.index,S),S=S.sibling;return m}function i(m,S){return m=il(m,S),m.index=0,m.sibling=null,m}function s(m,S,E){return m.index=E,t?(E=m.alternate,E!==null?(E=E.index,E<S?(m.flags|=2,S):E):(m.flags|=2,S)):(m.flags|=1048576,S)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,S,E,T){return S===null||S.tag!==6?(S=vw(E,m.mode,T),S.return=m,S):(S=i(S,E),S.return=m,S)}function l(m,S,E,T){var C=E.type;return C===Qu?d(m,S,E.props.children,T,E.key):S!==null&&(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ka&&m2(C)===S.type)?(T=i(S,E.props),T.ref=Kf(m,S,E),T.return=m,T):(T=zv(E.type,E.key,E.props,null,m.mode,T),T.ref=Kf(m,S,E),T.return=m,T)}function c(m,S,E,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=yw(E,m.mode,T),S.return=m,S):(S=i(S,E.children||[]),S.return=m,S)}function d(m,S,E,T,C){return S===null||S.tag!==7?(S=wc(E,m.mode,T,C),S.return=m,S):(S=i(S,E),S.return=m,S)}function f(m,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=vw(""+S,m.mode,E),S.return=m,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yg:return E=zv(S.type,S.key,S.props,null,m.mode,E),E.ref=Kf(m,null,S),E.return=m,E;case Ju:return S=yw(S,m.mode,E),S.return=m,S;case ka:var T=S._init;return f(m,T(S._payload),E)}if(xh(S)||$f(S))return S=wc(S,m.mode,E,null),S.return=m,S;Rg(m,S)}return null}function p(m,S,E,T){var C=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:a(m,S,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yg:return E.key===C?l(m,S,E,T):null;case Ju:return E.key===C?c(m,S,E,T):null;case ka:return C=E._init,p(m,S,C(E._payload),T)}if(xh(E)||$f(E))return C!==null?null:d(m,S,E,T,null);Rg(m,E)}return null}function g(m,S,E,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(E)||null,a(S,m,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yg:return m=m.get(T.key===null?E:T.key)||null,l(S,m,T,C);case Ju:return m=m.get(T.key===null?E:T.key)||null,c(S,m,T,C);case ka:var P=T._init;return g(m,S,E,P(T._payload),C)}if(xh(T)||$f(T))return m=m.get(E)||null,d(S,m,T,C,null);Rg(S,T)}return null}function _(m,S,E,T){for(var C=null,P=null,R=S,A=S=0,L=null;R!==null&&A<E.length;A++){R.index>A?(L=R,R=null):L=R.sibling;var N=p(m,R,E[A],T);if(N===null){R===null&&(R=L);break}t&&R&&N.alternate===null&&e(m,R),S=s(N,S,A),P===null?C=N:P.sibling=N,P=N,R=L}if(A===E.length)return n(m,R),Rn&&ec(m,A),C;if(R===null){for(;A<E.length;A++)R=f(m,E[A],T),R!==null&&(S=s(R,S,A),P===null?C=R:P.sibling=R,P=R);return Rn&&ec(m,A),C}for(R=r(m,R);A<E.length;A++)L=g(R,m,A,E[A],T),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?A:L.key),S=s(L,S,A),P===null?C=L:P.sibling=L,P=L);return t&&R.forEach(function(I){return e(m,I)}),Rn&&ec(m,A),C}function y(m,S,E,T){var C=$f(E);if(typeof C!="function")throw Error(ze(150));if(E=C.call(E),E==null)throw Error(ze(151));for(var P=C=null,R=S,A=S=0,L=null,N=E.next();R!==null&&!N.done;A++,N=E.next()){R.index>A?(L=R,R=null):L=R.sibling;var I=p(m,R,N.value,T);if(I===null){R===null&&(R=L);break}t&&R&&I.alternate===null&&e(m,R),S=s(I,S,A),P===null?C=I:P.sibling=I,P=I,R=L}if(N.done)return n(m,R),Rn&&ec(m,A),C;if(R===null){for(;!N.done;A++,N=E.next())N=f(m,N.value,T),N!==null&&(S=s(N,S,A),P===null?C=N:P.sibling=N,P=N);return Rn&&ec(m,A),C}for(R=r(m,R);!N.done;A++,N=E.next())N=g(R,m,A,N.value,T),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?A:N.key),S=s(N,S,A),P===null?C=N:P.sibling=N,P=N);return t&&R.forEach(function(V){return e(m,V)}),Rn&&ec(m,A),C}function v(m,S,E,T){if(typeof E=="object"&&E!==null&&E.type===Qu&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case yg:e:{for(var C=E.key,P=S;P!==null;){if(P.key===C){if(C=E.type,C===Qu){if(P.tag===7){n(m,P.sibling),S=i(P,E.props.children),S.return=m,m=S;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ka&&m2(C)===P.type){n(m,P.sibling),S=i(P,E.props),S.ref=Kf(m,P,E),S.return=m,m=S;break e}n(m,P);break}else e(m,P);P=P.sibling}E.type===Qu?(S=wc(E.props.children,m.mode,T,E.key),S.return=m,m=S):(T=zv(E.type,E.key,E.props,null,m.mode,T),T.ref=Kf(m,S,E),T.return=m,m=T)}return o(m);case Ju:e:{for(P=E.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){n(m,S.sibling),S=i(S,E.children||[]),S.return=m,m=S;break e}else{n(m,S);break}else e(m,S);S=S.sibling}S=yw(E,m.mode,T),S.return=m,m=S}return o(m);case ka:return P=E._init,v(m,S,P(E._payload),T)}if(xh(E))return _(m,S,E,T);if($f(E))return y(m,S,E,T);Rg(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(n(m,S.sibling),S=i(S,E),S.return=m,m=S):(n(m,S),S=vw(E,m.mode,T),S.return=m,m=S),o(m)):n(m,S)}return v}var Vd=Y3(!0),Z3=Y3(!1),w0=Ml(null),S0=null,ad=null,vT=null;function yT(){vT=ad=S0=null}function xT(t){var e=w0.current;Cn(w0),t._currentValue=e}function P1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sd(t,e){S0=t,vT=ad=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function ls(t){var e=t._currentValue;if(vT!==t)if(t={context:t,memoizedValue:e,next:null},ad===null){if(S0===null)throw Error(ze(308));ad=t,S0.dependencies={lanes:0,firstContext:t}}else ad=ad.next=t;return e}var pc=null;function _T(t){pc===null?pc=[t]:pc.push(t)}function J3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_T(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qo(t,r)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ua=!1;function wT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $o(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qo(t,n)}return i=r.interleaved,i===null?(e.next=e,_T(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qo(t,n)}function Ov(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oT(t,n)}}function g2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function b0(t,e,n,r){var i=t.updateQueue;Ua=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(p=e,g=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=Un({},f,p);break e;case 2:Ua=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rc|=o,t.lanes=o,t.memoizedState=f}}function v2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var rm={},io=Ml(rm),pp=Ml(rm),mp=Ml(rm);function mc(t){if(t===rm)throw Error(ze(174));return t}function ST(t,e){switch(_n(mp,e),_n(pp,t),_n(io,rm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:u1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=u1(e,t)}Cn(io),_n(io,e)}function $d(){Cn(io),Cn(pp),Cn(mp)}function ek(t){mc(mp.current);var e=mc(io.current),n=u1(e,t.type);e!==n&&(_n(pp,t),_n(io,n))}function bT(t){pp.current===t&&(Cn(io),Cn(pp))}var Ln=Ml(0);function E0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dw=[];function ET(){for(var t=0;t<dw.length;t++)dw[t]._workInProgressVersionPrimary=null;dw.length=0}var kv=ia.ReactCurrentDispatcher,fw=ia.ReactCurrentBatchConfig,Ac=0,kn=null,rr=null,fr=null,T0=!1,kh=!1,gp=0,IK=0;function Tr(){throw Error(ze(321))}function TT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fs(t[n],e[n]))return!1;return!0}function MT(t,e,n,r,i,s){if(Ac=s,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kv.current=t===null||t.memoizedState===null?FK:jK,t=n(r,i),kh){s=0;do{if(kh=!1,gp=0,25<=s)throw Error(ze(301));s+=1,fr=rr=null,e.updateQueue=null,kv.current=BK,t=n(r,i)}while(kh)}if(kv.current=M0,e=rr!==null&&rr.next!==null,Ac=0,fr=rr=kn=null,T0=!1,e)throw Error(ze(300));return t}function CT(){var t=gp!==0;return gp=0,t}function Ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?kn.memoizedState=fr=t:fr=fr.next=t,fr}function cs(){if(rr===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=rr.next;var e=fr===null?kn.memoizedState:fr.next;if(e!==null)fr=e,rr=t;else{if(t===null)throw Error(ze(310));rr=t,t={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},fr===null?kn.memoizedState=fr=t:fr=fr.next=t}return fr}function vp(t,e){return typeof e=="function"?e(t):e}function hw(t){var e=cs(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=rr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ac&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,kn.lanes|=d,Rc|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fs(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kn.lanes|=s,Rc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pw(t){var e=cs(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fs(s,e.memoizedState)||(ci=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tk(){}function nk(t,e){var n=kn,r=cs(),i=e(),s=!Fs(r.memoizedState,i);if(s&&(r.memoizedState=i,ci=!0),r=r.queue,AT(sk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,yp(9,ik.bind(null,n,r,i,e),void 0,null),hr===null)throw Error(ze(349));Ac&30||rk(n,e,i)}return i}function rk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ik(t,e,n,r){e.value=n,e.getSnapshot=r,ok(e)&&ak(t)}function sk(t,e,n){return n(function(){ok(e)&&ak(t)})}function ok(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fs(t,n)}catch{return!0}}function ak(t){var e=Qo(t,1);e!==null&&ks(e,t,1,-1)}function y2(t){var e=Ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:t},e.queue=t,t=t.dispatch=UK.bind(null,kn,t),[e.memoizedState,t]}function yp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lk(){return cs().memoizedState}function Uv(t,e,n,r){var i=Ys();kn.flags|=t,i.memoizedState=yp(1|e,n,void 0,r===void 0?null:r)}function Cy(t,e,n,r){var i=cs();r=r===void 0?null:r;var s=void 0;if(rr!==null){var o=rr.memoizedState;if(s=o.destroy,r!==null&&TT(r,o.deps)){i.memoizedState=yp(e,n,s,r);return}}kn.flags|=t,i.memoizedState=yp(1|e,n,s,r)}function x2(t,e){return Uv(8390656,8,t,e)}function AT(t,e){return Cy(2048,8,t,e)}function ck(t,e){return Cy(4,2,t,e)}function uk(t,e){return Cy(4,4,t,e)}function dk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fk(t,e,n){return n=n!=null?n.concat([t]):null,Cy(4,4,dk.bind(null,e,t),n)}function RT(){}function hk(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pk(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mk(t,e,n){return Ac&21?(Fs(n,e)||(n=_3(),kn.lanes|=n,Rc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function OK(t,e){var n=un;un=n!==0&&4>n?n:4,t(!0);var r=fw.transition;fw.transition={};try{t(!1),e()}finally{un=n,fw.transition=r}}function gk(){return cs().memoizedState}function kK(t,e,n){var r=rl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vk(t))yk(e,n);else if(n=J3(t,e,n,r),n!==null){var i=Wr();ks(n,t,r,i),xk(n,e,r)}}function UK(t,e,n){var r=rl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vk(t))yk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fs(a,o)){var l=e.interleaved;l===null?(i.next=i,_T(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=J3(t,e,i,r),n!==null&&(i=Wr(),ks(n,t,r,i),xk(n,e,r))}}function vk(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function yk(t,e){kh=T0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,oT(t,n)}}var M0={readContext:ls,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},FK={readContext:ls,useCallback:function(t,e){return Ys().memoizedState=[t,e===void 0?null:e],t},useContext:ls,useEffect:x2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uv(4194308,4,dk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uv(4,2,t,e)},useMemo:function(t,e){var n=Ys();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ys();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kK.bind(null,kn,t),[r.memoizedState,t]},useRef:function(t){var e=Ys();return t={current:t},e.memoizedState=t},useState:y2,useDebugValue:RT,useDeferredValue:function(t){return Ys().memoizedState=t},useTransition:function(){var t=y2(!1),e=t[0];return t=OK.bind(null,t[1]),Ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kn,i=Ys();if(Rn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),hr===null)throw Error(ze(349));Ac&30||rk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,x2(sk.bind(null,r,s,t),[t]),r.flags|=2048,yp(9,ik.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ys(),e=hr.identifierPrefix;if(Rn){var n=jo,r=Fo;n=(r&~(1<<32-Os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=IK++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jK={readContext:ls,useCallback:hk,useContext:ls,useEffect:AT,useImperativeHandle:fk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:pk,useReducer:hw,useRef:lk,useState:function(){return hw(vp)},useDebugValue:RT,useDeferredValue:function(t){var e=cs();return mk(e,rr.memoizedState,t)},useTransition:function(){var t=hw(vp)[0],e=cs().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1},BK={readContext:ls,useCallback:hk,useContext:ls,useEffect:AT,useImperativeHandle:fk,useInsertionEffect:ck,useLayoutEffect:uk,useMemo:pk,useReducer:pw,useRef:lk,useState:function(){return pw(vp)},useDebugValue:RT,useDeferredValue:function(t){var e=cs();return rr===null?e.memoizedState=t:mk(e,rr.memoizedState,t)},useTransition:function(){var t=pw(vp)[0],e=cs().memoizedState;return[t,e]},useMutableSource:tk,useSyncExternalStore:nk,useId:gk,unstable_isNewReconciler:!1};function Ts(t,e){if(t&&t.defaultProps){e=Un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function N1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ay={isMounted:function(t){return(t=t._reactInternals)?Hc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=rl(t),s=$o(r,i);s.payload=e,n!=null&&(s.callback=n),e=tl(t,s,i),e!==null&&(ks(e,t,i,r),Ov(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=rl(t),s=$o(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tl(t,s,i),e!==null&&(ks(e,t,i,r),Ov(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wr(),r=rl(t),i=$o(n,r);i.tag=2,e!=null&&(i.callback=e),e=tl(t,i,r),e!==null&&(ks(e,t,r,n),Ov(e,t,r))}};function _2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!up(n,r)||!up(i,s):!0}function _k(t,e,n){var r=!1,i=hl,s=e.contextType;return typeof s=="object"&&s!==null?s=ls(s):(i=di(e)?Mc:kr.current,r=e.contextTypes,s=(r=r!=null)?Bd(t,i):hl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ay,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function w2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ay.enqueueReplaceState(e,e.state,null)}function L1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ls(s):(s=di(e)?Mc:kr.current,i.context=Bd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ay.enqueueReplaceState(i,i.state,null),b0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hd(t,e){try{var n="",r=e;do n+=pX(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function D1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zK=typeof WeakMap=="function"?WeakMap:Map;function wk(t,e,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){A0||(A0=!0,$1=r),D1(t,e)},n}function Sk(t,e,n){n=$o(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){D1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){D1(t,e),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zK;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tq.bind(null,t,e,n),e.then(t,t))}function b2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$o(-1,1),e.tag=2,tl(n,e,1))),n.lanes|=1),t)}var VK=ia.ReactCurrentOwner,ci=!1;function Hr(t,e,n,r){e.child=t===null?Z3(e,null,n,r):Vd(e,t.child,n,r)}function T2(t,e,n,r,i){n=n.render;var s=e.ref;return Sd(e,i),r=MT(t,e,n,r,s,i),n=CT(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ea(t,e,i)):(Rn&&n&&pT(e),e.flags|=1,Hr(t,e,r,i),e.child)}function M2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!UT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bk(t,e,s,r,i)):(t=zv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:up,n(o,r)&&t.ref===e.ref)return ea(t,e,i)}return e.flags|=1,t=il(s,r),t.ref=e.ref,t.return=e,e.child=t}function bk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(up(s,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,ea(t,e,i)}return I1(t,e,n,r,i)}function Ek(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(cd,Ai),Ai|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(cd,Ai),Ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_n(cd,Ai),Ai|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_n(cd,Ai),Ai|=r;return Hr(t,e,i,n),e.child}function Tk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function I1(t,e,n,r,i){var s=di(n)?Mc:kr.current;return s=Bd(e,s),Sd(e,i),n=MT(t,e,n,r,s,i),r=CT(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ea(t,e,i)):(Rn&&r&&pT(e),e.flags|=1,Hr(t,e,n,i),e.child)}function C2(t,e,n,r,i){if(di(n)){var s=!0;y0(e)}else s=!1;if(Sd(e,i),e.stateNode===null)Fv(t,e),_k(e,n,r),L1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ls(c):(c=di(n)?Mc:kr.current,c=Bd(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&w2(e,o,r,c),Ua=!1;var p=e.memoizedState;o.state=p,b0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ui.current||Ua?(typeof d=="function"&&(N1(e,n,d,r),l=e.memoizedState),(a=Ua||_2(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Q3(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ts(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ls(l):(l=di(n)?Mc:kr.current,l=Bd(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&w2(e,o,r,l),Ua=!1,p=e.memoizedState,o.state=p,b0(e,r,o,i);var _=e.memoizedState;a!==f||p!==_||ui.current||Ua?(typeof g=="function"&&(N1(e,n,g,r),_=e.memoizedState),(c=Ua||_2(e,n,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return O1(t,e,n,r,s,i)}function O1(t,e,n,r,i,s){Tk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&f2(e,n,!1),ea(t,e,s);r=e.stateNode,VK.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vd(e,t.child,null,s),e.child=Vd(e,null,a,s)):Hr(t,e,a,s),e.memoizedState=r.state,i&&f2(e,n,!0),e.child}function Mk(t){var e=t.stateNode;e.pendingContext?d2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d2(t,e.context,!1),ST(t,e.containerInfo)}function A2(t,e,n,r,i){return zd(),gT(i),e.flags|=256,Hr(t,e,n,r),e.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function U1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ck(t,e,n){var r=e.pendingProps,i=Ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_n(Ln,i&1),t===null)return R1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ny(o,r,0,null),t=wc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=U1(n),e.memoizedState=k1,t):PT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $K(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=il(a,s):(s=wc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?U1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=k1,r}return s=t.child,t=s.sibling,r=il(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function PT(t,e){return e=Ny({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pg(t,e,n,r){return r!==null&&gT(r),Vd(e,t.child,null,n),t=PT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $K(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mw(Error(ze(422))),Pg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ny({mode:"visible",children:r.children},i,0,null),s=wc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vd(e,t.child,null,o),e.child.memoizedState=U1(o),e.memoizedState=k1,s);if(!(e.mode&1))return Pg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ze(419)),r=mw(s,r,void 0),Pg(t,e,o,r)}if(a=(o&t.childLanes)!==0,ci||a){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qo(t,i),ks(r,t,i,-1))}return kT(),r=mw(Error(ze(421))),Pg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ii=el(i.nextSibling),ki=e,Rn=!0,Ps=null,t!==null&&(Qi[es++]=Fo,Qi[es++]=jo,Qi[es++]=Cc,Fo=t.id,jo=t.overflow,Cc=e),e=PT(e,r.children),e.flags|=4096,e)}function R2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),P1(t.return,e,n)}function gw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ak(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Hr(t,e,r.children,n),r=Ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R2(t,n,e);else if(t.tag===19)R2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_n(Ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&E0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&E0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gw(e,!0,n,null,s);break;case"together":gw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ea(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=il(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=il(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HK(t,e,n){switch(e.tag){case 3:Mk(e),zd();break;case 5:ek(e);break;case 1:di(e.type)&&y0(e);break;case 4:ST(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(w0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(Ln,Ln.current&1),e.flags|=128,null):n&e.child.childLanes?Ck(t,e,n):(_n(Ln,Ln.current&1),t=ea(t,e,n),t!==null?t.sibling:null);_n(Ln,Ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ak(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Ln,Ln.current),r)break;return null;case 22:case 23:return e.lanes=0,Ek(t,e,n)}return ea(t,e,n)}var Rk,F1,Pk,Nk;Rk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F1=function(){};Pk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mc(io.current);var s=null;switch(n){case"input":i=o1(t,i),r=o1(t,r),s=[];break;case"select":i=Un({},i,{value:void 0}),r=Un({},r,{value:void 0}),s=[];break;case"textarea":i=c1(t,i),r=c1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=g0)}d1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Nk=function(t,e,n,r){n!==r&&(e.flags|=4)};function qf(t,e){if(!Rn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GK(t,e,n){var r=e.pendingProps;switch(mT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(e),null;case 1:return di(e.type)&&v0(),Mr(e),null;case 3:return r=e.stateNode,$d(),Cn(ui),Cn(kr),ET(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ag(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ps!==null&&(W1(Ps),Ps=null))),F1(t,e),Mr(e),null;case 5:bT(e);var i=mc(mp.current);if(n=e.type,t!==null&&e.stateNode!=null)Pk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return Mr(e),null}if(t=mc(io.current),Ag(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qs]=e,r[hp]=s,t=(e.mode&1)!==0,n){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(i=0;i<wh.length;i++)En(wh[i],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":FP(r,s),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},En("invalid",r);break;case"textarea":BP(r,s),En("invalid",r)}d1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cg(r.textContent,a,t),i=["children",""+a]):rp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&En("scroll",r)}switch(n){case"input":xg(r),jP(r,s,!0);break;case"textarea":xg(r),zP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=g0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qs]=e,t[hp]=r,Rk(t,e,!1,!1),e.stateNode=t;e:{switch(o=f1(n,r),n){case"dialog":En("cancel",t),En("close",t),i=r;break;case"iframe":case"object":case"embed":En("load",t),i=r;break;case"video":case"audio":for(i=0;i<wh.length;i++)En(wh[i],t);i=r;break;case"source":En("error",t),i=r;break;case"img":case"image":case"link":En("error",t),En("load",t),i=r;break;case"details":En("toggle",t),i=r;break;case"input":FP(t,r),i=o1(t,r),En("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Un({},r,{value:void 0}),En("invalid",t);break;case"textarea":BP(t,r),i=c1(t,r),En("invalid",t);break;default:i=r}d1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?l3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ip(t,l):typeof l=="number"&&ip(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&En("scroll",t):l!=null&&eT(t,s,l,o))}switch(n){case"input":xg(t),jP(t,r,!1);break;case"textarea":xg(t),zP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?yd(t,!!r.multiple,s,!1):r.defaultValue!=null&&yd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=g0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mr(e),null;case 6:if(t&&e.stateNode!=null)Nk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(n=mc(mp.current),mc(io.current),Ag(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qs]=e,(s=r.nodeValue!==n)&&(t=ki,t!==null))switch(t.tag){case 3:Cg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cg(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qs]=e,e.stateNode=r}return Mr(e),null;case 13:if(Cn(Ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rn&&Ii!==null&&e.mode&1&&!(e.flags&128))q3(),zd(),e.flags|=98560,s=!1;else if(s=Ag(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ze(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ze(317));s[Qs]=e}else zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mr(e),s=!1}else Ps!==null&&(W1(Ps),Ps=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ln.current&1?sr===0&&(sr=3):kT())),e.updateQueue!==null&&(e.flags|=4),Mr(e),null);case 4:return $d(),F1(t,e),t===null&&dp(e.stateNode.containerInfo),Mr(e),null;case 10:return xT(e.type._context),Mr(e),null;case 17:return di(e.type)&&v0(),Mr(e),null;case 19:if(Cn(Ln),s=e.memoizedState,s===null)return Mr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qf(s,!1);else{if(sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=E0(t),o!==null){for(e.flags|=128,qf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(Ln,Ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&Gn()>Gd&&(e.flags|=128,r=!0,qf(s,!1),e.lanes=4194304)}else{if(!r)if(t=E0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rn)return Mr(e),null}else 2*Gn()-s.renderingStartTime>Gd&&n!==1073741824&&(e.flags|=128,r=!0,qf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Gn(),e.sibling=null,n=Ln.current,_n(Ln,r?n&1|2:n&1),e):(Mr(e),null);case 22:case 23:return OT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ai&1073741824&&(Mr(e),e.subtreeFlags&6&&(e.flags|=8192)):Mr(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function WK(t,e){switch(mT(e),e.tag){case 1:return di(e.type)&&v0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $d(),Cn(ui),Cn(kr),ET(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bT(e),null;case 13:if(Cn(Ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));zd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(Ln),null;case 4:return $d(),null;case 10:return xT(e.type._context),null;case 22:case 23:return OT(),null;case 24:return null;default:return null}}var Ng=!1,Nr=!1,XK=typeof WeakSet=="function"?WeakSet:Set,ut=null;function ld(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bn(t,e,r)}else n.current=null}function j1(t,e,n){try{n()}catch(r){Bn(t,e,r)}}var P2=!1;function KK(t,e){if(S1=h0,t=k3(),hT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(b1={focusedElem:t,selectionRange:n},h0=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){e=ut;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,v=_.memoizedState,m=e.stateNode,S=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ts(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(T){Bn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}return _=P2,P2=!1,_}function Uh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&j1(e,n,s)}i=i.next}while(i!==r)}}function Ry(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function B1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lk(t){var e=t.alternate;e!==null&&(t.alternate=null,Lk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qs],delete e[hp],delete e[M1],delete e[PK],delete e[NK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dk(t){return t.tag===5||t.tag===3||t.tag===4}function N2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=g0));else if(r!==4&&(t=t.child,t!==null))for(z1(t,e,n),t=t.sibling;t!==null;)z1(t,e,n),t=t.sibling}function V1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(V1(t,e,n),t=t.sibling;t!==null;)V1(t,e,n),t=t.sibling}var gr=null,Ms=!1;function _a(t,e,n){for(n=n.child;n!==null;)Ik(t,e,n),n=n.sibling}function Ik(t,e,n){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(wy,n)}catch{}switch(n.tag){case 5:Nr||ld(n,e);case 6:var r=gr,i=Ms;gr=null,_a(t,e,n),gr=r,Ms=i,gr!==null&&(Ms?(t=gr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gr.removeChild(n.stateNode));break;case 18:gr!==null&&(Ms?(t=gr,n=n.stateNode,t.nodeType===8?cw(t.parentNode,n):t.nodeType===1&&cw(t,n),lp(t)):cw(gr,n.stateNode));break;case 4:r=gr,i=Ms,gr=n.stateNode.containerInfo,Ms=!0,_a(t,e,n),gr=r,Ms=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&j1(n,e,o),i=i.next}while(i!==r)}_a(t,e,n);break;case 1:if(!Nr&&(ld(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Bn(n,e,a)}_a(t,e,n);break;case 21:_a(t,e,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,_a(t,e,n),Nr=r):_a(t,e,n);break;default:_a(t,e,n)}}function L2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XK),e.forEach(function(r){var i=rq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gr=a.stateNode,Ms=!1;break e;case 3:gr=a.stateNode.containerInfo,Ms=!0;break e;case 4:gr=a.stateNode.containerInfo,Ms=!0;break e}a=a.return}if(gr===null)throw Error(ze(160));Ik(s,o,i),gr=null,Ms=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Bn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ok(e,t),e=e.sibling}function Ok(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xs(e,t),Ks(t),r&4){try{Uh(3,t,t.return),Ry(3,t)}catch(y){Bn(t,t.return,y)}try{Uh(5,t,t.return)}catch(y){Bn(t,t.return,y)}}break;case 1:xs(e,t),Ks(t),r&512&&n!==null&&ld(n,n.return);break;case 5:if(xs(e,t),Ks(t),r&512&&n!==null&&ld(n,n.return),t.flags&32){var i=t.stateNode;try{ip(i,"")}catch(y){Bn(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&r3(i,s),f1(a,o);var c=f1(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?l3(i,f):d==="dangerouslySetInnerHTML"?o3(i,f):d==="children"?ip(i,f):eT(i,d,f,c)}switch(a){case"input":a1(i,s);break;case"textarea":i3(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?yd(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?yd(i,!!s.multiple,s.defaultValue,!0):yd(i,!!s.multiple,s.multiple?[]:"",!1))}i[hp]=s}catch(y){Bn(t,t.return,y)}}break;case 6:if(xs(e,t),Ks(t),r&4){if(t.stateNode===null)throw Error(ze(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Bn(t,t.return,y)}}break;case 3:if(xs(e,t),Ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lp(e.containerInfo)}catch(y){Bn(t,t.return,y)}break;case 4:xs(e,t),Ks(t);break;case 13:xs(e,t),Ks(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DT=Gn())),r&4&&L2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nr=(c=Nr)||d,xs(e,t),Nr=c):xs(e,t),Ks(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ut=t,d=t.child;d!==null;){for(f=ut=d;ut!==null;){switch(p=ut,g=p.child,p.tag){case 0:case 11:case 14:case 15:Uh(4,p,p.return);break;case 1:ld(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){Bn(r,n,y)}}break;case 5:ld(p,p.return);break;case 22:if(p.memoizedState!==null){I2(f);continue}}g!==null?(g.return=p,ut=g):I2(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=a3("display",o))}catch(y){Bn(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Bn(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xs(e,t),Ks(t),r&4&&L2(t);break;case 21:break;default:xs(e,t),Ks(t)}}function Ks(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dk(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ip(i,""),r.flags&=-33);var s=N2(t);V1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N2(t);z1(t,a,o);break;default:throw Error(ze(161))}}catch(l){Bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qK(t,e,n){ut=t,kk(t)}function kk(t,e,n){for(var r=(t.mode&1)!==0;ut!==null;){var i=ut,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ng;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nr;a=Ng;var c=Nr;if(Ng=o,(Nr=l)&&!c)for(ut=i;ut!==null;)o=ut,l=o.child,o.tag===22&&o.memoizedState!==null?O2(i):l!==null?(l.return=o,ut=l):O2(i);for(;s!==null;)ut=s,kk(s),s=s.sibling;ut=i,Ng=a,Nr=c}D2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ut=s):D2(t)}}function D2(t){for(;ut!==null;){var e=ut;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||Ry(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ts(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&v2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Nr||e.flags&512&&B1(e)}catch(p){Bn(e,e.return,p)}}if(e===t){ut=null;break}if(n=e.sibling,n!==null){n.return=e.return,ut=n;break}ut=e.return}}function I2(t){for(;ut!==null;){var e=ut;if(e===t){ut=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ut=n;break}ut=e.return}}function O2(t){for(;ut!==null;){var e=ut;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ry(4,e)}catch(l){Bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Bn(e,i,l)}}var s=e.return;try{B1(e)}catch(l){Bn(e,s,l)}break;case 5:var o=e.return;try{B1(e)}catch(l){Bn(e,o,l)}}}catch(l){Bn(e,e.return,l)}if(e===t){ut=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ut=a;break}ut=e.return}}var YK=Math.ceil,C0=ia.ReactCurrentDispatcher,NT=ia.ReactCurrentOwner,as=ia.ReactCurrentBatchConfig,Qt=0,hr=null,Jn=null,xr=0,Ai=0,cd=Ml(0),sr=0,xp=null,Rc=0,Py=0,LT=0,Fh=null,li=null,DT=0,Gd=1/0,Do=null,A0=!1,$1=null,nl=null,Lg=!1,Wa=null,R0=0,jh=0,H1=null,jv=-1,Bv=0;function Wr(){return Qt&6?Gn():jv!==-1?jv:jv=Gn()}function rl(t){return t.mode&1?Qt&2&&xr!==0?xr&-xr:DK.transition!==null?(Bv===0&&(Bv=_3()),Bv):(t=un,t!==0||(t=window.event,t=t===void 0?16:C3(t.type)),t):1}function ks(t,e,n,r){if(50<jh)throw jh=0,H1=null,Error(ze(185));em(t,n,r),(!(Qt&2)||t!==hr)&&(t===hr&&(!(Qt&2)&&(Py|=n),sr===4&&za(t,xr)),fi(t,r),n===1&&Qt===0&&!(e.mode&1)&&(Gd=Gn()+500,My&&Cl()))}function fi(t,e){var n=t.callbackNode;DX(t,e);var r=f0(t,t===hr?xr:0);if(r===0)n!==null&&HP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HP(n),e===1)t.tag===0?LK(k2.bind(null,t)):W3(k2.bind(null,t)),AK(function(){!(Qt&6)&&Cl()}),n=null;else{switch(w3(r)){case 1:n=sT;break;case 4:n=y3;break;case 16:n=d0;break;case 536870912:n=x3;break;default:n=d0}n=Hk(n,Uk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Uk(t,e){if(jv=-1,Bv=0,Qt&6)throw Error(ze(327));var n=t.callbackNode;if(bd()&&t.callbackNode!==n)return null;var r=f0(t,t===hr?xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=P0(t,r);else{e=r;var i=Qt;Qt|=2;var s=jk();(hr!==t||xr!==e)&&(Do=null,Gd=Gn()+500,_c(t,e));do try{QK();break}catch(a){Fk(t,a)}while(!0);yT(),C0.current=s,Qt=i,Jn!==null?e=0:(hr=null,xr=0,e=sr)}if(e!==0){if(e===2&&(i=v1(t),i!==0&&(r=i,e=G1(t,i))),e===1)throw n=xp,_c(t,0),za(t,r),fi(t,Gn()),n;if(e===6)za(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZK(i)&&(e=P0(t,r),e===2&&(s=v1(t),s!==0&&(r=s,e=G1(t,s))),e===1))throw n=xp,_c(t,0),za(t,r),fi(t,Gn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ze(345));case 2:tc(t,li,Do);break;case 3:if(za(t,r),(r&130023424)===r&&(e=DT+500-Gn(),10<e)){if(f0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=T1(tc.bind(null,t,li,Do),e);break}tc(t,li,Do);break;case 4:if(za(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Os(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YK(r/1960))-r,10<r){t.timeoutHandle=T1(tc.bind(null,t,li,Do),r);break}tc(t,li,Do);break;case 5:tc(t,li,Do);break;default:throw Error(ze(329))}}}return fi(t,Gn()),t.callbackNode===n?Uk.bind(null,t):null}function G1(t,e){var n=Fh;return t.current.memoizedState.isDehydrated&&(_c(t,e).flags|=256),t=P0(t,e),t!==2&&(e=li,li=n,e!==null&&W1(e)),t}function W1(t){li===null?li=t:li.push.apply(li,t)}function ZK(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function za(t,e){for(e&=~LT,e&=~Py,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Os(e),r=1<<n;t[n]=-1,e&=~r}}function k2(t){if(Qt&6)throw Error(ze(327));bd();var e=f0(t,0);if(!(e&1))return fi(t,Gn()),null;var n=P0(t,e);if(t.tag!==0&&n===2){var r=v1(t);r!==0&&(e=r,n=G1(t,r))}if(n===1)throw n=xp,_c(t,0),za(t,e),fi(t,Gn()),n;if(n===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tc(t,li,Do),fi(t,Gn()),null}function IT(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(Gd=Gn()+500,My&&Cl())}}function Pc(t){Wa!==null&&Wa.tag===0&&!(Qt&6)&&bd();var e=Qt;Qt|=1;var n=as.transition,r=un;try{if(as.transition=null,un=1,t)return t()}finally{un=r,as.transition=n,Qt=e,!(Qt&6)&&Cl()}}function OT(){Ai=cd.current,Cn(cd)}function _c(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CK(n)),Jn!==null)for(n=Jn.return;n!==null;){var r=n;switch(mT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&v0();break;case 3:$d(),Cn(ui),Cn(kr),ET();break;case 5:bT(r);break;case 4:$d();break;case 13:Cn(Ln);break;case 19:Cn(Ln);break;case 10:xT(r.type._context);break;case 22:case 23:OT()}n=n.return}if(hr=t,Jn=t=il(t.current,null),xr=Ai=e,sr=0,xp=null,LT=Py=Rc=0,li=Fh=null,pc!==null){for(e=0;e<pc.length;e++)if(n=pc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}pc=null}return t}function Fk(t,e){do{var n=Jn;try{if(yT(),kv.current=M0,T0){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T0=!1}if(Ac=0,fr=rr=kn=null,kh=!1,gp=0,NT.current=null,n===null||n.return===null){sr=1,xp=e,Jn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=b2(o);if(g!==null){g.flags&=-257,E2(g,o,a,s,e),g.mode&1&&S2(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){S2(s,c,e),kT();break e}l=Error(ze(426))}}else if(Rn&&a.mode&1){var v=b2(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),E2(v,o,a,s,e),gT(Hd(l,a));break e}}s=l=Hd(l,a),sr!==4&&(sr=2),Fh===null?Fh=[s]:Fh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=wk(s,l,e);g2(s,m);break e;case 1:a=l;var S=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(nl===null||!nl.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=Sk(s,a,e);g2(s,T);break e}}s=s.return}while(s!==null)}zk(n)}catch(C){e=C,Jn===n&&n!==null&&(Jn=n=n.return);continue}break}while(!0)}function jk(){var t=C0.current;return C0.current=M0,t===null?M0:t}function kT(){(sr===0||sr===3||sr===2)&&(sr=4),hr===null||!(Rc&268435455)&&!(Py&268435455)||za(hr,xr)}function P0(t,e){var n=Qt;Qt|=2;var r=jk();(hr!==t||xr!==e)&&(Do=null,_c(t,e));do try{JK();break}catch(i){Fk(t,i)}while(!0);if(yT(),Qt=n,C0.current=r,Jn!==null)throw Error(ze(261));return hr=null,xr=0,sr}function JK(){for(;Jn!==null;)Bk(Jn)}function QK(){for(;Jn!==null&&!EX();)Bk(Jn)}function Bk(t){var e=$k(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?zk(t):Jn=e,NT.current=null}function zk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WK(n,e),n!==null){n.flags&=32767,Jn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sr=6,Jn=null;return}}else if(n=GK(n,e,Ai),n!==null){Jn=n;return}if(e=e.sibling,e!==null){Jn=e;return}Jn=e=t}while(e!==null);sr===0&&(sr=5)}function tc(t,e,n){var r=un,i=as.transition;try{as.transition=null,un=1,eq(t,e,n,r)}finally{as.transition=i,un=r}return null}function eq(t,e,n,r){do bd();while(Wa!==null);if(Qt&6)throw Error(ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IX(t,s),t===hr&&(Jn=hr=null,xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lg||(Lg=!0,Hk(d0,function(){return bd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=as.transition,as.transition=null;var o=un;un=1;var a=Qt;Qt|=4,NT.current=null,KK(t,n),Ok(n,t),_K(b1),h0=!!S1,b1=S1=null,t.current=n,qK(n),TX(),Qt=a,un=o,as.transition=s}else t.current=n;if(Lg&&(Lg=!1,Wa=t,R0=i),s=t.pendingLanes,s===0&&(nl=null),AX(n.stateNode),fi(t,Gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(A0)throw A0=!1,t=$1,$1=null,t;return R0&1&&t.tag!==0&&bd(),s=t.pendingLanes,s&1?t===H1?jh++:(jh=0,H1=t):jh=0,Cl(),null}function bd(){if(Wa!==null){var t=w3(R0),e=as.transition,n=un;try{if(as.transition=null,un=16>t?16:t,Wa===null)var r=!1;else{if(t=Wa,Wa=null,R0=0,Qt&6)throw Error(ze(331));var i=Qt;for(Qt|=4,ut=t.current;ut!==null;){var s=ut,o=s.child;if(ut.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ut=c;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Uh(8,d,s)}var f=d.child;if(f!==null)f.return=d,ut=f;else for(;ut!==null;){d=ut;var p=d.sibling,g=d.return;if(Lk(d),d===c){ut=null;break}if(p!==null){p.return=g,ut=p;break}ut=g}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ut=o;else e:for(;ut!==null;){if(s=ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uh(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ut=m;break e}ut=s.return}}var S=t.current;for(ut=S;ut!==null;){o=ut;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ut=E;else e:for(o=S;ut!==null;){if(a=ut,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ry(9,a)}}catch(C){Bn(a,a.return,C)}if(a===o){ut=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ut=T;break e}ut=a.return}}if(Qt=i,Cl(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(wy,t)}catch{}r=!0}return r}finally{un=n,as.transition=e}}return!1}function U2(t,e,n){e=Hd(n,e),e=wk(t,e,1),t=tl(t,e,1),e=Wr(),t!==null&&(em(t,1,e),fi(t,e))}function Bn(t,e,n){if(t.tag===3)U2(t,t,n);else for(;e!==null;){if(e.tag===3){U2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){t=Hd(n,t),t=Sk(e,t,1),e=tl(e,t,1),t=Wr(),e!==null&&(em(e,1,t),fi(e,t));break}}e=e.return}}function tq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(xr&n)===n&&(sr===4||sr===3&&(xr&130023424)===xr&&500>Gn()-DT?_c(t,0):LT|=n),fi(t,e)}function Vk(t,e){e===0&&(t.mode&1?(e=Sg,Sg<<=1,!(Sg&130023424)&&(Sg=4194304)):e=1);var n=Wr();t=Qo(t,e),t!==null&&(em(t,e,n),fi(t,n))}function nq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vk(t,n)}function rq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(e),Vk(t,n)}var $k;$k=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ui.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,HK(t,e,n);ci=!!(t.flags&131072)}else ci=!1,Rn&&e.flags&1048576&&X3(e,_0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fv(t,e),t=e.pendingProps;var i=Bd(e,kr.current);Sd(e,n),i=MT(null,e,r,t,i,n);var s=CT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)?(s=!0,y0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wT(e),i.updater=Ay,e.stateNode=i,i._reactInternals=e,L1(e,r,t,n),e=O1(null,e,r,!0,s,n)):(e.tag=0,Rn&&s&&pT(e),Hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sq(r),t=Ts(r,t),i){case 0:e=I1(null,e,r,t,n);break e;case 1:e=C2(null,e,r,t,n);break e;case 11:e=T2(null,e,r,t,n);break e;case 14:e=M2(null,e,r,Ts(r.type,t),n);break e}throw Error(ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ts(r,i),I1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ts(r,i),C2(t,e,r,i,n);case 3:e:{if(Mk(e),t===null)throw Error(ze(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Q3(t,e),b0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hd(Error(ze(423)),e),e=A2(t,e,r,n,i);break e}else if(r!==i){i=Hd(Error(ze(424)),e),e=A2(t,e,r,n,i);break e}else for(Ii=el(e.stateNode.containerInfo.firstChild),ki=e,Rn=!0,Ps=null,n=Z3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zd(),r===i){e=ea(t,e,n);break e}Hr(t,e,r,n)}e=e.child}return e;case 5:return ek(e),t===null&&R1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,E1(r,i)?o=null:s!==null&&E1(r,s)&&(e.flags|=32),Tk(t,e),Hr(t,e,o,n),e.child;case 6:return t===null&&R1(e),null;case 13:return Ck(t,e,n);case 4:return ST(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vd(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ts(r,i),T2(t,e,r,i,n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:return Hr(t,e,e.pendingProps.children,n),e.child;case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_n(w0,r._currentValue),r._currentValue=o,s!==null)if(Fs(s.value,o)){if(s.children===i.children&&!ui.current){e=ea(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$o(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),P1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ze(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),P1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sd(e,n),i=ls(i),r=r(i),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return r=e.type,i=Ts(r,e.pendingProps),i=Ts(r.type,i),M2(t,e,r,i,n);case 15:return bk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ts(r,i),Fv(t,e),e.tag=1,di(r)?(t=!0,y0(e)):t=!1,Sd(e,n),_k(e,r,i),L1(e,r,i,n),O1(null,e,r,!0,t,n);case 19:return Ak(t,e,n);case 22:return Ek(t,e,n)}throw Error(ze(156,e.tag))};function Hk(t,e){return v3(t,e)}function iq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,e,n,r){return new iq(t,e,n,r)}function UT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sq(t){if(typeof t=="function")return UT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nT)return 11;if(t===rT)return 14}return 2}function il(t,e){var n=t.alternate;return n===null?(n=ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zv(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")UT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qu:return wc(n.children,i,s,e);case tT:o=8,i|=8;break;case n1:return t=ss(12,n,e,i|2),t.elementType=n1,t.lanes=s,t;case r1:return t=ss(13,n,e,i),t.elementType=r1,t.lanes=s,t;case i1:return t=ss(19,n,e,i),t.elementType=i1,t.lanes=s,t;case e3:return Ny(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JO:o=10;break e;case QO:o=9;break e;case nT:o=11;break e;case rT:o=14;break e;case ka:o=16,r=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=ss(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wc(t,e,n,r){return t=ss(7,t,r,e),t.lanes=n,t}function Ny(t,e,n,r){return t=ss(22,t,r,e),t.elementType=e3,t.lanes=n,t.stateNode={isHidden:!1},t}function vw(t,e,n){return t=ss(6,t,null,e),t.lanes=n,t}function yw(t,e,n){return e=ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J_(0),this.expirationTimes=J_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FT(t,e,n,r,i,s,o,a,l){return t=new oq(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wT(s),t}function aq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ju,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gk(t){if(!t)return hl;t=t._reactInternals;e:{if(Hc(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var n=t.type;if(di(n))return G3(t,n,e)}return e}function Wk(t,e,n,r,i,s,o,a,l){return t=FT(n,r,!0,t,i,s,o,a,l),t.context=Gk(null),n=t.current,r=Wr(),i=rl(n),s=$o(r,i),s.callback=e??null,tl(n,s,i),t.current.lanes=i,em(t,i,r),fi(t,r),t}function Ly(t,e,n,r){var i=e.current,s=Wr(),o=rl(i);return n=Gk(n),e.context===null?e.context=n:e.pendingContext=n,e=$o(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tl(i,e,o),t!==null&&(ks(t,i,o,s),Ov(t,i,o)),o}function N0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jT(t,e){F2(t,e),(t=t.alternate)&&F2(t,e)}function lq(){return null}var Xk=typeof reportError=="function"?reportError:function(t){console.error(t)};function BT(t){this._internalRoot=t}Dy.prototype.render=BT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));Ly(t,e,null,null)};Dy.prototype.unmount=BT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pc(function(){Ly(null,t,null,null)}),e[Jo]=null}};function Dy(t){this._internalRoot=t}Dy.prototype.unstable_scheduleHydration=function(t){if(t){var e=E3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ba.length&&e!==0&&e<Ba[n].priority;n++);Ba.splice(n,0,t),n===0&&M3(t)}};function zT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j2(){}function cq(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=N0(o);s.call(c)}}var o=Wk(e,r,t,0,null,!1,!1,"",j2);return t._reactRootContainer=o,t[Jo]=o.current,dp(t.nodeType===8?t.parentNode:t),Pc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=N0(l);a.call(c)}}var l=FT(t,0,!1,null,null,!1,!1,"",j2);return t._reactRootContainer=l,t[Jo]=l.current,dp(t.nodeType===8?t.parentNode:t),Pc(function(){Ly(e,l,n,r)}),l}function Oy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=N0(o);a.call(l)}}Ly(e,o,t,i)}else o=cq(n,e,t,i,r);return N0(o)}S3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_h(e.pendingLanes);n!==0&&(oT(e,n|1),fi(e,Gn()),!(Qt&6)&&(Gd=Gn()+500,Cl()))}break;case 13:Pc(function(){var r=Qo(t,1);if(r!==null){var i=Wr();ks(r,t,1,i)}}),jT(t,1)}};aT=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=Wr();ks(e,t,134217728,n)}jT(t,134217728)}};b3=function(t){if(t.tag===13){var e=rl(t),n=Qo(t,e);if(n!==null){var r=Wr();ks(n,t,e,r)}jT(t,e)}};E3=function(){return un};T3=function(t,e){var n=un;try{return un=t,e()}finally{un=n}};p1=function(t,e,n){switch(e){case"input":if(a1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ty(r);if(!i)throw Error(ze(90));n3(r),a1(r,i)}}}break;case"textarea":i3(t,n);break;case"select":e=n.value,e!=null&&yd(t,!!n.multiple,e,!1)}};d3=IT;f3=Pc;var uq={usingClientEntryPoint:!1,Events:[nm,rd,Ty,c3,u3,IT]},Yf={findFiberByHostInstance:hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dq={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m3(t),t===null?null:t.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||lq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dg.isDisabled&&Dg.supportsFiber)try{wy=Dg.inject(dq),ro=Dg}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uq;Bi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zT(e))throw Error(ze(200));return aq(t,e,null,n)};Bi.createRoot=function(t,e){if(!zT(t))throw Error(ze(299));var n=!1,r="",i=Xk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=FT(t,1,!1,null,null,n,!1,r,i),t[Jo]=e.current,dp(t.nodeType===8?t.parentNode:t),new BT(e)};Bi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=m3(e),t=t===null?null:t.stateNode,t};Bi.flushSync=function(t){return Pc(t)};Bi.hydrate=function(t,e,n){if(!Iy(e))throw Error(ze(200));return Oy(null,t,e,!0,n)};Bi.hydrateRoot=function(t,e,n){if(!zT(t))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Xk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wk(e,null,t,1,n??null,i,!1,s,o),t[Jo]=e.current,dp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dy(e)};Bi.render=function(t,e,n){if(!Iy(e))throw Error(ze(200));return Oy(null,t,e,!1,n)};Bi.unmountComponentAtNode=function(t){if(!Iy(t))throw Error(ze(40));return t._reactRootContainer?(Pc(function(){Oy(null,null,t,!1,function(){t._reactRootContainer=null,t[Jo]=null})}),!0):!1};Bi.unstable_batchedUpdates=IT;Bi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Iy(n))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return Oy(t,e,n,!1,r)};Bi.version="18.3.1-next-f1338f8080-20240426";function Kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kk)}catch(t){console.error(t)}}Kk(),KO.exports=Bi;var fs=KO.exports;const VT=kO(fs),fq=OO({__proto__:null,default:VT},[fs]);var B2=fs;e1.createRoot=B2.createRoot,e1.hydrateRoot=B2.hydrateRoot;const hq={theme:"system",setTheme:()=>null},pq=w.createContext(hq);function mq({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=w.useState(()=>localStorage.getItem(n)||e);w.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return x.jsx(pq.Provider,{...r,value:o,children:t})}const gq="_background_2eqt4_7",vq="_container_2eqt4_16",yq="_deck_2eqt4_26",xq="_card_2eqt4_50",_q="_marquee_2eqt4_55",wq="_marque_2eqt4_55",Sq="_video_2eqt4_78",bq="_title_2eqt4_82",Eq="_reveal_2eqt4_1",Tq="_glow_2eqt4_1",Mq="_subtitle_2eqt4_102",Cq="_textContainer_2eqt4_125",Aq="_come2life_2eqt4_1",Sh={background:gq,container:vq,deck:yq,card:xq,marquee:_q,marque:wq,video:Sq,title:bq,reveal:Eq,glow:Tq,subtitle:Mq,textContainer:Cq,come2life:Aq},Wd="/assets/pristiale-DoxrqsfC.svg",Rq="/assets/augustus-D88YtXf3.mp4";function Pq(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qk(...t){return e=>t.forEach(n=>Pq(n,e))}function tn(...t){return w.useCallback(qk(...t),t)}var pl=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find(Nq);if(s){const o=s.props.children,a=i.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return x.jsx(X1,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return x.jsx(X1,{...r,ref:e,children:n})});pl.displayName="Slot";var X1=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const i=Dq(n);return w.cloneElement(n,{...Lq(r,n.props),ref:e?qk(e,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});X1.displayName="SlotClone";var $T=({children:t})=>x.jsx(x.Fragment,{children:t});function Nq(t){return w.isValidElement(t)&&t.type===$T}function Lq(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Dq(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Yk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Iq(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Yk(t))&&(r&&(r+=" "),r+=e);return r}const z2=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,V2=Iq,im=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return V2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const p=z2(d)||z2(f);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(_=>{let[y,v]=_;return Array.isArray(v)?v.includes({...s,...a}[y]):{...s,...a}[y]===v})?[...c,f,p]:c},[]);return V2(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function Zk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Zk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oq(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Zk(t))&&(r&&(r+=" "),r+=e);return r}const HT="-",kq=t=>{const e=Fq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(HT);return a[0]===""&&a.length!==1&&a.shift(),Jk(a,e)||Uq(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Jk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Jk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(HT);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},$2=/^\[(.+)\]$/,Uq=t=>{if($2.test(t)){const e=$2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Fq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Bq(Object.entries(t.classGroups),n).forEach(([s,o])=>{K1(o,r,s,e)}),r},K1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:H2(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(jq(i)){K1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{K1(o,H2(e,s),n,r)})})},H2=(t,e)=>{let n=t;return e.split(HT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jq=t=>t.isThemeGetter,Bq=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,zq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Qk="!",Vq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let v=0;v<a.length;v++){let m=a[v];if(c===0){if(m===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(d,v)),d=v+s;continue}if(m==="/"){f=v;continue}}m==="["?c++:m==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Qk),_=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},$q=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Hq=t=>({cache:zq(t.cacheSize),parseClassName:Vq(t),...kq(t)}),Gq=/\s+/,Wq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Gq);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let _=!!g,y=r(_?p.substring(0,g):p);if(!y){if(!_){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}_=!1}const v=$q(d).join(":"),m=f?v+Qk:v,S=m+y;if(s.includes(S))continue;s.push(S);const E=i(y,_);for(let T=0;T<E.length;++T){const C=E[T];s.push(m+C)}a=c+(a.length>0?" "+a:a)}return a};function Xq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eU(e))&&(r&&(r+=" "),r+=n);return r}const eU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eU(t[r]))&&(n&&(n+=" "),n+=e);return n};function Kq(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=Hq(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=Wq(l,n);return i(l,d),d}return function(){return s(Xq.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tU=/^\[(?:([a-z-]+):)?(.+)\]$/i,qq=/^\d+\/\d+$/,Yq=new Set(["px","full","screen"]),Zq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eo=t=>Ed(t)||Yq.has(t)||qq.test(t),wa=t=>hf(t,"length",cY),Ed=t=>!!t&&!Number.isNaN(Number(t)),xw=t=>hf(t,"number",Ed),Zf=t=>!!t&&Number.isInteger(Number(t)),nY=t=>t.endsWith("%")&&Ed(t.slice(0,-1)),kt=t=>tU.test(t),Sa=t=>Zq.test(t),rY=new Set(["length","size","percentage"]),iY=t=>hf(t,rY,nU),sY=t=>hf(t,"position",nU),oY=new Set(["image","url"]),aY=t=>hf(t,oY,dY),lY=t=>hf(t,"",uY),Jf=()=>!0,hf=(t,e,n)=>{const r=tU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cY=t=>Jq.test(t)&&!Qq.test(t),nU=()=>!1,uY=t=>eY.test(t),dY=t=>tY.test(t),fY=()=>{const t=bn("colors"),e=bn("spacing"),n=bn("blur"),r=bn("brightness"),i=bn("borderColor"),s=bn("borderRadius"),o=bn("borderSpacing"),a=bn("borderWidth"),l=bn("contrast"),c=bn("grayscale"),d=bn("hueRotate"),f=bn("invert"),p=bn("gap"),g=bn("gradientColorStops"),_=bn("gradientColorStopPositions"),y=bn("inset"),v=bn("margin"),m=bn("opacity"),S=bn("padding"),E=bn("saturate"),T=bn("scale"),C=bn("sepia"),P=bn("skew"),R=bn("space"),A=bn("translate"),L=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",kt,e],V=()=>[kt,e],W=()=>["",Eo,wa],z=()=>["auto",Ed,kt],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",kt],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Ed,kt];return{cacheSize:500,separator:":",theme:{colors:[Jf],spacing:[Eo,wa],blur:["none","",Sa,kt],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Sa,kt],borderSpacing:V(),borderWidth:W(),contrast:ge(),grayscale:J(),hueRotate:ge(),invert:J(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[nY,wa],inset:I(),margin:I(),opacity:ge(),padding:V(),saturate:ge(),scale:ge(),sepia:J(),skew:ge(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[Sa]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),kt]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zf,kt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Zf,kt]}],"grid-cols":[{"grid-cols":[Jf]}],"col-start-end":[{col:["auto",{span:["full",Zf,kt]},kt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Jf]}],"row-start-end":[{row:["auto",{span:[Zf,kt]},kt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[Sa]},Sa]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sa,wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xw]}],"font-family":[{font:[Jf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",Ed,xw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Eo,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Eo,wa]}],"underline-offset":[{"underline-offset":["auto",Eo,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),sY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Eo,kt]}],"outline-w":[{outline:[Eo,wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Eo,wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sa,lY]}],"shadow-color":[{shadow:[Jf]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sa,kt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Zf,kt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Eo,wa,xw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hY=Kq(fY);function Ae(...t){return hY(Oq(t))}const GT=im("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ln=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?pl:"button";return x.jsx(o,{className:Ae(GT({variant:e,size:n,className:t})),ref:s,...i})});ln.displayName="Button";/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const WT="168",Td={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ud={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},pY=0,G2=1,mY=2,rU=1,iU=2,Lo=3,ml=0,hi=1,Uo=2,sl=0,Md=1,W2=2,X2=3,K2=4,gY=5,ac=100,vY=101,yY=102,xY=103,_Y=104,wY=200,SY=201,bY=202,EY=203,q1=204,Y1=205,TY=206,MY=207,CY=208,AY=209,RY=210,PY=211,NY=212,LY=213,DY=214,IY=0,OY=1,kY=2,L0=3,UY=4,FY=5,jY=6,BY=7,XT=0,zY=1,VY=2,ol=0,$Y=1,HY=2,GY=3,sU=4,WY=5,XY=6,KY=7,oU=300,Xd=301,Kd=302,Z1=303,J1=304,ky=306,Q1=1e3,gc=1001,eb=1002,os=1003,qY=1004,Ig=1005,Di=1006,_w=1007,vc=1008,ta=1009,aU=1010,lU=1011,_p=1012,KT=1013,Nc=1014,Bo=1015,sm=1016,qT=1017,YT=1018,qd=1020,cU=35902,uU=1021,dU=1022,Ls=1023,fU=1024,hU=1025,Cd=1026,Yd=1027,pU=1028,ZT=1029,mU=1030,JT=1031,QT=1033,Vv=33776,$v=33777,Hv=33778,Gv=33779,tb=35840,nb=35841,rb=35842,ib=35843,sb=36196,ob=37492,ab=37496,lb=37808,cb=37809,ub=37810,db=37811,fb=37812,hb=37813,pb=37814,mb=37815,gb=37816,vb=37817,yb=37818,xb=37819,_b=37820,wb=37821,Wv=36492,Sb=36494,bb=36495,gU=36283,Eb=36284,Tb=36285,Mb=36286,YY=3200,ZY=3201,vU=0,JY=1,Va="",Cs="srgb",Al="srgb-linear",eM="display-p3",Uy="display-p3-linear",D0="linear",Tn="srgb",I0="rec709",O0="p3",vu=7680,q2=519,QY=512,eZ=513,tZ=514,yU=515,nZ=516,rZ=517,iZ=518,sZ=519,Y2=35044,Z2="300 es",zo=2e3,k0=2001;class Gc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Cr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let J2=1234567;const Bh=Math.PI/180,Zd=180/Math.PI;function pf(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cr[t&255]+Cr[t>>8&255]+Cr[t>>16&255]+Cr[t>>24&255]+"-"+Cr[e&255]+Cr[e>>8&255]+"-"+Cr[e>>16&15|64]+Cr[e>>24&255]+"-"+Cr[n&63|128]+Cr[n>>8&255]+"-"+Cr[n>>16&255]+Cr[n>>24&255]+Cr[r&255]+Cr[r>>8&255]+Cr[r>>16&255]+Cr[r>>24&255]).toLowerCase()}function Lr(t,e,n){return Math.max(e,Math.min(n,t))}function tM(t,e){return(t%e+e)%e}function oZ(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function aZ(t,e,n){return t!==e?(n-t)/(e-t):0}function zh(t,e,n){return(1-n)*t+n*e}function lZ(t,e,n,r){return zh(t,e,1-Math.exp(-n*r))}function cZ(t,e=1){return e-Math.abs(tM(t,e*2)-e)}function uZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function dZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function fZ(t,e){return t+Math.floor(Math.random()*(e-t+1))}function hZ(t,e){return t+Math.random()*(e-t)}function pZ(t){return t*(.5-Math.random())}function mZ(t){t!==void 0&&(J2=t);let e=J2+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gZ(t){return t*Bh}function vZ(t){return t*Zd}function yZ(t){return(t&t-1)===0&&t!==0}function xZ(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function _Z(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function wZ(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),d=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),g=s((r-e)/2),_=o((r-e)/2);switch(i){case"XYX":t.set(a*d,l*f,l*p,a*c);break;case"YZY":t.set(l*p,a*d,l*f,a*c);break;case"ZXZ":t.set(l*f,l*p,a*d,a*c);break;case"XZX":t.set(a*d,l*_,l*g,a*c);break;case"YXY":t.set(l*g,a*d,l*_,a*c);break;case"ZYZ":t.set(l*_,l*g,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ku(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function zr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const SZ={DEG2RAD:Bh,RAD2DEG:Zd,generateUUID:pf,clamp:Lr,euclideanModulo:tM,mapLinear:oZ,inverseLerp:aZ,lerp:zh,damp:lZ,pingpong:cZ,smoothstep:uZ,smootherstep:dZ,randInt:fZ,randFloat:hZ,randFloatSpread:pZ,seededRandom:mZ,degToRad:gZ,radToDeg:vZ,isPowerOfTwo:yZ,ceilPowerOfTwo:xZ,floorPowerOfTwo:_Z,setQuaternionFromProperEuler:wZ,normalize:zr,denormalize:Ku};class Pt{constructor(e=0,n=0){Pt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Lr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jt{constructor(e,n,r,i,s,o,a,l,c){jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=n,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],f=r[7],p=r[2],g=r[5],_=r[8],y=i[0],v=i[3],m=i[6],S=i[1],E=i[4],T=i[7],C=i[2],P=i[5],R=i[8];return s[0]=o*y+a*S+l*C,s[3]=o*v+a*E+l*P,s[6]=o*m+a*T+l*R,s[1]=c*y+d*S+f*C,s[4]=c*v+d*E+f*P,s[7]=c*m+d*T+f*R,s[2]=p*y+g*S+_*C,s[5]=p*v+g*E+_*P,s[8]=p*m+g*T+_*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=d*o-a*c,p=a*l-d*s,g=c*s-o*l,_=n*f+r*p+i*g;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/_;return e[0]=f*y,e[1]=(i*c-d*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(d*n-i*l)*y,e[5]=(i*s-a*n)*y,e[6]=g*y,e[7]=(r*l-c*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(ww.makeScale(e,n)),this}rotate(e){return this.premultiply(ww.makeRotation(-e)),this}translate(e,n){return this.premultiply(ww.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ww=new jt;function xU(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function wp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function bZ(){const t=wp("canvas");return t.style.display="block",t}const Q2={};function Vh(t){t in Q2||(Q2[t]=!0,console.warn(t))}function EZ(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const eN=new jt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),tN=new jt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Qf={[Al]:{transfer:D0,primaries:I0,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[Cs]:{transfer:Tn,primaries:I0,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Uy]:{transfer:D0,primaries:O0,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(tN),fromReference:t=>t.applyMatrix3(eN)},[eM]:{transfer:Tn,primaries:O0,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(tN),fromReference:t=>t.applyMatrix3(eN).convertLinearToSRGB()}},TZ=new Set([Al,Uy]),an={enabled:!0,_workingColorSpace:Al,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!TZ.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Qf[e].toReference,i=Qf[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Qf[t].primaries},getTransfer:function(t){return t===Va?D0:Qf[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(Qf[e].luminanceCoefficients)}};function Ad(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Sw(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let yu;class MZ{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{yu===void 0&&(yu=wp("canvas")),yu.width=e.width,yu.height=e.height;const r=yu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=yu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ad(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ad(n[r]/255)*255):n[r]=Ad(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let CZ=0;class _U{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:CZ++}),this.uuid=pf(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(bw(i[o].image)):s.push(bw(i[o]))}else s=bw(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function bw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?MZ.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let AZ=0;class Xr extends Gc{constructor(e=Xr.DEFAULT_IMAGE,n=Xr.DEFAULT_MAPPING,r=gc,i=gc,s=Di,o=vc,a=Ls,l=ta,c=Xr.DEFAULT_ANISOTROPY,d=Va){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:AZ++}),this.uuid=pf(),this.name="",this.source=new _U(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Pt(0,0),this.repeat=new Pt(1,1),this.center=new Pt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==oU)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Q1:e.x=e.x-Math.floor(e.x);break;case gc:e.x=e.x<0?0:1;break;case eb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Q1:e.y=e.y-Math.floor(e.y);break;case gc:e.y=e.y<0?0:1;break;case eb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Xr.DEFAULT_IMAGE=null;Xr.DEFAULT_MAPPING=oU;Xr.DEFAULT_ANISOTROPY=1;class ir{constructor(e=0,n=0,r=0,i=1){ir.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],d=l[4],f=l[8],p=l[1],g=l[5],_=l[9],y=l[2],v=l[6],m=l[10];if(Math.abs(d-p)<.01&&Math.abs(f-y)<.01&&Math.abs(_-v)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+y)<.1&&Math.abs(_+v)<.1&&Math.abs(c+g+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(c+1)/2,T=(g+1)/2,C=(m+1)/2,P=(d+p)/4,R=(f+y)/4,A=(_+v)/4;return E>T&&E>C?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=P/r,s=R/r):T>C?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=P/i,s=A/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=R/s,i=A/s),this.set(r,i,s,n),this}let S=Math.sqrt((v-_)*(v-_)+(f-y)*(f-y)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(v-_)/S,this.y=(f-y)/S,this.z=(p-d)/S,this.w=Math.acos((c+g+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RZ extends Gc{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new ir(0,0,e,n),this.scissorTest=!1,this.viewport=new ir(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Di,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Xr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new _U(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Lc extends RZ{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class wU extends Xr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=os,this.minFilter=os,this.wrapR=gc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class PZ extends Xr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=os,this.minFilter=os,this.wrapR=gc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Dc{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],f=r[i+3];const p=s[o+0],g=s[o+1],_=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f;return}if(a===1){e[n+0]=p,e[n+1]=g,e[n+2]=_,e[n+3]=y;return}if(f!==y||l!==p||c!==g||d!==_){let v=1-a;const m=l*p+c*g+d*_+f*y,S=m>=0?1:-1,E=1-m*m;if(E>Number.EPSILON){const C=Math.sqrt(E),P=Math.atan2(C,m*S);v=Math.sin(v*P)/C,a=Math.sin(a*P)/C}const T=a*S;if(l=l*v+p*T,c=c*v+g*T,d=d*v+_*T,f=f*v+y*T,v===1-a){const C=1/Math.sqrt(l*l+c*c+d*d+f*f);l*=C,c*=C,d*=C,f*=C}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],f=s[o],p=s[o+1],g=s[o+2],_=s[o+3];return e[n]=a*_+d*f+l*g-c*p,e[n+1]=l*_+d*p+c*f-a*g,e[n+2]=c*_+d*g+a*p-l*f,e[n+3]=d*_-a*f-l*p-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),f=a(s/2),p=l(r/2),g=l(i/2),_=l(s/2);switch(o){case"XYZ":this._x=p*d*f+c*g*_,this._y=c*g*f-p*d*_,this._z=c*d*_+p*g*f,this._w=c*d*f-p*g*_;break;case"YXZ":this._x=p*d*f+c*g*_,this._y=c*g*f-p*d*_,this._z=c*d*_-p*g*f,this._w=c*d*f+p*g*_;break;case"ZXY":this._x=p*d*f-c*g*_,this._y=c*g*f+p*d*_,this._z=c*d*_+p*g*f,this._w=c*d*f-p*g*_;break;case"ZYX":this._x=p*d*f-c*g*_,this._y=c*g*f+p*d*_,this._z=c*d*_-p*g*f,this._w=c*d*f+p*g*_;break;case"YZX":this._x=p*d*f+c*g*_,this._y=c*g*f+p*d*_,this._z=c*d*_-p*g*f,this._w=c*d*f-p*g*_;break;case"XZY":this._x=p*d*f-c*g*_,this._y=c*g*f-p*d*_,this._z=c*d*_+p*g*f,this._w=c*d*f+p*g*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],f=n[10],p=r+a+f;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>f){const g=2*Math.sqrt(1+r-a-f);this._w=(d-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>f){const g=2*Math.sqrt(1+a-r-f);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+f-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Lr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),f=Math.sin((1-n)*d)/c,p=Math.sin(n*d)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,n=0,r=0){fe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(nN.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(nN.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),d=2*(a*n-s*i),f=2*(s*r-o*n);return this.x=n+l*c+o*f-a*d,this.y=r+l*d+a*c-s*f,this.z=i+l*f+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ew.copy(this).projectOnVector(e),this.sub(Ew)}reflect(e){return this.sub(Ew.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Lr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ew=new fe,nN=new Dc;class om{constructor(e=new fe(1/0,1/0,1/0),n=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(_s.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(_s.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=_s.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,_s):_s.fromBufferAttribute(s,o),_s.applyMatrix4(e.matrixWorld),this.expandByPoint(_s);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Og.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Og.copy(r.boundingBox)),Og.applyMatrix4(e.matrixWorld),this.union(Og)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_s),_s.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(eh),kg.subVectors(this.max,eh),xu.subVectors(e.a,eh),_u.subVectors(e.b,eh),wu.subVectors(e.c,eh),ba.subVectors(_u,xu),Ea.subVectors(wu,_u),Gl.subVectors(xu,wu);let n=[0,-ba.z,ba.y,0,-Ea.z,Ea.y,0,-Gl.z,Gl.y,ba.z,0,-ba.x,Ea.z,0,-Ea.x,Gl.z,0,-Gl.x,-ba.y,ba.x,0,-Ea.y,Ea.x,0,-Gl.y,Gl.x,0];return!Tw(n,xu,_u,wu,kg)||(n=[1,0,0,0,1,0,0,0,1],!Tw(n,xu,_u,wu,kg))?!1:(Ug.crossVectors(ba,Ea),n=[Ug.x,Ug.y,Ug.z],Tw(n,xu,_u,wu,kg))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_s).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_s).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(To[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),To[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),To[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),To[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),To[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),To[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),To[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),To[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(To),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const To=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],_s=new fe,Og=new om,xu=new fe,_u=new fe,wu=new fe,ba=new fe,Ea=new fe,Gl=new fe,eh=new fe,kg=new fe,Ug=new fe,Wl=new fe;function Tw(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Wl.fromArray(t,s);const a=i.x*Math.abs(Wl.x)+i.y*Math.abs(Wl.y)+i.z*Math.abs(Wl.z),l=e.dot(Wl),c=n.dot(Wl),d=r.dot(Wl);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const NZ=new om,th=new fe,Mw=new fe;class nM{constructor(e=new fe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):NZ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;th.subVectors(e,this.center);const n=th.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(th,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Mw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(th.copy(e.center).add(Mw)),this.expandByPoint(th.copy(e.center).sub(Mw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Mo=new fe,Cw=new fe,Fg=new fe,Ta=new fe,Aw=new fe,jg=new fe,Rw=new fe;class SU{constructor(e=new fe,n=new fe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Mo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Mo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Mo.copy(this.origin).addScaledVector(this.direction,n),Mo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Cw.copy(e).add(n).multiplyScalar(.5),Fg.copy(n).sub(e).normalize(),Ta.copy(this.origin).sub(Cw);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Fg),a=Ta.dot(this.direction),l=-Ta.dot(Fg),c=Ta.lengthSq(),d=Math.abs(1-o*o);let f,p,g,_;if(d>0)if(f=o*l-a,p=o*a-l,_=s*d,f>=0)if(p>=-_)if(p<=_){const y=1/d;f*=y,p*=y,g=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),g=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),g=-f*f+p*(p+2*l)+c;else p<=-_?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),g=-f*f+p*(p+2*l)+c):p<=_?(f=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),g=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),g=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Cw).addScaledVector(Fg,p),g}intersectSphere(e,n){Mo.subVectors(e.center,this.origin);const r=Mo.dot(this.direction),i=Mo.dot(Mo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Mo)!==null}intersectTriangle(e,n,r,i,s){Aw.subVectors(n,e),jg.subVectors(r,e),Rw.crossVectors(Aw,jg);let o=this.direction.dot(Rw),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ta.subVectors(this.origin,e);const l=a*this.direction.dot(jg.crossVectors(Ta,jg));if(l<0)return null;const c=a*this.direction.dot(Aw.cross(Ta));if(c<0||l+c>o)return null;const d=-a*Ta.dot(Rw);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wn{constructor(e,n,r,i,s,o,a,l,c,d,f,p,g,_,y,v){Wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,d,f,p,g,_,y,v)}set(e,n,r,i,s,o,a,l,c,d,f,p,g,_,y,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=s,m[5]=o,m[9]=a,m[13]=l,m[2]=c,m[6]=d,m[10]=f,m[14]=p,m[3]=g,m[7]=_,m[11]=y,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Su.setFromMatrixColumn(e,0).length(),s=1/Su.setFromMatrixColumn(e,1).length(),o=1/Su.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*d,g=o*f,_=a*d,y=a*f;n[0]=l*d,n[4]=-l*f,n[8]=c,n[1]=g+_*c,n[5]=p-y*c,n[9]=-a*l,n[2]=y-p*c,n[6]=_+g*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*d,g=l*f,_=c*d,y=c*f;n[0]=p+y*a,n[4]=_*a-g,n[8]=o*c,n[1]=o*f,n[5]=o*d,n[9]=-a,n[2]=g*a-_,n[6]=y+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*d,g=l*f,_=c*d,y=c*f;n[0]=p-y*a,n[4]=-o*f,n[8]=_+g*a,n[1]=g+_*a,n[5]=o*d,n[9]=y-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*d,g=o*f,_=a*d,y=a*f;n[0]=l*d,n[4]=_*c-g,n[8]=p*c+y,n[1]=l*f,n[5]=y*c+p,n[9]=g*c-_,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,g=o*c,_=a*l,y=a*c;n[0]=l*d,n[4]=y-p*f,n[8]=_*f+g,n[1]=f,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=g*f+_,n[10]=p-y*f}else if(e.order==="XZY"){const p=o*l,g=o*c,_=a*l,y=a*c;n[0]=l*d,n[4]=-f,n[8]=c*d,n[1]=p*f+y,n[5]=o*d,n[9]=g*f-_,n[2]=_*f-g,n[6]=a*d,n[10]=y*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(LZ,e,DZ)}lookAt(e,n,r){const i=this.elements;return Ti.subVectors(e,n),Ti.lengthSq()===0&&(Ti.z=1),Ti.normalize(),Ma.crossVectors(r,Ti),Ma.lengthSq()===0&&(Math.abs(r.z)===1?Ti.x+=1e-4:Ti.z+=1e-4,Ti.normalize(),Ma.crossVectors(r,Ti)),Ma.normalize(),Bg.crossVectors(Ti,Ma),i[0]=Ma.x,i[4]=Bg.x,i[8]=Ti.x,i[1]=Ma.y,i[5]=Bg.y,i[9]=Ti.y,i[2]=Ma.z,i[6]=Bg.z,i[10]=Ti.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],f=r[5],p=r[9],g=r[13],_=r[2],y=r[6],v=r[10],m=r[14],S=r[3],E=r[7],T=r[11],C=r[15],P=i[0],R=i[4],A=i[8],L=i[12],N=i[1],I=i[5],V=i[9],W=i[13],z=i[2],Q=i[6],q=i[10],se=i[14],B=i[3],J=i[7],ue=i[11],ge=i[15];return s[0]=o*P+a*N+l*z+c*B,s[4]=o*R+a*I+l*Q+c*J,s[8]=o*A+a*V+l*q+c*ue,s[12]=o*L+a*W+l*se+c*ge,s[1]=d*P+f*N+p*z+g*B,s[5]=d*R+f*I+p*Q+g*J,s[9]=d*A+f*V+p*q+g*ue,s[13]=d*L+f*W+p*se+g*ge,s[2]=_*P+y*N+v*z+m*B,s[6]=_*R+y*I+v*Q+m*J,s[10]=_*A+y*V+v*q+m*ue,s[14]=_*L+y*W+v*se+m*ge,s[3]=S*P+E*N+T*z+C*B,s[7]=S*R+E*I+T*Q+C*J,s[11]=S*A+E*V+T*q+C*ue,s[15]=S*L+E*W+T*se+C*ge,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],f=e[6],p=e[10],g=e[14],_=e[3],y=e[7],v=e[11],m=e[15];return _*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*g-r*l*g)+y*(+n*l*g-n*c*p+s*o*p-i*o*g+i*c*d-s*l*d)+v*(+n*c*f-n*a*g-s*o*f+r*o*g+s*a*d-r*c*d)+m*(-i*a*d-n*l*f+n*a*p+i*o*f-r*o*p+r*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],f=e[9],p=e[10],g=e[11],_=e[12],y=e[13],v=e[14],m=e[15],S=f*v*c-y*p*c+y*l*g-a*v*g-f*l*m+a*p*m,E=_*p*c-d*v*c-_*l*g+o*v*g+d*l*m-o*p*m,T=d*y*c-_*f*c+_*a*g-o*y*g-d*a*m+o*f*m,C=_*f*l-d*y*l-_*a*p+o*y*p+d*a*v-o*f*v,P=n*S+r*E+i*T+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=S*R,e[1]=(y*p*s-f*v*s-y*i*g+r*v*g+f*i*m-r*p*m)*R,e[2]=(a*v*s-y*l*s+y*i*c-r*v*c-a*i*m+r*l*m)*R,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*g-r*l*g)*R,e[4]=E*R,e[5]=(d*v*s-_*p*s+_*i*g-n*v*g-d*i*m+n*p*m)*R,e[6]=(_*l*s-o*v*s-_*i*c+n*v*c+o*i*m-n*l*m)*R,e[7]=(o*p*s-d*l*s+d*i*c-n*p*c-o*i*g+n*l*g)*R,e[8]=T*R,e[9]=(_*f*s-d*y*s-_*r*g+n*y*g+d*r*m-n*f*m)*R,e[10]=(o*y*s-_*a*s+_*r*c-n*y*c-o*r*m+n*a*m)*R,e[11]=(d*a*s-o*f*s-d*r*c+n*f*c+o*r*g-n*a*g)*R,e[12]=C*R,e[13]=(d*y*i-_*f*i+_*r*p-n*y*p-d*r*v+n*f*v)*R,e[14]=(_*a*i-o*y*i-_*r*l+n*y*l+o*r*v-n*a*v)*R,e[15]=(o*f*i-d*a*i+d*r*l-n*f*l-o*r*p+n*a*p)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,d=o+o,f=a+a,p=s*c,g=s*d,_=s*f,y=o*d,v=o*f,m=a*f,S=l*c,E=l*d,T=l*f,C=r.x,P=r.y,R=r.z;return i[0]=(1-(y+m))*C,i[1]=(g+T)*C,i[2]=(_-E)*C,i[3]=0,i[4]=(g-T)*P,i[5]=(1-(p+m))*P,i[6]=(v+S)*P,i[7]=0,i[8]=(_+E)*R,i[9]=(v-S)*R,i[10]=(1-(p+y))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Su.set(i[0],i[1],i[2]).length();const o=Su.set(i[4],i[5],i[6]).length(),a=Su.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ws.copy(this);const c=1/s,d=1/o,f=1/a;return ws.elements[0]*=c,ws.elements[1]*=c,ws.elements[2]*=c,ws.elements[4]*=d,ws.elements[5]*=d,ws.elements[6]*=d,ws.elements[8]*=f,ws.elements[9]*=f,ws.elements[10]*=f,n.setFromRotationMatrix(ws),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=zo){const l=this.elements,c=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),p=(r+i)/(r-i);let g,_;if(a===zo)g=-(o+s)/(o-s),_=-2*o*s/(o-s);else if(a===k0)g=-o/(o-s),_=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=zo){const l=this.elements,c=1/(n-e),d=1/(r-i),f=1/(o-s),p=(n+e)*c,g=(r+i)*d;let _,y;if(a===zo)_=(o+s)*f,y=-2*f;else if(a===k0)_=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=y,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Su=new fe,ws=new Wn,LZ=new fe(0,0,0),DZ=new fe(1,1,1),Ma=new fe,Bg=new fe,Ti=new fe,rN=new Wn,iN=new Dc;class lo{constructor(e=0,n=0,r=0,i=lo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],f=i[2],p=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Lr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Lr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Lr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Lr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Lr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Lr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return rN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rN,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return iN.setFromEuler(this),this.setFromQuaternion(iN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lo.DEFAULT_ORDER="XYZ";class bU{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let IZ=0;const sN=new fe,bu=new Dc,Co=new Wn,zg=new fe,nh=new fe,OZ=new fe,kZ=new Dc,oN=new fe(1,0,0),aN=new fe(0,1,0),lN=new fe(0,0,1),cN={type:"added"},UZ={type:"removed"},Eu={type:"childadded",child:null},Pw={type:"childremoved",child:null};class _r extends Gc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:IZ++}),this.uuid=pf(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_r.DEFAULT_UP.clone();const e=new fe,n=new lo,r=new Dc,i=new fe(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wn},normalMatrix:{value:new jt}}),this.matrix=new Wn,this.matrixWorld=new Wn,this.matrixAutoUpdate=_r.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=_r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new bU,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return bu.setFromAxisAngle(e,n),this.quaternion.multiply(bu),this}rotateOnWorldAxis(e,n){return bu.setFromAxisAngle(e,n),this.quaternion.premultiply(bu),this}rotateX(e){return this.rotateOnAxis(oN,e)}rotateY(e){return this.rotateOnAxis(aN,e)}rotateZ(e){return this.rotateOnAxis(lN,e)}translateOnAxis(e,n){return sN.copy(e).applyQuaternion(this.quaternion),this.position.add(sN.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(oN,e)}translateY(e){return this.translateOnAxis(aN,e)}translateZ(e){return this.translateOnAxis(lN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Co.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?zg.copy(e):zg.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),nh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Co.lookAt(nh,zg,this.up):Co.lookAt(zg,nh,this.up),this.quaternion.setFromRotationMatrix(Co),i&&(Co.extractRotation(i.matrixWorld),bu.setFromRotationMatrix(Co),this.quaternion.premultiply(bu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(cN),Eu.child=e,this.dispatchEvent(Eu),Eu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(UZ),Pw.child=e,this.dispatchEvent(Pw),Pw.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Co.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Co.multiply(e.parent.matrixWorld)),e.applyMatrix4(Co),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(cN),Eu.child=e,this.dispatchEvent(Eu),Eu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nh,e,OZ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nh,kZ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),f=o(e.shapes),p=o(e.skeletons),g=o(e.animations),_=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),_.length>0&&(r.nodes=_)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}_r.DEFAULT_UP=new fe(0,1,0);_r.DEFAULT_MATRIX_AUTO_UPDATE=!0;_r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ss=new fe,Ao=new fe,Nw=new fe,Ro=new fe,Tu=new fe,Mu=new fe,uN=new fe,Lw=new fe,Dw=new fe,Iw=new fe;class eo{constructor(e=new fe,n=new fe,r=new fe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ss.subVectors(e,n),i.cross(Ss);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Ss.subVectors(i,n),Ao.subVectors(r,n),Nw.subVectors(e,n);const o=Ss.dot(Ss),a=Ss.dot(Ao),l=Ss.dot(Nw),c=Ao.dot(Ao),d=Ao.dot(Nw),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,g=(c*l-a*d)*p,_=(o*d-a*l)*p;return s.set(1-g-_,_,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ro)===null?!1:Ro.x>=0&&Ro.y>=0&&Ro.x+Ro.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Ro)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ro.x),l.addScaledVector(o,Ro.y),l.addScaledVector(a,Ro.z),l)}static isFrontFacing(e,n,r,i){return Ss.subVectors(r,n),Ao.subVectors(e,n),Ss.cross(Ao).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ss.subVectors(this.c,this.b),Ao.subVectors(this.a,this.b),Ss.cross(Ao).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return eo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return eo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return eo.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return eo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return eo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Tu.subVectors(i,r),Mu.subVectors(s,r),Lw.subVectors(e,r);const l=Tu.dot(Lw),c=Mu.dot(Lw);if(l<=0&&c<=0)return n.copy(r);Dw.subVectors(e,i);const d=Tu.dot(Dw),f=Mu.dot(Dw);if(d>=0&&f<=d)return n.copy(i);const p=l*f-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(r).addScaledVector(Tu,o);Iw.subVectors(e,s);const g=Tu.dot(Iw),_=Mu.dot(Iw);if(_>=0&&g<=_)return n.copy(s);const y=g*c-l*_;if(y<=0&&c>=0&&_<=0)return a=c/(c-_),n.copy(r).addScaledVector(Mu,a);const v=d*_-g*f;if(v<=0&&f-d>=0&&g-_>=0)return uN.subVectors(s,i),a=(f-d)/(f-d+(g-_)),n.copy(i).addScaledVector(uN,a);const m=1/(v+y+p);return o=y*m,a=p*m,n.copy(r).addScaledVector(Tu,o).addScaledVector(Mu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const EU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ca={h:0,s:0,l:0},Vg={h:0,s:0,l:0};function Ow(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Jt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Cs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,an.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=an.workingColorSpace){return this.r=e,this.g=n,this.b=r,an.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=an.workingColorSpace){if(e=tM(e,1),n=Lr(n,0,1),r=Lr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=Ow(o,s,e+1/3),this.g=Ow(o,s,e),this.b=Ow(o,s,e-1/3)}return an.toWorkingColorSpace(this,i),this}setStyle(e,n=Cs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Cs){const r=EU[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ad(e.r),this.g=Ad(e.g),this.b=Ad(e.b),this}copyLinearToSRGB(e){return this.r=Sw(e.r),this.g=Sw(e.g),this.b=Sw(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Cs){return an.fromWorkingColorSpace(Ar.copy(this),e),Math.round(Lr(Ar.r*255,0,255))*65536+Math.round(Lr(Ar.g*255,0,255))*256+Math.round(Lr(Ar.b*255,0,255))}getHexString(e=Cs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=an.workingColorSpace){an.fromWorkingColorSpace(Ar.copy(this),n);const r=Ar.r,i=Ar.g,s=Ar.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=d<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=an.workingColorSpace){return an.fromWorkingColorSpace(Ar.copy(this),n),e.r=Ar.r,e.g=Ar.g,e.b=Ar.b,e}getStyle(e=Cs){an.fromWorkingColorSpace(Ar.copy(this),e);const n=Ar.r,r=Ar.g,i=Ar.b;return e!==Cs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ca),this.setHSL(Ca.h+e,Ca.s+n,Ca.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ca),e.getHSL(Vg);const r=zh(Ca.h,Vg.h,n),i=zh(Ca.s,Vg.s,n),s=zh(Ca.l,Vg.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ar=new Jt;Jt.NAMES=EU;let FZ=0;class am extends Gc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:FZ++}),this.uuid=pf(),this.name="",this.type="Material",this.blending=Md,this.side=ml,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=q1,this.blendDst=Y1,this.blendEquation=ac,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jt(0,0,0),this.blendAlpha=0,this.depthFunc=L0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=q2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=vu,this.stencilZFail=vu,this.stencilZPass=vu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Md&&(r.blending=this.blending),this.side!==ml&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==q1&&(r.blendSrc=this.blendSrc),this.blendDst!==Y1&&(r.blendDst=this.blendDst),this.blendEquation!==ac&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==L0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==q2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==vu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==vu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==vu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class TU extends am{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new lo,this.combine=XT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const qn=new fe,$g=new Pt;class so{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Y2,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Bo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Vh("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)$g.fromBufferAttribute(this,n),$g.applyMatrix3(e),this.setXY(n,$g.x,$g.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)qn.fromBufferAttribute(this,n),qn.applyMatrix3(e),this.setXYZ(n,qn.x,qn.y,qn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)qn.fromBufferAttribute(this,n),qn.applyMatrix4(e),this.setXYZ(n,qn.x,qn.y,qn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)qn.fromBufferAttribute(this,n),qn.applyNormalMatrix(e),this.setXYZ(n,qn.x,qn.y,qn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)qn.fromBufferAttribute(this,n),qn.transformDirection(e),this.setXYZ(n,qn.x,qn.y,qn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ku(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=zr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ku(n,this.array)),n}setX(e,n){return this.normalized&&(n=zr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ku(n,this.array)),n}setY(e,n){return this.normalized&&(n=zr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ku(n,this.array)),n}setZ(e,n){return this.normalized&&(n=zr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ku(n,this.array)),n}setW(e,n){return this.normalized&&(n=zr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=zr(n,this.array),r=zr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=zr(n,this.array),r=zr(r,this.array),i=zr(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=zr(n,this.array),r=zr(r,this.array),i=zr(i,this.array),s=zr(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Y2&&(e.usage=this.usage),e}}class MU extends so{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class CU extends so{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class oi extends so{constructor(e,n,r){super(new Float32Array(e),n,r)}}let jZ=0;const Yi=new Wn,kw=new _r,Cu=new fe,Mi=new om,rh=new om,ur=new fe;class Rl extends Gc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jZ++}),this.uuid=pf(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xU(e)?CU:MU)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new jt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yi.makeRotationFromQuaternion(e),this.applyMatrix4(Yi),this}rotateX(e){return Yi.makeRotationX(e),this.applyMatrix4(Yi),this}rotateY(e){return Yi.makeRotationY(e),this.applyMatrix4(Yi),this}rotateZ(e){return Yi.makeRotationZ(e),this.applyMatrix4(Yi),this}translate(e,n,r){return Yi.makeTranslation(e,n,r),this.applyMatrix4(Yi),this}scale(e,n,r){return Yi.makeScale(e,n,r),this.applyMatrix4(Yi),this}lookAt(e){return kw.lookAt(e),kw.updateMatrix(),this.applyMatrix4(kw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cu).negate(),this.translate(Cu.x,Cu.y,Cu.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new oi(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new om);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Mi.setFromBufferAttribute(s),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,Mi.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,Mi.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(Mi.min),this.boundingBox.expandByPoint(Mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nM);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new fe,1/0);return}if(e){const r=this.boundingSphere.center;if(Mi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];rh.setFromBufferAttribute(a),this.morphTargetsRelative?(ur.addVectors(Mi.min,rh.min),Mi.expandByPoint(ur),ur.addVectors(Mi.max,rh.max),Mi.expandByPoint(ur)):(Mi.expandByPoint(rh.min),Mi.expandByPoint(rh.max))}Mi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ur.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ur));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)ur.fromBufferAttribute(a,c),l&&(Cu.fromBufferAttribute(e,c),ur.add(Cu)),i=Math.max(i,r.distanceToSquared(ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new so(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let A=0;A<r.count;A++)a[A]=new fe,l[A]=new fe;const c=new fe,d=new fe,f=new fe,p=new Pt,g=new Pt,_=new Pt,y=new fe,v=new fe;function m(A,L,N){c.fromBufferAttribute(r,A),d.fromBufferAttribute(r,L),f.fromBufferAttribute(r,N),p.fromBufferAttribute(s,A),g.fromBufferAttribute(s,L),_.fromBufferAttribute(s,N),d.sub(c),f.sub(c),g.sub(p),_.sub(p);const I=1/(g.x*_.y-_.x*g.y);isFinite(I)&&(y.copy(d).multiplyScalar(_.y).addScaledVector(f,-g.y).multiplyScalar(I),v.copy(f).multiplyScalar(g.x).addScaledVector(d,-_.x).multiplyScalar(I),a[A].add(y),a[L].add(y),a[N].add(y),l[A].add(v),l[L].add(v),l[N].add(v))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let A=0,L=S.length;A<L;++A){const N=S[A],I=N.start,V=N.count;for(let W=I,z=I+V;W<z;W+=3)m(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const E=new fe,T=new fe,C=new fe,P=new fe;function R(A){C.fromBufferAttribute(i,A),P.copy(C);const L=a[A];E.copy(L),E.sub(C.multiplyScalar(C.dot(L))).normalize(),T.crossVectors(P,L);const I=T.dot(l[A])<0?-1:1;o.setXYZW(A,E.x,E.y,E.z,I)}for(let A=0,L=S.length;A<L;++A){const N=S[A],I=N.start,V=N.count;for(let W=I,z=I+V;W<z;W+=3)R(e.getX(W+0)),R(e.getX(W+1)),R(e.getX(W+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new so(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new fe,s=new fe,o=new fe,a=new fe,l=new fe,c=new fe,d=new fe,f=new fe;if(e)for(let p=0,g=e.count;p<g;p+=3){const _=e.getX(p+0),y=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(n,_),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,v),d.subVectors(o,s),f.subVectors(i,s),d.cross(f),a.fromBufferAttribute(r,_),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,v),a.add(d),l.add(d),c.add(d),r.setXYZ(_,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,g=n.count;p<g;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),d.subVectors(o,s),f.subVectors(i,s),d.cross(f),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ur.fromBufferAttribute(e,n),ur.normalize(),e.setXYZ(n,ur.x,ur.y,ur.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,f=a.normalized,p=new c.constructor(l.length*d);let g=0,_=0;for(let y=0,v=l.length;y<v;y++){a.isInterleavedBufferAttribute?g=l[y]*a.data.stride+a.offset:g=l[y]*d;for(let m=0;m<d;m++)p[_++]=c[g++]}return new so(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Rl,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,f=c.length;d<f;d++){const p=c[d],g=e(p,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let f=0,p=c.length;f<p;f++){const g=c[f];d.push(g.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],f=s[c];for(let p=0,g=f.length;p<g;p++)d.push(f[p].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const dN=new Wn,Xl=new SU,Hg=new nM,fN=new fe,Au=new fe,Ru=new fe,Pu=new fe,Uw=new fe,Gg=new fe,Wg=new Pt,Xg=new Pt,Kg=new Pt,hN=new fe,pN=new fe,mN=new fe,qg=new fe,Yg=new fe;class Ds extends _r{constructor(e=new Rl,n=new TU){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){Gg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],f=s[l];d!==0&&(Uw.fromBufferAttribute(f,e),o?Gg.addScaledVector(Uw,d):Gg.addScaledVector(Uw.sub(n),d))}n.add(Gg)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Hg.copy(r.boundingSphere),Hg.applyMatrix4(s),Xl.copy(e.ray).recast(e.near),!(Hg.containsPoint(Xl.origin)===!1&&(Xl.intersectSphere(Hg,fN)===null||Xl.origin.distanceToSquared(fN)>(e.far-e.near)**2))&&(dN.copy(s).invert(),Xl.copy(e.ray).applyMatrix4(dN),!(r.boundingBox!==null&&Xl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Xl)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,p=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let _=0,y=p.length;_<y;_++){const v=p[_],m=o[v.materialIndex],S=Math.max(v.start,g.start),E=Math.min(a.count,Math.min(v.start+v.count,g.start+g.count));for(let T=S,C=E;T<C;T+=3){const P=a.getX(T),R=a.getX(T+1),A=a.getX(T+2);i=Zg(this,m,e,r,c,d,f,P,R,A),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const _=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let v=_,m=y;v<m;v+=3){const S=a.getX(v),E=a.getX(v+1),T=a.getX(v+2);i=Zg(this,o,e,r,c,d,f,S,E,T),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let _=0,y=p.length;_<y;_++){const v=p[_],m=o[v.materialIndex],S=Math.max(v.start,g.start),E=Math.min(l.count,Math.min(v.start+v.count,g.start+g.count));for(let T=S,C=E;T<C;T+=3){const P=T,R=T+1,A=T+2;i=Zg(this,m,e,r,c,d,f,P,R,A),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const _=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let v=_,m=y;v<m;v+=3){const S=v,E=v+1,T=v+2;i=Zg(this,o,e,r,c,d,f,S,E,T),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function BZ(t,e,n,r,i,s,o,a){let l;if(e.side===hi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ml,a),l===null)return null;Yg.copy(a),Yg.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Yg);return c<n.near||c>n.far?null:{distance:c,point:Yg.clone(),object:t}}function Zg(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,Au),t.getVertexPosition(l,Ru),t.getVertexPosition(c,Pu);const d=BZ(t,e,n,r,Au,Ru,Pu,qg);if(d){i&&(Wg.fromBufferAttribute(i,a),Xg.fromBufferAttribute(i,l),Kg.fromBufferAttribute(i,c),d.uv=eo.getInterpolation(qg,Au,Ru,Pu,Wg,Xg,Kg,new Pt)),s&&(Wg.fromBufferAttribute(s,a),Xg.fromBufferAttribute(s,l),Kg.fromBufferAttribute(s,c),d.uv1=eo.getInterpolation(qg,Au,Ru,Pu,Wg,Xg,Kg,new Pt)),o&&(hN.fromBufferAttribute(o,a),pN.fromBufferAttribute(o,l),mN.fromBufferAttribute(o,c),d.normal=eo.getInterpolation(qg,Au,Ru,Pu,hN,pN,mN,new fe),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new fe,materialIndex:0};eo.getNormal(Au,Ru,Pu,f.normal),d.face=f}return d}class lm extends Rl{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],f=[];let p=0,g=0;_("z","y","x",-1,-1,r,n,e,o,s,0),_("z","y","x",1,-1,r,n,-e,o,s,1),_("x","z","y",1,1,e,r,n,i,o,2),_("x","z","y",1,-1,e,r,-n,i,o,3),_("x","y","z",1,-1,e,n,r,i,s,4),_("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new oi(c,3)),this.setAttribute("normal",new oi(d,3)),this.setAttribute("uv",new oi(f,2));function _(y,v,m,S,E,T,C,P,R,A,L){const N=T/R,I=C/A,V=T/2,W=C/2,z=P/2,Q=R+1,q=A+1;let se=0,B=0;const J=new fe;for(let ue=0;ue<q;ue++){const ge=ue*I-W;for(let oe=0;oe<Q;oe++){const Re=oe*N-V;J[y]=Re*S,J[v]=ge*E,J[m]=z,c.push(J.x,J.y,J.z),J[y]=0,J[v]=0,J[m]=P>0?1:-1,d.push(J.x,J.y,J.z),f.push(oe/R),f.push(1-ue/A),se+=1}}for(let ue=0;ue<A;ue++)for(let ge=0;ge<R;ge++){const oe=p+ge+Q*ue,Re=p+ge+Q*(ue+1),X=p+(ge+1)+Q*(ue+1),ce=p+(ge+1)+Q*ue;l.push(oe,Re,ce),l.push(Re,X,ce),B+=6}a.addGroup(g,B,L),g+=B,p+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Jd(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Vr(t){const e={};for(let n=0;n<t.length;n++){const r=Jd(t[n]);for(const i in r)e[i]=r[i]}return e}function zZ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function AU(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:an.workingColorSpace}const VZ={clone:Jd,merge:Vr};var $Z=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class gl extends am{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$Z,this.fragmentShader=HZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jd(e.uniforms),this.uniformsGroups=zZ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class RU extends _r{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wn,this.projectionMatrix=new Wn,this.projectionMatrixInverse=new Wn,this.coordinateSystem=zo}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Aa=new fe,gN=new Pt,vN=new Pt;class Ni extends RU{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Zd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zd*2*Math.atan(Math.tan(Bh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Aa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Aa.x,Aa.y).multiplyScalar(-e/Aa.z),Aa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Aa.x,Aa.y).multiplyScalar(-e/Aa.z)}getViewSize(e,n){return this.getViewBounds(e,gN,vN),n.subVectors(vN,gN)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Bh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Nu=-90,Lu=1;class GZ extends _r{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ni(Nu,Lu,e,n);i.layers=this.layers,this.add(i);const s=new Ni(Nu,Lu,e,n);s.layers=this.layers,this.add(s);const o=new Ni(Nu,Lu,e,n);o.layers=this.layers,this.add(o);const a=new Ni(Nu,Lu,e,n);a.layers=this.layers,this.add(a);const l=new Ni(Nu,Lu,e,n);l.layers=this.layers,this.add(l);const c=new Ni(Nu,Lu,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===zo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===k0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,p,g),e.xr.enabled=_,r.texture.needsPMREMUpdate=!0}}class PU extends Xr{constructor(e,n,r,i,s,o,a,l,c,d){e=e!==void 0?e:[],n=n!==void 0?n:Xd,super(e,n,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WZ extends Lc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new PU(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Di}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new lm(5,5,5),s=new gl({name:"CubemapFromEquirect",uniforms:Jd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:hi,blending:sl});s.uniforms.tEquirect.value=n;const o=new Ds(i,s),a=n.minFilter;return n.minFilter===vc&&(n.minFilter=Di),new GZ(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const Fw=new fe,XZ=new fe,KZ=new jt;class Fa{constructor(e=new fe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Fw.subVectors(r,n).cross(XZ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Fw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||KZ.getNormalMatrix(e),i=this.coplanarPoint(Fw).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kl=new nM,Jg=new fe;class rM{constructor(e=new Fa,n=new Fa,r=new Fa,i=new Fa,s=new Fa,o=new Fa){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=zo){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],d=i[5],f=i[6],p=i[7],g=i[8],_=i[9],y=i[10],v=i[11],m=i[12],S=i[13],E=i[14],T=i[15];if(r[0].setComponents(l-s,p-c,v-g,T-m).normalize(),r[1].setComponents(l+s,p+c,v+g,T+m).normalize(),r[2].setComponents(l+o,p+d,v+_,T+S).normalize(),r[3].setComponents(l-o,p-d,v-_,T-S).normalize(),r[4].setComponents(l-a,p-f,v-y,T-E).normalize(),n===zo)r[5].setComponents(l+a,p+f,v+y,T+E).normalize();else if(n===k0)r[5].setComponents(a,f,y,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Kl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Kl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Kl)}intersectsSprite(e){return Kl.center.set(0,0,0),Kl.radius=.7071067811865476,Kl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kl)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Jg.x=i.normal.x>0?e.max.x:e.min.x,Jg.y=i.normal.y>0?e.max.y:e.min.y,Jg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Jg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function NU(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function qZ(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,f=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,d),a.onUploadCallback();let g;if(c instanceof Float32Array)g=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=t.SHORT;else if(c instanceof Uint32Array)g=t.UNSIGNED_INT;else if(c instanceof Int32Array)g=t.INT;else if(c instanceof Int8Array)g=t.BYTE;else if(c instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:f}}function r(a,l,c){const d=l.array,f=l._updateRange,p=l.updateRanges;if(t.bindBuffer(c,a),f.count===-1&&p.length===0&&t.bufferSubData(c,0,d),p.length!==0){for(let g=0,_=p.length;g<_;g++){const y=p[g];t.bufferSubData(c,y.start*d.BYTES_PER_ELEMENT,d,y.start,y.count)}l.clearUpdateRanges()}f.count!==-1&&(t.bufferSubData(c,f.offset*d.BYTES_PER_ELEMENT,d,f.offset,f.count),f.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}class cm extends Rl{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,f=e/a,p=n/l,g=[],_=[],y=[],v=[];for(let m=0;m<d;m++){const S=m*p-o;for(let E=0;E<c;E++){const T=E*f-s;_.push(T,-S,0),y.push(0,0,1),v.push(E/a),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let S=0;S<a;S++){const E=S+c*m,T=S+c*(m+1),C=S+1+c*(m+1),P=S+1+c*m;g.push(E,T,P),g.push(T,C,P)}this.setIndex(g),this.setAttribute("position",new oi(_,3)),this.setAttribute("normal",new oi(y,3)),this.setAttribute("uv",new oi(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cm(e.width,e.height,e.widthSegments,e.heightSegments)}}var YZ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ZZ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,JZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,QZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eJ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,tJ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iJ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,sJ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,oJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,aJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uJ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,dJ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,fJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pJ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mJ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,vJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,yJ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,xJ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,_J=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,wJ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,SJ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bJ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,EJ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,TJ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,MJ="gl_FragColor = linearToOutputTexel( gl_FragColor );",CJ=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,AJ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,RJ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,PJ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,NJ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,LJ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DJ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IJ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,OJ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kJ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,UJ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,FJ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jJ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,BJ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,zJ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,VJ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,$J=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,HJ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,GJ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,WJ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,XJ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,KJ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qJ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,YJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ZJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,JJ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,QJ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,eQ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tQ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,sQ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,aQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lQ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,cQ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,uQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,dQ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,fQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,pQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,_Q=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,wQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,SQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,bQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,EQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,TQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,MQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,CQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,AQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,RQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,PQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,LQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,DQ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,IQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,OQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,kQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,UQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,FQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,BQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,zQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$Q=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,HQ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,GQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,WQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,XQ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,KQ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qQ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,YQ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JQ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QQ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ree=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,see=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,oee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,uee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fee=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_ee=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,See=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Eee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cee=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Aee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ft={alphahash_fragment:YZ,alphahash_pars_fragment:ZZ,alphamap_fragment:JZ,alphamap_pars_fragment:QZ,alphatest_fragment:eJ,alphatest_pars_fragment:tJ,aomap_fragment:nJ,aomap_pars_fragment:rJ,batching_pars_vertex:iJ,batching_vertex:sJ,begin_vertex:oJ,beginnormal_vertex:aJ,bsdfs:lJ,iridescence_fragment:cJ,bumpmap_pars_fragment:uJ,clipping_planes_fragment:dJ,clipping_planes_pars_fragment:fJ,clipping_planes_pars_vertex:hJ,clipping_planes_vertex:pJ,color_fragment:mJ,color_pars_fragment:gJ,color_pars_vertex:vJ,color_vertex:yJ,common:xJ,cube_uv_reflection_fragment:_J,defaultnormal_vertex:wJ,displacementmap_pars_vertex:SJ,displacementmap_vertex:bJ,emissivemap_fragment:EJ,emissivemap_pars_fragment:TJ,colorspace_fragment:MJ,colorspace_pars_fragment:CJ,envmap_fragment:AJ,envmap_common_pars_fragment:RJ,envmap_pars_fragment:PJ,envmap_pars_vertex:NJ,envmap_physical_pars_fragment:VJ,envmap_vertex:LJ,fog_vertex:DJ,fog_pars_vertex:IJ,fog_fragment:OJ,fog_pars_fragment:kJ,gradientmap_pars_fragment:UJ,lightmap_pars_fragment:FJ,lights_lambert_fragment:jJ,lights_lambert_pars_fragment:BJ,lights_pars_begin:zJ,lights_toon_fragment:$J,lights_toon_pars_fragment:HJ,lights_phong_fragment:GJ,lights_phong_pars_fragment:WJ,lights_physical_fragment:XJ,lights_physical_pars_fragment:KJ,lights_fragment_begin:qJ,lights_fragment_maps:YJ,lights_fragment_end:ZJ,logdepthbuf_fragment:JJ,logdepthbuf_pars_fragment:QJ,logdepthbuf_pars_vertex:eQ,logdepthbuf_vertex:tQ,map_fragment:nQ,map_pars_fragment:rQ,map_particle_fragment:iQ,map_particle_pars_fragment:sQ,metalnessmap_fragment:oQ,metalnessmap_pars_fragment:aQ,morphinstance_vertex:lQ,morphcolor_vertex:cQ,morphnormal_vertex:uQ,morphtarget_pars_vertex:dQ,morphtarget_vertex:fQ,normal_fragment_begin:hQ,normal_fragment_maps:pQ,normal_pars_fragment:mQ,normal_pars_vertex:gQ,normal_vertex:vQ,normalmap_pars_fragment:yQ,clearcoat_normal_fragment_begin:xQ,clearcoat_normal_fragment_maps:_Q,clearcoat_pars_fragment:wQ,iridescence_pars_fragment:SQ,opaque_fragment:bQ,packing:EQ,premultiplied_alpha_fragment:TQ,project_vertex:MQ,dithering_fragment:CQ,dithering_pars_fragment:AQ,roughnessmap_fragment:RQ,roughnessmap_pars_fragment:PQ,shadowmap_pars_fragment:NQ,shadowmap_pars_vertex:LQ,shadowmap_vertex:DQ,shadowmask_pars_fragment:IQ,skinbase_vertex:OQ,skinning_pars_vertex:kQ,skinning_vertex:UQ,skinnormal_vertex:FQ,specularmap_fragment:jQ,specularmap_pars_fragment:BQ,tonemapping_fragment:zQ,tonemapping_pars_fragment:VQ,transmission_fragment:$Q,transmission_pars_fragment:HQ,uv_pars_fragment:GQ,uv_pars_vertex:WQ,uv_vertex:XQ,worldpos_vertex:KQ,background_vert:qQ,background_frag:YQ,backgroundCube_vert:ZQ,backgroundCube_frag:JQ,cube_vert:QQ,cube_frag:eee,depth_vert:tee,depth_frag:nee,distanceRGBA_vert:ree,distanceRGBA_frag:iee,equirect_vert:see,equirect_frag:oee,linedashed_vert:aee,linedashed_frag:lee,meshbasic_vert:cee,meshbasic_frag:uee,meshlambert_vert:dee,meshlambert_frag:fee,meshmatcap_vert:hee,meshmatcap_frag:pee,meshnormal_vert:mee,meshnormal_frag:gee,meshphong_vert:vee,meshphong_frag:yee,meshphysical_vert:xee,meshphysical_frag:_ee,meshtoon_vert:wee,meshtoon_frag:See,points_vert:bee,points_frag:Eee,shadow_vert:Tee,shadow_frag:Mee,sprite_vert:Cee,sprite_frag:Aee},et={common:{diffuse:{value:new Jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jt}},envmap:{envMap:{value:null},envMapRotation:{value:new jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jt},normalScale:{value:new Pt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0},uvTransform:{value:new jt}},sprite:{diffuse:{value:new Jt(16777215)},opacity:{value:1},center:{value:new Pt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}}},Js={basic:{uniforms:Vr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:Ft.meshbasic_vert,fragmentShader:Ft.meshbasic_frag},lambert:{uniforms:Vr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Ft.meshlambert_vert,fragmentShader:Ft.meshlambert_frag},phong:{uniforms:Vr([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Jt(0)},specular:{value:new Jt(1118481)},shininess:{value:30}}]),vertexShader:Ft.meshphong_vert,fragmentShader:Ft.meshphong_frag},standard:{uniforms:Vr([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new Jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag},toon:{uniforms:Vr([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Ft.meshtoon_vert,fragmentShader:Ft.meshtoon_frag},matcap:{uniforms:Vr([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:Ft.meshmatcap_vert,fragmentShader:Ft.meshmatcap_frag},points:{uniforms:Vr([et.points,et.fog]),vertexShader:Ft.points_vert,fragmentShader:Ft.points_frag},dashed:{uniforms:Vr([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ft.linedashed_vert,fragmentShader:Ft.linedashed_frag},depth:{uniforms:Vr([et.common,et.displacementmap]),vertexShader:Ft.depth_vert,fragmentShader:Ft.depth_frag},normal:{uniforms:Vr([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:Ft.meshnormal_vert,fragmentShader:Ft.meshnormal_frag},sprite:{uniforms:Vr([et.sprite,et.fog]),vertexShader:Ft.sprite_vert,fragmentShader:Ft.sprite_frag},background:{uniforms:{uvTransform:{value:new jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ft.background_vert,fragmentShader:Ft.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jt}},vertexShader:Ft.backgroundCube_vert,fragmentShader:Ft.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ft.cube_vert,fragmentShader:Ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ft.equirect_vert,fragmentShader:Ft.equirect_frag},distanceRGBA:{uniforms:Vr([et.common,et.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ft.distanceRGBA_vert,fragmentShader:Ft.distanceRGBA_frag},shadow:{uniforms:Vr([et.lights,et.fog,{color:{value:new Jt(0)},opacity:{value:1}}]),vertexShader:Ft.shadow_vert,fragmentShader:Ft.shadow_frag}};Js.physical={uniforms:Vr([Js.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jt},clearcoatNormalScale:{value:new Pt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jt},sheen:{value:0},sheenColor:{value:new Jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jt},transmissionSamplerSize:{value:new Pt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jt},attenuationDistance:{value:0},attenuationColor:{value:new Jt(0)},specularColor:{value:new Jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jt},anisotropyVector:{value:new Pt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jt}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag};const Qg={r:0,b:0,g:0},ql=new lo,Ree=new Wn;function Pee(t,e,n,r,i,s,o){const a=new Jt(0);let l=s===!0?0:1,c,d,f=null,p=0,g=null;function _(S){let E=S.isScene===!0?S.background:null;return E&&E.isTexture&&(E=(S.backgroundBlurriness>0?n:e).get(E)),E}function y(S){let E=!1;const T=_(S);T===null?m(a,l):T&&T.isColor&&(m(T,1),E=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||E)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(S,E){const T=_(E);T&&(T.isCubeTexture||T.mapping===ky)?(d===void 0&&(d=new Ds(new lm(1,1,1),new gl({name:"BackgroundCubeMaterial",uniforms:Jd(Js.backgroundCube.uniforms),vertexShader:Js.backgroundCube.vertexShader,fragmentShader:Js.backgroundCube.fragmentShader,side:hi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,P,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),ql.copy(E.backgroundRotation),ql.x*=-1,ql.y*=-1,ql.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(ql.y*=-1,ql.z*=-1),d.material.uniforms.envMap.value=T,d.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(Ree.makeRotationFromEuler(ql)),d.material.toneMapped=an.getTransfer(T.colorSpace)!==Tn,(f!==T||p!==T.version||g!==t.toneMapping)&&(d.material.needsUpdate=!0,f=T,p=T.version,g=t.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new Ds(new cm(2,2),new gl({name:"BackgroundMaterial",uniforms:Jd(Js.background.uniforms),vertexShader:Js.background.vertexShader,fragmentShader:Js.background.fragmentShader,side:ml,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=an.getTransfer(T.colorSpace)!==Tn,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||p!==T.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,f=T,p=T.version,g=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function m(S,E){S.getRGB(Qg,AU(t)),r.buffers.color.setClear(Qg.r,Qg.g,Qg.b,E,o)}return{getClearColor:function(){return a},setClearColor:function(S,E=1){a.set(S),l=E,m(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,m(a,l)},render:y,addToRenderList:v}}function Nee(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(N,I,V,W,z){let Q=!1;const q=f(W,V,I);s!==q&&(s=q,c(s.object)),Q=g(N,W,V,z),Q&&_(N,W,V,z),z!==null&&e.update(z,t.ELEMENT_ARRAY_BUFFER),(Q||o)&&(o=!1,T(N,I,V,W),z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(z).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function d(N){return t.deleteVertexArray(N)}function f(N,I,V){const W=V.wireframe===!0;let z=r[N.id];z===void 0&&(z={},r[N.id]=z);let Q=z[I.id];Q===void 0&&(Q={},z[I.id]=Q);let q=Q[W];return q===void 0&&(q=p(l()),Q[W]=q),q}function p(N){const I=[],V=[],W=[];for(let z=0;z<n;z++)I[z]=0,V[z]=0,W[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:V,attributeDivisors:W,object:N,attributes:{},index:null}}function g(N,I,V,W){const z=s.attributes,Q=I.attributes;let q=0;const se=V.getAttributes();for(const B in se)if(se[B].location>=0){const ue=z[B];let ge=Q[B];if(ge===void 0&&(B==="instanceMatrix"&&N.instanceMatrix&&(ge=N.instanceMatrix),B==="instanceColor"&&N.instanceColor&&(ge=N.instanceColor)),ue===void 0||ue.attribute!==ge||ge&&ue.data!==ge.data)return!0;q++}return s.attributesNum!==q||s.index!==W}function _(N,I,V,W){const z={},Q=I.attributes;let q=0;const se=V.getAttributes();for(const B in se)if(se[B].location>=0){let ue=Q[B];ue===void 0&&(B==="instanceMatrix"&&N.instanceMatrix&&(ue=N.instanceMatrix),B==="instanceColor"&&N.instanceColor&&(ue=N.instanceColor));const ge={};ge.attribute=ue,ue&&ue.data&&(ge.data=ue.data),z[B]=ge,q++}s.attributes=z,s.attributesNum=q,s.index=W}function y(){const N=s.newAttributes;for(let I=0,V=N.length;I<V;I++)N[I]=0}function v(N){m(N,0)}function m(N,I){const V=s.newAttributes,W=s.enabledAttributes,z=s.attributeDivisors;V[N]=1,W[N]===0&&(t.enableVertexAttribArray(N),W[N]=1),z[N]!==I&&(t.vertexAttribDivisor(N,I),z[N]=I)}function S(){const N=s.newAttributes,I=s.enabledAttributes;for(let V=0,W=I.length;V<W;V++)I[V]!==N[V]&&(t.disableVertexAttribArray(V),I[V]=0)}function E(N,I,V,W,z,Q,q){q===!0?t.vertexAttribIPointer(N,I,V,z,Q):t.vertexAttribPointer(N,I,V,W,z,Q)}function T(N,I,V,W){y();const z=W.attributes,Q=V.getAttributes(),q=I.defaultAttributeValues;for(const se in Q){const B=Q[se];if(B.location>=0){let J=z[se];if(J===void 0&&(se==="instanceMatrix"&&N.instanceMatrix&&(J=N.instanceMatrix),se==="instanceColor"&&N.instanceColor&&(J=N.instanceColor)),J!==void 0){const ue=J.normalized,ge=J.itemSize,oe=e.get(J);if(oe===void 0)continue;const Re=oe.buffer,X=oe.type,ce=oe.bytesPerElement,me=X===t.INT||X===t.UNSIGNED_INT||J.gpuType===KT;if(J.isInterleavedBufferAttribute){const re=J.data,we=re.stride,Be=J.offset;if(re.isInstancedInterleavedBuffer){for(let ke=0;ke<B.locationSize;ke++)m(B.location+ke,re.meshPerAttribute);N.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let ke=0;ke<B.locationSize;ke++)v(B.location+ke);t.bindBuffer(t.ARRAY_BUFFER,Re);for(let ke=0;ke<B.locationSize;ke++)E(B.location+ke,ge/B.locationSize,X,ue,we*ce,(Be+ge/B.locationSize*ke)*ce,me)}else{if(J.isInstancedBufferAttribute){for(let re=0;re<B.locationSize;re++)m(B.location+re,J.meshPerAttribute);N.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let re=0;re<B.locationSize;re++)v(B.location+re);t.bindBuffer(t.ARRAY_BUFFER,Re);for(let re=0;re<B.locationSize;re++)E(B.location+re,ge/B.locationSize,X,ue,ge*ce,ge/B.locationSize*re*ce,me)}}else if(q!==void 0){const ue=q[se];if(ue!==void 0)switch(ue.length){case 2:t.vertexAttrib2fv(B.location,ue);break;case 3:t.vertexAttrib3fv(B.location,ue);break;case 4:t.vertexAttrib4fv(B.location,ue);break;default:t.vertexAttrib1fv(B.location,ue)}}}}S()}function C(){A();for(const N in r){const I=r[N];for(const V in I){const W=I[V];for(const z in W)d(W[z].object),delete W[z];delete I[V]}delete r[N]}}function P(N){if(r[N.id]===void 0)return;const I=r[N.id];for(const V in I){const W=I[V];for(const z in W)d(W[z].object),delete W[z];delete I[V]}delete r[N.id]}function R(N){for(const I in r){const V=r[I];if(V[N.id]===void 0)continue;const W=V[N.id];for(const z in W)d(W[z].object),delete W[z];delete V[N.id]}}function A(){L(),o=!0,s!==i&&(s=i,c(s.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:A,resetDefaultState:L,dispose:C,releaseStatesOfGeometry:P,releaseStatesOfProgram:R,initAttributes:y,enableAttribute:v,disableUnusedAttributes:S}}function Lee(t,e,n){let r;function i(c){r=c}function s(c,d){t.drawArrays(r,c,d),n.update(d,r,1)}function o(c,d,f){f!==0&&(t.drawArraysInstanced(r,c,d,f),n.update(d,r,f))}function a(c,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,f);let g=0;for(let _=0;_<f;_++)g+=d[_];n.update(g,r,1)}function l(c,d,f,p){if(f===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let _=0;_<c.length;_++)o(c[_],d[_],p[_]);else{g.multiDrawArraysInstancedWEBGL(r,c,0,d,0,p,0,f);let _=0;for(let y=0;y<f;y++)_+=d[y];for(let y=0;y<p.length;y++)n.update(_,r,p[y])}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Dee(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(P){return!(P!==Ls&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(P){const R=P===sm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==ta&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Bo&&!R)}function l(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const f=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=g>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:f,maxTextures:p,maxVertexTextures:g,maxTextureSize:_,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:m,maxVaryings:S,maxFragmentUniforms:E,vertexTextures:T,maxSamples:C}}function Iee(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Fa,a=new jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const g=f.length!==0||p||r!==0||i;return i=p,r=f.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){n=d(f,p,0)},this.setState=function(f,p,g){const _=f.clippingPlanes,y=f.clipIntersection,v=f.clipShadows,m=t.get(f);if(!i||_===null||_.length===0||s&&!v)s?d(null):c();else{const S=s?0:r,E=S*4;let T=m.clippingState||null;l.value=T,T=d(_,p,E,g);for(let C=0;C!==E;++C)T[C]=n[C];m.clippingState=T,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,p,g,_){const y=f!==null?f.length:0;let v=null;if(y!==0){if(v=l.value,_!==!0||v===null){const m=g+y*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(v===null||v.length<m)&&(v=new Float32Array(m));for(let E=0,T=g;E!==y;++E,T+=4)o.copy(f[E]).applyMatrix4(S,a),o.normal.toArray(v,T),v[T+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function Oee(t){let e=new WeakMap;function n(o,a){return a===Z1?o.mapping=Xd:a===J1&&(o.mapping=Kd),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===Z1||a===J1)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new WZ(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class kee extends RU{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const dd=4,yN=[.125,.215,.35,.446,.526,.582],lc=20,jw=new kee,xN=new Jt;let Bw=null,zw=0,Vw=0,$w=!1;const nc=(1+Math.sqrt(5))/2,Du=1/nc,_N=[new fe(-nc,Du,0),new fe(nc,Du,0),new fe(-Du,0,nc),new fe(Du,0,nc),new fe(0,nc,-Du),new fe(0,nc,Du),new fe(-1,1,-1),new fe(1,1,-1),new fe(-1,1,1),new fe(1,1,1)];class wN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Bw=this._renderer.getRenderTarget(),zw=this._renderer.getActiveCubeFace(),Vw=this._renderer.getActiveMipmapLevel(),$w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Bw,zw,Vw),this._renderer.xr.enabled=$w,e.scissorTest=!1,ev(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Xd||e.mapping===Kd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Bw=this._renderer.getRenderTarget(),zw=this._renderer.getActiveCubeFace(),Vw=this._renderer.getActiveMipmapLevel(),$w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Di,minFilter:Di,generateMipmaps:!1,type:sm,format:Ls,colorSpace:Al,depthBuffer:!1},i=SN(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SN(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Uee(s)),this._blurMaterial=Fee(s,e,n)}return i}_compileMaterial(e){const n=new Ds(this._lodPlanes[0],e);this._renderer.compile(n,jw)}_sceneToCubeUV(e,n,r,i){const a=new Ni(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(xN),d.toneMapping=ol,d.autoClear=!1;const g=new TU({name:"PMREM.Background",side:hi,depthWrite:!1,depthTest:!1}),_=new Ds(new lm,g);let y=!1;const v=e.background;v?v.isColor&&(g.color.copy(v),e.background=null,y=!0):(g.color.copy(xN),y=!0);for(let m=0;m<6;m++){const S=m%3;S===0?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):S===1?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m]));const E=this._cubeSize;ev(i,S*E,m>2?E:0,E,E),d.setRenderTarget(i),y&&d.render(_,a),d.render(e,a)}_.geometry.dispose(),_.material.dispose(),d.toneMapping=p,d.autoClear=f,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Xd||e.mapping===Kd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bN());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Ds(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;ev(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,jw)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=_N[(i-s-1)%_N.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Ds(this._lodPlanes[i],c),p=c.uniforms,g=this._sizeLods[r]-1,_=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*lc-1),y=s/_,v=isFinite(s)?1+Math.floor(d*y):lc;v>lc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${lc}`);const m=[];let S=0;for(let R=0;R<lc;++R){const A=R/y,L=Math.exp(-A*A/2);m.push(L),R===0?S+=L:R<v&&(S+=2*L)}for(let R=0;R<m.length;R++)m[R]=m[R]/S;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=m,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:E}=this;p.dTheta.value=_,p.mipInt.value=E-r;const T=this._sizeLods[i],C=3*T*(i>E-dd?i-E+dd:0),P=4*(this._cubeSize-T);ev(n,C,P,3*T,2*T),l.setRenderTarget(n),l.render(f,jw)}}function Uee(t){const e=[],n=[],r=[];let i=t;const s=t-dd+1+yN.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-dd?l=yN[o-t+dd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,f=1+c,p=[d,d,f,d,f,f,d,d,f,f,d,f],g=6,_=6,y=3,v=2,m=1,S=new Float32Array(y*_*g),E=new Float32Array(v*_*g),T=new Float32Array(m*_*g);for(let P=0;P<g;P++){const R=P%3*2/3-1,A=P>2?0:-1,L=[R,A,0,R+2/3,A,0,R+2/3,A+1,0,R,A,0,R+2/3,A+1,0,R,A+1,0];S.set(L,y*_*P),E.set(p,v*_*P);const N=[P,P,P,P,P,P];T.set(N,m*_*P)}const C=new Rl;C.setAttribute("position",new so(S,y)),C.setAttribute("uv",new so(E,v)),C.setAttribute("faceIndex",new so(T,m)),e.push(C),i>dd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function SN(t,e,n){const r=new Lc(t,e,n);return r.texture.mapping=ky,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ev(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Fee(t,e,n){const r=new Float32Array(lc),i=new fe(0,1,0);return new gl({name:"SphericalGaussianBlur",defines:{n:lc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:iM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sl,depthTest:!1,depthWrite:!1})}function bN(){return new gl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sl,depthTest:!1,depthWrite:!1})}function EN(){return new gl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sl,depthTest:!1,depthWrite:!1})}function iM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jee(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Z1||l===J1,d=l===Xd||l===Kd;if(c||d){let f=e.get(a);const p=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new wN(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const g=a.image;return c&&g&&g.height>0||d&&g&&i(g)?(n===null&&(n=new wN(t)),f=c?n.fromEquirectangular(a):n.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",s),f.texture):null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Bee(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Vh("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function zee(t,e,n,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const _ in p.attributes)e.remove(p.attributes[_]);for(const _ in p.morphAttributes){const y=p.morphAttributes[_];for(let v=0,m=y.length;v<m;v++)e.remove(y[v])}p.removeEventListener("dispose",o),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const _ in p)e.update(p[_],t.ARRAY_BUFFER);const g=f.morphAttributes;for(const _ in g){const y=g[_];for(let v=0,m=y.length;v<m;v++)e.update(y[v],t.ARRAY_BUFFER)}}function c(f){const p=[],g=f.index,_=f.attributes.position;let y=0;if(g!==null){const S=g.array;y=g.version;for(let E=0,T=S.length;E<T;E+=3){const C=S[E+0],P=S[E+1],R=S[E+2];p.push(C,P,P,R,R,C)}}else if(_!==void 0){const S=_.array;y=_.version;for(let E=0,T=S.length/3-1;E<T;E+=3){const C=E+0,P=E+1,R=E+2;p.push(C,P,P,R,R,C)}}else return;const v=new(xU(p)?CU:MU)(p,1);v.version=y;const m=s.get(f);m&&e.remove(m),s.set(f,v)}function d(f){const p=s.get(f);if(p){const g=f.index;g!==null&&p.version<g.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:d}}function Vee(t,e,n){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,g){t.drawElements(r,g,s,p*o),n.update(g,r,1)}function c(p,g,_){_!==0&&(t.drawElementsInstanced(r,g,s,p*o,_),n.update(g,r,_))}function d(p,g,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,p,0,_);let v=0;for(let m=0;m<_;m++)v+=g[m];n.update(v,r,1)}function f(p,g,_,y){if(_===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<p.length;m++)c(p[m]/o,g[m],y[m]);else{v.multiDrawElementsInstancedWEBGL(r,g,0,s,p,0,y,0,_);let m=0;for(let S=0;S<_;S++)m+=g[S];for(let S=0;S<y.length;S++)n.update(m,r,y[S])}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function $ee(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Hee(t,e,n){const r=new WeakMap,i=new ir;function s(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=d!==void 0?d.length:0;let p=r.get(a);if(p===void 0||p.count!==f){let L=function(){R.dispose(),r.delete(a),a.removeEventListener("dispose",L)};p!==void 0&&p.texture.dispose();const g=a.morphAttributes.position!==void 0,_=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,v=a.morphAttributes.position||[],m=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let E=0;g===!0&&(E=1),_===!0&&(E=2),y===!0&&(E=3);let T=a.attributes.position.count*E,C=1;T>e.maxTextureSize&&(C=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const P=new Float32Array(T*C*4*f),R=new wU(P,T,C,f);R.type=Bo,R.needsUpdate=!0;const A=E*4;for(let N=0;N<f;N++){const I=v[N],V=m[N],W=S[N],z=T*C*4*N;for(let Q=0;Q<I.count;Q++){const q=Q*A;g===!0&&(i.fromBufferAttribute(I,Q),P[z+q+0]=i.x,P[z+q+1]=i.y,P[z+q+2]=i.z,P[z+q+3]=0),_===!0&&(i.fromBufferAttribute(V,Q),P[z+q+4]=i.x,P[z+q+5]=i.y,P[z+q+6]=i.z,P[z+q+7]=0),y===!0&&(i.fromBufferAttribute(W,Q),P[z+q+8]=i.x,P[z+q+9]=i.y,P[z+q+10]=i.z,P[z+q+11]=W.itemSize===4?i.w:1)}}p={count:f,texture:R,size:new Pt(T,C)},r.set(a,p),a.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let y=0;y<c.length;y++)g+=c[y];const _=a.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function Gee(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,f=e.get(l,d);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class LU extends Xr{constructor(e,n,r,i,s,o,a,l,c,d=Cd){if(d!==Cd&&d!==Yd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Cd&&(r=Nc),r===void 0&&d===Yd&&(r=qd),super(null,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:os,this.minFilter=l!==void 0?l:os,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const DU=new Xr,TN=new LU(1,1),IU=new wU,OU=new PZ,kU=new PU,MN=[],CN=[],AN=new Float32Array(16),RN=new Float32Array(9),PN=new Float32Array(4);function mf(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=MN[i];if(s===void 0&&(s=new Float32Array(i),MN[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function or(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ar(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Fy(t,e){let n=CN[e];n===void 0&&(n=new Int32Array(e),CN[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Wee(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Xee(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(or(n,e))return;t.uniform2fv(this.addr,e),ar(n,e)}}function Kee(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(or(n,e))return;t.uniform3fv(this.addr,e),ar(n,e)}}function qee(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(or(n,e))return;t.uniform4fv(this.addr,e),ar(n,e)}}function Yee(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(or(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ar(n,e)}else{if(or(n,r))return;PN.set(r),t.uniformMatrix2fv(this.addr,!1,PN),ar(n,r)}}function Zee(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(or(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ar(n,e)}else{if(or(n,r))return;RN.set(r),t.uniformMatrix3fv(this.addr,!1,RN),ar(n,r)}}function Jee(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(or(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ar(n,e)}else{if(or(n,r))return;AN.set(r),t.uniformMatrix4fv(this.addr,!1,AN),ar(n,r)}}function Qee(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ete(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(or(n,e))return;t.uniform2iv(this.addr,e),ar(n,e)}}function tte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(or(n,e))return;t.uniform3iv(this.addr,e),ar(n,e)}}function nte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(or(n,e))return;t.uniform4iv(this.addr,e),ar(n,e)}}function rte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ite(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(or(n,e))return;t.uniform2uiv(this.addr,e),ar(n,e)}}function ste(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(or(n,e))return;t.uniform3uiv(this.addr,e),ar(n,e)}}function ote(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(or(n,e))return;t.uniform4uiv(this.addr,e),ar(n,e)}}function ate(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(TN.compareFunction=yU,s=TN):s=DU,n.setTexture2D(e||s,i)}function lte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||OU,i)}function cte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||kU,i)}function ute(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||IU,i)}function dte(t){switch(t){case 5126:return Wee;case 35664:return Xee;case 35665:return Kee;case 35666:return qee;case 35674:return Yee;case 35675:return Zee;case 35676:return Jee;case 5124:case 35670:return Qee;case 35667:case 35671:return ete;case 35668:case 35672:return tte;case 35669:case 35673:return nte;case 5125:return rte;case 36294:return ite;case 36295:return ste;case 36296:return ote;case 35678:case 36198:case 36298:case 36306:case 35682:return ate;case 35679:case 36299:case 36307:return lte;case 35680:case 36300:case 36308:case 36293:return cte;case 36289:case 36303:case 36311:case 36292:return ute}}function fte(t,e){t.uniform1fv(this.addr,e)}function hte(t,e){const n=mf(e,this.size,2);t.uniform2fv(this.addr,n)}function pte(t,e){const n=mf(e,this.size,3);t.uniform3fv(this.addr,n)}function mte(t,e){const n=mf(e,this.size,4);t.uniform4fv(this.addr,n)}function gte(t,e){const n=mf(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function vte(t,e){const n=mf(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yte(t,e){const n=mf(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xte(t,e){t.uniform1iv(this.addr,e)}function _te(t,e){t.uniform2iv(this.addr,e)}function wte(t,e){t.uniform3iv(this.addr,e)}function Ste(t,e){t.uniform4iv(this.addr,e)}function bte(t,e){t.uniform1uiv(this.addr,e)}function Ete(t,e){t.uniform2uiv(this.addr,e)}function Tte(t,e){t.uniform3uiv(this.addr,e)}function Mte(t,e){t.uniform4uiv(this.addr,e)}function Cte(t,e,n){const r=this.cache,i=e.length,s=Fy(n,i);or(r,s)||(t.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||DU,s[o])}function Ate(t,e,n){const r=this.cache,i=e.length,s=Fy(n,i);or(r,s)||(t.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||OU,s[o])}function Rte(t,e,n){const r=this.cache,i=e.length,s=Fy(n,i);or(r,s)||(t.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||kU,s[o])}function Pte(t,e,n){const r=this.cache,i=e.length,s=Fy(n,i);or(r,s)||(t.uniform1iv(this.addr,s),ar(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||IU,s[o])}function Nte(t){switch(t){case 5126:return fte;case 35664:return hte;case 35665:return pte;case 35666:return mte;case 35674:return gte;case 35675:return vte;case 35676:return yte;case 5124:case 35670:return xte;case 35667:case 35671:return _te;case 35668:case 35672:return wte;case 35669:case 35673:return Ste;case 5125:return bte;case 36294:return Ete;case 36295:return Tte;case 36296:return Mte;case 35678:case 36198:case 36298:case 36306:case 35682:return Cte;case 35679:case 36299:case 36307:return Ate;case 35680:case 36300:case 36308:case 36293:return Rte;case 36289:case 36303:case 36311:case 36292:return Pte}}class Lte{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=dte(n.type)}}class Dte{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Nte(n.type)}}class Ite{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const Hw=/(\w+)(\])?(\[|\.)?/g;function NN(t,e){t.seq.push(e),t.map[e.id]=e}function Ote(t,e,n){const r=t.name,i=r.length;for(Hw.lastIndex=0;;){const s=Hw.exec(r),o=Hw.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){NN(n,c===void 0?new Lte(a,t,e):new Dte(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Ite(a),NN(n,f)),n=f}}}class Xv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Ote(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function LN(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const kte=37297;let Ute=0;function Fte(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function jte(t){const e=an.getPrimaries(an.workingColorSpace),n=an.getPrimaries(t);let r;switch(e===n?r="":e===O0&&n===I0?r="LinearDisplayP3ToLinearSRGB":e===I0&&n===O0&&(r="LinearSRGBToLinearDisplayP3"),t){case Al:case Uy:return[r,"LinearTransferOETF"];case Cs:case eM:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function DN(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Fte(t.getShaderSource(e),o)}else return i}function Bte(t,e){const n=jte(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function zte(t,e){let n;switch(e){case $Y:n="Linear";break;case HY:n="Reinhard";break;case GY:n="Cineon";break;case sU:n="ACESFilmic";break;case XY:n="AgX";break;case KY:n="Neutral";break;case WY:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const tv=new fe;function Vte(){an.getLuminanceCoefficients(tv);const t=tv.x.toFixed(4),e=tv.y.toFixed(4),n=tv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function $te(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(bh).join(`
`)}function Hte(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Gte(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function bh(t){return t!==""}function IN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ON(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Wte=/^[ \t]*#include +<([\w\d./]+)>/gm;function Cb(t){return t.replace(Wte,Kte)}const Xte=new Map;function Kte(t,e){let n=Ft[e];if(n===void 0){const r=Xte.get(e);if(r!==void 0)n=Ft[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Cb(n)}const qte=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kN(t){return t.replace(qte,Yte)}function Yte(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function UN(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zte(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===rU?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===iU?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Lo&&(e="SHADOWMAP_TYPE_VSM"),e}function Jte(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Xd:case Kd:e="ENVMAP_TYPE_CUBE";break;case ky:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Qte(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Kd:e="ENVMAP_MODE_REFRACTION";break}return e}function ene(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case XT:e="ENVMAP_BLENDING_MULTIPLY";break;case zY:e="ENVMAP_BLENDING_MIX";break;case VY:e="ENVMAP_BLENDING_ADD";break}return e}function tne(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function nne(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Zte(n),c=Jte(n),d=Qte(n),f=ene(n),p=tne(n),g=$te(n),_=Hte(s),y=i.createProgram();let v,m,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(bh).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(bh).join(`
`),m.length>0&&(m+=`
`)):(v=[UN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bh).join(`
`),m=[UN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ol?"#define TONE_MAPPING":"",n.toneMapping!==ol?Ft.tonemapping_pars_fragment:"",n.toneMapping!==ol?zte("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ft.colorspace_pars_fragment,Bte("linearToOutputTexel",n.outputColorSpace),Vte(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(bh).join(`
`)),o=Cb(o),o=IN(o,n),o=ON(o,n),a=Cb(a),a=IN(a,n),a=ON(a,n),o=kN(o),a=kN(a),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,v=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===Z2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Z2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const E=S+v+o,T=S+m+a,C=LN(i,i.VERTEX_SHADER,E),P=LN(i,i.FRAGMENT_SHADER,T);i.attachShader(y,C),i.attachShader(y,P),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function R(I){if(t.debug.checkShaderErrors){const V=i.getProgramInfoLog(y).trim(),W=i.getShaderInfoLog(C).trim(),z=i.getShaderInfoLog(P).trim();let Q=!0,q=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(Q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,C,P);else{const se=DN(i,C,"vertex"),B=DN(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+V+`
`+se+`
`+B)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(W===""||z==="")&&(q=!1);q&&(I.diagnostics={runnable:Q,programLog:V,vertexShader:{log:W,prefix:v},fragmentShader:{log:z,prefix:m}})}i.deleteShader(C),i.deleteShader(P),A=new Xv(i,y),L=Gte(i,y)}let A;this.getUniforms=function(){return A===void 0&&R(this),A};let L;this.getAttributes=function(){return L===void 0&&R(this),L};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(y,kte)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Ute++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=P,this}let rne=0;class ine{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new sne(e),n.set(e,r)),r}}class sne{constructor(e){this.id=rne++,this.code=e,this.usedTimes=0}}function one(t,e,n,r,i,s,o){const a=new bU,l=new ine,c=new Set,d=[],f=i.logarithmicDepthBuffer,p=i.vertexTextures;let g=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(L){return c.add(L),L===0?"uv":`uv${L}`}function v(L,N,I,V,W){const z=V.fog,Q=W.geometry,q=L.isMeshStandardMaterial?V.environment:null,se=(L.isMeshStandardMaterial?n:e).get(L.envMap||q),B=se&&se.mapping===ky?se.image.height:null,J=_[L.type];L.precision!==null&&(g=i.getMaxPrecision(L.precision),g!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",g,"instead."));const ue=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,ge=ue!==void 0?ue.length:0;let oe=0;Q.morphAttributes.position!==void 0&&(oe=1),Q.morphAttributes.normal!==void 0&&(oe=2),Q.morphAttributes.color!==void 0&&(oe=3);let Re,X,ce,me;if(J){const Wt=Js[J];Re=Wt.vertexShader,X=Wt.fragmentShader}else Re=L.vertexShader,X=L.fragmentShader,l.update(L),ce=l.getVertexShaderID(L),me=l.getFragmentShaderID(L);const re=t.getRenderTarget(),we=W.isInstancedMesh===!0,Be=W.isBatchedMesh===!0,ke=!!L.map,$e=!!L.matcap,j=!!se,tt=!!L.aoMap,je=!!L.lightMap,st=!!L.bumpMap,Ke=!!L.normalMap,_t=!!L.displacementMap,nt=!!L.emissiveMap,ot=!!L.metalnessMap,$=!!L.roughnessMap,k=L.anisotropy>0,de=L.clearcoat>0,_e=L.dispersion>0,Pe=L.iridescence>0,Se=L.sheen>0,lt=L.transmission>0,ye=k&&!!L.anisotropyMap,Ne=de&&!!L.clearcoatMap,Ze=de&&!!L.clearcoatNormalMap,he=de&&!!L.clearcoatRoughnessMap,Oe=Pe&&!!L.iridescenceMap,at=Pe&&!!L.iridescenceThicknessMap,Je=Se&&!!L.sheenColorMap,We=Se&&!!L.sheenRoughnessMap,be=!!L.specularMap,rt=!!L.specularColorMap,wt=!!L.specularIntensityMap,ee=lt&&!!L.transmissionMap,Ue=lt&&!!L.thicknessMap,Ee=!!L.gradientMap,Te=!!L.alphaMap,Ve=L.alphaTest>0,yt=!!L.alphaHash,Nt=!!L.extensions;let dn=ol;L.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(dn=t.toneMapping);const zn={shaderID:J,shaderType:L.type,shaderName:L.name,vertexShader:Re,fragmentShader:X,defines:L.defines,customVertexShaderID:ce,customFragmentShaderID:me,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:g,batching:Be,batchingColor:Be&&W._colorsTexture!==null,instancing:we,instancingColor:we&&W.instanceColor!==null,instancingMorph:we&&W.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:re===null?t.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:Al,alphaToCoverage:!!L.alphaToCoverage,map:ke,matcap:$e,envMap:j,envMapMode:j&&se.mapping,envMapCubeUVHeight:B,aoMap:tt,lightMap:je,bumpMap:st,normalMap:Ke,displacementMap:p&&_t,emissiveMap:nt,normalMapObjectSpace:Ke&&L.normalMapType===JY,normalMapTangentSpace:Ke&&L.normalMapType===vU,metalnessMap:ot,roughnessMap:$,anisotropy:k,anisotropyMap:ye,clearcoat:de,clearcoatMap:Ne,clearcoatNormalMap:Ze,clearcoatRoughnessMap:he,dispersion:_e,iridescence:Pe,iridescenceMap:Oe,iridescenceThicknessMap:at,sheen:Se,sheenColorMap:Je,sheenRoughnessMap:We,specularMap:be,specularColorMap:rt,specularIntensityMap:wt,transmission:lt,transmissionMap:ee,thicknessMap:Ue,gradientMap:Ee,opaque:L.transparent===!1&&L.blending===Md&&L.alphaToCoverage===!1,alphaMap:Te,alphaTest:Ve,alphaHash:yt,combine:L.combine,mapUv:ke&&y(L.map.channel),aoMapUv:tt&&y(L.aoMap.channel),lightMapUv:je&&y(L.lightMap.channel),bumpMapUv:st&&y(L.bumpMap.channel),normalMapUv:Ke&&y(L.normalMap.channel),displacementMapUv:_t&&y(L.displacementMap.channel),emissiveMapUv:nt&&y(L.emissiveMap.channel),metalnessMapUv:ot&&y(L.metalnessMap.channel),roughnessMapUv:$&&y(L.roughnessMap.channel),anisotropyMapUv:ye&&y(L.anisotropyMap.channel),clearcoatMapUv:Ne&&y(L.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&y(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:he&&y(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Oe&&y(L.iridescenceMap.channel),iridescenceThicknessMapUv:at&&y(L.iridescenceThicknessMap.channel),sheenColorMapUv:Je&&y(L.sheenColorMap.channel),sheenRoughnessMapUv:We&&y(L.sheenRoughnessMap.channel),specularMapUv:be&&y(L.specularMap.channel),specularColorMapUv:rt&&y(L.specularColorMap.channel),specularIntensityMapUv:wt&&y(L.specularIntensityMap.channel),transmissionMapUv:ee&&y(L.transmissionMap.channel),thicknessMapUv:Ue&&y(L.thicknessMap.channel),alphaMapUv:Te&&y(L.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ke||k),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!Q.attributes.uv&&(ke||Te),fog:!!z,useFog:L.fog===!0,fogExp2:!!z&&z.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:W.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:ge,morphTextureStride:oe,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:dn,decodeVideoTexture:ke&&L.map.isVideoTexture===!0&&an.getTransfer(L.map.colorSpace)===Tn,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Uo,flipSided:L.side===hi,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:Nt&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Nt&&L.extensions.multiDraw===!0||Be)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return zn.vertexUv1s=c.has(1),zn.vertexUv2s=c.has(2),zn.vertexUv3s=c.has(3),c.clear(),zn}function m(L){const N=[];if(L.shaderID?N.push(L.shaderID):(N.push(L.customVertexShaderID),N.push(L.customFragmentShaderID)),L.defines!==void 0)for(const I in L.defines)N.push(I),N.push(L.defines[I]);return L.isRawShaderMaterial===!1&&(S(N,L),E(N,L),N.push(t.outputColorSpace)),N.push(L.customProgramCacheKey),N.join()}function S(L,N){L.push(N.precision),L.push(N.outputColorSpace),L.push(N.envMapMode),L.push(N.envMapCubeUVHeight),L.push(N.mapUv),L.push(N.alphaMapUv),L.push(N.lightMapUv),L.push(N.aoMapUv),L.push(N.bumpMapUv),L.push(N.normalMapUv),L.push(N.displacementMapUv),L.push(N.emissiveMapUv),L.push(N.metalnessMapUv),L.push(N.roughnessMapUv),L.push(N.anisotropyMapUv),L.push(N.clearcoatMapUv),L.push(N.clearcoatNormalMapUv),L.push(N.clearcoatRoughnessMapUv),L.push(N.iridescenceMapUv),L.push(N.iridescenceThicknessMapUv),L.push(N.sheenColorMapUv),L.push(N.sheenRoughnessMapUv),L.push(N.specularMapUv),L.push(N.specularColorMapUv),L.push(N.specularIntensityMapUv),L.push(N.transmissionMapUv),L.push(N.thicknessMapUv),L.push(N.combine),L.push(N.fogExp2),L.push(N.sizeAttenuation),L.push(N.morphTargetsCount),L.push(N.morphAttributeCount),L.push(N.numDirLights),L.push(N.numPointLights),L.push(N.numSpotLights),L.push(N.numSpotLightMaps),L.push(N.numHemiLights),L.push(N.numRectAreaLights),L.push(N.numDirLightShadows),L.push(N.numPointLightShadows),L.push(N.numSpotLightShadows),L.push(N.numSpotLightShadowsWithMaps),L.push(N.numLightProbes),L.push(N.shadowMapType),L.push(N.toneMapping),L.push(N.numClippingPlanes),L.push(N.numClipIntersection),L.push(N.depthPacking)}function E(L,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),L.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.skinning&&a.enable(4),N.morphTargets&&a.enable(5),N.morphNormals&&a.enable(6),N.morphColors&&a.enable(7),N.premultipliedAlpha&&a.enable(8),N.shadowMapEnabled&&a.enable(9),N.doubleSided&&a.enable(10),N.flipSided&&a.enable(11),N.useDepthPacking&&a.enable(12),N.dithering&&a.enable(13),N.transmission&&a.enable(14),N.sheen&&a.enable(15),N.opaque&&a.enable(16),N.pointsUvs&&a.enable(17),N.decodeVideoTexture&&a.enable(18),N.alphaToCoverage&&a.enable(19),L.push(a.mask)}function T(L){const N=_[L.type];let I;if(N){const V=Js[N];I=VZ.clone(V.uniforms)}else I=L.uniforms;return I}function C(L,N){let I;for(let V=0,W=d.length;V<W;V++){const z=d[V];if(z.cacheKey===N){I=z,++I.usedTimes;break}}return I===void 0&&(I=new nne(t,N,L,s),d.push(I)),I}function P(L){if(--L.usedTimes===0){const N=d.indexOf(L);d[N]=d[d.length-1],d.pop(),L.destroy()}}function R(L){l.remove(L)}function A(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:T,acquireProgram:C,releaseProgram:P,releaseShaderCache:R,programs:d,dispose:A}}function ane(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function lne(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function FN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function jN(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,p,g,_,y,v){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:p,material:g,groupOrder:_,renderOrder:f.renderOrder,z:y,group:v},t[e]=m):(m.id=f.id,m.object=f,m.geometry=p,m.material=g,m.groupOrder=_,m.renderOrder=f.renderOrder,m.z=y,m.group=v),e++,m}function a(f,p,g,_,y,v){const m=o(f,p,g,_,y,v);g.transmission>0?r.push(m):g.transparent===!0?i.push(m):n.push(m)}function l(f,p,g,_,y,v){const m=o(f,p,g,_,y,v);g.transmission>0?r.unshift(m):g.transparent===!0?i.unshift(m):n.unshift(m)}function c(f,p){n.length>1&&n.sort(f||lne),r.length>1&&r.sort(p||FN),i.length>1&&i.sort(p||FN)}function d(){for(let f=e,p=t.length;f<p;f++){const g=t[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function cne(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new jN,t.set(r,[o])):i>=s.length?(o=new jN,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function une(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new fe,color:new Jt};break;case"SpotLight":n={position:new fe,direction:new fe,color:new Jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new fe,color:new Jt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new fe,skyColor:new Jt,groundColor:new Jt};break;case"RectAreaLight":n={color:new Jt,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return t[e.id]=n,n}}}function dne(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Pt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let fne=0;function hne(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function pne(t){const e=new une,n=dne(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new fe);const i=new fe,s=new Wn,o=new Wn;function a(c){let d=0,f=0,p=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,_=0,y=0,v=0,m=0,S=0,E=0,T=0,C=0,P=0,R=0;c.sort(hne);for(let L=0,N=c.length;L<N;L++){const I=c[L],V=I.color,W=I.intensity,z=I.distance,Q=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=V.r*W,f+=V.g*W,p+=V.b*W;else if(I.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(I.sh.coefficients[q],W);R++}else if(I.isDirectionalLight){const q=e.get(I);if(q.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const se=I.shadow,B=n.get(I);B.shadowIntensity=se.intensity,B.shadowBias=se.bias,B.shadowNormalBias=se.normalBias,B.shadowRadius=se.radius,B.shadowMapSize=se.mapSize,r.directionalShadow[g]=B,r.directionalShadowMap[g]=Q,r.directionalShadowMatrix[g]=I.shadow.matrix,S++}r.directional[g]=q,g++}else if(I.isSpotLight){const q=e.get(I);q.position.setFromMatrixPosition(I.matrixWorld),q.color.copy(V).multiplyScalar(W),q.distance=z,q.coneCos=Math.cos(I.angle),q.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),q.decay=I.decay,r.spot[y]=q;const se=I.shadow;if(I.map&&(r.spotLightMap[C]=I.map,C++,se.updateMatrices(I),I.castShadow&&P++),r.spotLightMatrix[y]=se.matrix,I.castShadow){const B=n.get(I);B.shadowIntensity=se.intensity,B.shadowBias=se.bias,B.shadowNormalBias=se.normalBias,B.shadowRadius=se.radius,B.shadowMapSize=se.mapSize,r.spotShadow[y]=B,r.spotShadowMap[y]=Q,T++}y++}else if(I.isRectAreaLight){const q=e.get(I);q.color.copy(V).multiplyScalar(W),q.halfWidth.set(I.width*.5,0,0),q.halfHeight.set(0,I.height*.5,0),r.rectArea[v]=q,v++}else if(I.isPointLight){const q=e.get(I);if(q.color.copy(I.color).multiplyScalar(I.intensity),q.distance=I.distance,q.decay=I.decay,I.castShadow){const se=I.shadow,B=n.get(I);B.shadowIntensity=se.intensity,B.shadowBias=se.bias,B.shadowNormalBias=se.normalBias,B.shadowRadius=se.radius,B.shadowMapSize=se.mapSize,B.shadowCameraNear=se.camera.near,B.shadowCameraFar=se.camera.far,r.pointShadow[_]=B,r.pointShadowMap[_]=Q,r.pointShadowMatrix[_]=I.shadow.matrix,E++}r.point[_]=q,_++}else if(I.isHemisphereLight){const q=e.get(I);q.skyColor.copy(I.color).multiplyScalar(W),q.groundColor.copy(I.groundColor).multiplyScalar(W),r.hemi[m]=q,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=et.LTC_FLOAT_1,r.rectAreaLTC2=et.LTC_FLOAT_2):(r.rectAreaLTC1=et.LTC_HALF_1,r.rectAreaLTC2=et.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=p;const A=r.hash;(A.directionalLength!==g||A.pointLength!==_||A.spotLength!==y||A.rectAreaLength!==v||A.hemiLength!==m||A.numDirectionalShadows!==S||A.numPointShadows!==E||A.numSpotShadows!==T||A.numSpotMaps!==C||A.numLightProbes!==R)&&(r.directional.length=g,r.spot.length=y,r.rectArea.length=v,r.point.length=_,r.hemi.length=m,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=T+C-P,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=R,A.directionalLength=g,A.pointLength=_,A.spotLength=y,A.rectAreaLength=v,A.hemiLength=m,A.numDirectionalShadows=S,A.numPointShadows=E,A.numSpotShadows=T,A.numSpotMaps=C,A.numLightProbes=R,r.version=fne++)}function l(c,d){let f=0,p=0,g=0,_=0,y=0;const v=d.matrixWorldInverse;for(let m=0,S=c.length;m<S;m++){const E=c[m];if(E.isDirectionalLight){const T=r.directional[f];T.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(v),f++}else if(E.isSpotLight){const T=r.spot[g];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(v),g++}else if(E.isRectAreaLight){const T=r.rectArea[_];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),o.identity(),s.copy(E.matrixWorld),s.premultiply(v),o.extractRotation(s),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(o),T.halfHeight.applyMatrix4(o),_++}else if(E.isPointLight){const T=r.point[p];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(v),p++}else if(E.isHemisphereLight){const T=r.hemi[y];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(v),y++}}}return{setup:a,setupView:l,state:r}}function BN(t){const e=new pne(t),n=[],r=[];function i(d){c.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function o(d){r.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function mne(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new BN(t),e.set(i,[a])):s>=o.length?(a=new BN(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class gne extends am{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=YY,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vne extends am{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const yne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _ne(t,e,n){let r=new rM;const i=new Pt,s=new Pt,o=new ir,a=new gne({depthPacking:ZY}),l=new vne,c={},d=n.maxTextureSize,f={[ml]:hi,[hi]:ml,[Uo]:Uo},p=new gl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Pt},radius:{value:4}},vertexShader:yne,fragmentShader:xne}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const _=new Rl;_.setAttribute("position",new so(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Ds(_,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rU;let m=this.type;this.render=function(P,R,A){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||P.length===0)return;const L=t.getRenderTarget(),N=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),V=t.state;V.setBlending(sl),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const W=m!==Lo&&this.type===Lo,z=m===Lo&&this.type!==Lo;for(let Q=0,q=P.length;Q<q;Q++){const se=P[Q],B=se.shadow;if(B===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(B.autoUpdate===!1&&B.needsUpdate===!1)continue;i.copy(B.mapSize);const J=B.getFrameExtents();if(i.multiply(J),s.copy(B.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/J.x),i.x=s.x*J.x,B.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/J.y),i.y=s.y*J.y,B.mapSize.y=s.y)),B.map===null||W===!0||z===!0){const ge=this.type!==Lo?{minFilter:os,magFilter:os}:{};B.map!==null&&B.map.dispose(),B.map=new Lc(i.x,i.y,ge),B.map.texture.name=se.name+".shadowMap",B.camera.updateProjectionMatrix()}t.setRenderTarget(B.map),t.clear();const ue=B.getViewportCount();for(let ge=0;ge<ue;ge++){const oe=B.getViewport(ge);o.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),V.viewport(o),B.updateMatrices(se,ge),r=B.getFrustum(),T(R,A,B.camera,se,this.type)}B.isPointLightShadow!==!0&&this.type===Lo&&S(B,A),B.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(L,N,I)};function S(P,R){const A=e.update(y);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,g.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Lc(i.x,i.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(R,null,A,p,y,null),g.uniforms.shadow_pass.value=P.mapPass.texture,g.uniforms.resolution.value=P.mapSize,g.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(R,null,A,g,y,null)}function E(P,R,A,L){let N=null;const I=A.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(I!==void 0)N=I;else if(N=A.isPointLight===!0?l:a,t.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const V=N.uuid,W=R.uuid;let z=c[V];z===void 0&&(z={},c[V]=z);let Q=z[W];Q===void 0&&(Q=N.clone(),z[W]=Q,R.addEventListener("dispose",C)),N=Q}if(N.visible=R.visible,N.wireframe=R.wireframe,L===Lo?N.side=R.shadowSide!==null?R.shadowSide:R.side:N.side=R.shadowSide!==null?R.shadowSide:f[R.side],N.alphaMap=R.alphaMap,N.alphaTest=R.alphaTest,N.map=R.map,N.clipShadows=R.clipShadows,N.clippingPlanes=R.clippingPlanes,N.clipIntersection=R.clipIntersection,N.displacementMap=R.displacementMap,N.displacementScale=R.displacementScale,N.displacementBias=R.displacementBias,N.wireframeLinewidth=R.wireframeLinewidth,N.linewidth=R.linewidth,A.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const V=t.properties.get(N);V.light=A}return N}function T(P,R,A,L,N){if(P.visible===!1)return;if(P.layers.test(R.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&N===Lo)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,P.matrixWorld);const W=e.update(P),z=P.material;if(Array.isArray(z)){const Q=W.groups;for(let q=0,se=Q.length;q<se;q++){const B=Q[q],J=z[B.materialIndex];if(J&&J.visible){const ue=E(P,J,L,N);P.onBeforeShadow(t,P,R,A,W,ue,B),t.renderBufferDirect(A,null,W,ue,P,B),P.onAfterShadow(t,P,R,A,W,ue,B)}}}else if(z.visible){const Q=E(P,z,L,N);P.onBeforeShadow(t,P,R,A,W,Q,null),t.renderBufferDirect(A,null,W,Q,P,null),P.onAfterShadow(t,P,R,A,W,Q,null)}}const V=P.children;for(let W=0,z=V.length;W<z;W++)T(V[W],R,A,L,N)}function C(P){P.target.removeEventListener("dispose",C);for(const A in c){const L=c[A],N=P.target.uuid;N in L&&(L[N].dispose(),delete L[N])}}}function wne(t){function e(){let ee=!1;const Ue=new ir;let Ee=null;const Te=new ir(0,0,0,0);return{setMask:function(Ve){Ee!==Ve&&!ee&&(t.colorMask(Ve,Ve,Ve,Ve),Ee=Ve)},setLocked:function(Ve){ee=Ve},setClear:function(Ve,yt,Nt,dn,zn){zn===!0&&(Ve*=dn,yt*=dn,Nt*=dn),Ue.set(Ve,yt,Nt,dn),Te.equals(Ue)===!1&&(t.clearColor(Ve,yt,Nt,dn),Te.copy(Ue))},reset:function(){ee=!1,Ee=null,Te.set(-1,0,0,0)}}}function n(){let ee=!1,Ue=null,Ee=null,Te=null;return{setTest:function(Ve){Ve?me(t.DEPTH_TEST):re(t.DEPTH_TEST)},setMask:function(Ve){Ue!==Ve&&!ee&&(t.depthMask(Ve),Ue=Ve)},setFunc:function(Ve){if(Ee!==Ve){switch(Ve){case IY:t.depthFunc(t.NEVER);break;case OY:t.depthFunc(t.ALWAYS);break;case kY:t.depthFunc(t.LESS);break;case L0:t.depthFunc(t.LEQUAL);break;case UY:t.depthFunc(t.EQUAL);break;case FY:t.depthFunc(t.GEQUAL);break;case jY:t.depthFunc(t.GREATER);break;case BY:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ee=Ve}},setLocked:function(Ve){ee=Ve},setClear:function(Ve){Te!==Ve&&(t.clearDepth(Ve),Te=Ve)},reset:function(){ee=!1,Ue=null,Ee=null,Te=null}}}function r(){let ee=!1,Ue=null,Ee=null,Te=null,Ve=null,yt=null,Nt=null,dn=null,zn=null;return{setTest:function(Wt){ee||(Wt?me(t.STENCIL_TEST):re(t.STENCIL_TEST))},setMask:function(Wt){Ue!==Wt&&!ee&&(t.stencilMask(Wt),Ue=Wt)},setFunc:function(Wt,vi,Ur){(Ee!==Wt||Te!==vi||Ve!==Ur)&&(t.stencilFunc(Wt,vi,Ur),Ee=Wt,Te=vi,Ve=Ur)},setOp:function(Wt,vi,Ur){(yt!==Wt||Nt!==vi||dn!==Ur)&&(t.stencilOp(Wt,vi,Ur),yt=Wt,Nt=vi,dn=Ur)},setLocked:function(Wt){ee=Wt},setClear:function(Wt){zn!==Wt&&(t.clearStencil(Wt),zn=Wt)},reset:function(){ee=!1,Ue=null,Ee=null,Te=null,Ve=null,yt=null,Nt=null,dn=null,zn=null}}}const i=new e,s=new n,o=new r,a=new WeakMap,l=new WeakMap;let c={},d={},f=new WeakMap,p=[],g=null,_=!1,y=null,v=null,m=null,S=null,E=null,T=null,C=null,P=new Jt(0,0,0),R=0,A=!1,L=null,N=null,I=null,V=null,W=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Q=!1,q=0;const se=t.getParameter(t.VERSION);se.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(se)[1]),Q=q>=1):se.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(se)[1]),Q=q>=2);let B=null,J={};const ue=t.getParameter(t.SCISSOR_BOX),ge=t.getParameter(t.VIEWPORT),oe=new ir().fromArray(ue),Re=new ir().fromArray(ge);function X(ee,Ue,Ee,Te){const Ve=new Uint8Array(4),yt=t.createTexture();t.bindTexture(ee,yt),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Nt=0;Nt<Ee;Nt++)ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY?t.texImage3D(Ue,0,t.RGBA,1,1,Te,0,t.RGBA,t.UNSIGNED_BYTE,Ve):t.texImage2D(Ue+Nt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ve);return yt}const ce={};ce[t.TEXTURE_2D]=X(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=X(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=X(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=X(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),me(t.DEPTH_TEST),s.setFunc(L0),st(!1),Ke(G2),me(t.CULL_FACE),tt(sl);function me(ee){c[ee]!==!0&&(t.enable(ee),c[ee]=!0)}function re(ee){c[ee]!==!1&&(t.disable(ee),c[ee]=!1)}function we(ee,Ue){return d[ee]!==Ue?(t.bindFramebuffer(ee,Ue),d[ee]=Ue,ee===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Ue),ee===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Ue),!0):!1}function Be(ee,Ue){let Ee=p,Te=!1;if(ee){Ee=f.get(Ue),Ee===void 0&&(Ee=[],f.set(Ue,Ee));const Ve=ee.textures;if(Ee.length!==Ve.length||Ee[0]!==t.COLOR_ATTACHMENT0){for(let yt=0,Nt=Ve.length;yt<Nt;yt++)Ee[yt]=t.COLOR_ATTACHMENT0+yt;Ee.length=Ve.length,Te=!0}}else Ee[0]!==t.BACK&&(Ee[0]=t.BACK,Te=!0);Te&&t.drawBuffers(Ee)}function ke(ee){return g!==ee?(t.useProgram(ee),g=ee,!0):!1}const $e={[ac]:t.FUNC_ADD,[vY]:t.FUNC_SUBTRACT,[yY]:t.FUNC_REVERSE_SUBTRACT};$e[xY]=t.MIN,$e[_Y]=t.MAX;const j={[wY]:t.ZERO,[SY]:t.ONE,[bY]:t.SRC_COLOR,[q1]:t.SRC_ALPHA,[RY]:t.SRC_ALPHA_SATURATE,[CY]:t.DST_COLOR,[TY]:t.DST_ALPHA,[EY]:t.ONE_MINUS_SRC_COLOR,[Y1]:t.ONE_MINUS_SRC_ALPHA,[AY]:t.ONE_MINUS_DST_COLOR,[MY]:t.ONE_MINUS_DST_ALPHA,[PY]:t.CONSTANT_COLOR,[NY]:t.ONE_MINUS_CONSTANT_COLOR,[LY]:t.CONSTANT_ALPHA,[DY]:t.ONE_MINUS_CONSTANT_ALPHA};function tt(ee,Ue,Ee,Te,Ve,yt,Nt,dn,zn,Wt){if(ee===sl){_===!0&&(re(t.BLEND),_=!1);return}if(_===!1&&(me(t.BLEND),_=!0),ee!==gY){if(ee!==y||Wt!==A){if((v!==ac||E!==ac)&&(t.blendEquation(t.FUNC_ADD),v=ac,E=ac),Wt)switch(ee){case Md:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case W2:t.blendFunc(t.ONE,t.ONE);break;case X2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case K2:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case Md:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case W2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case X2:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case K2:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}m=null,S=null,T=null,C=null,P.set(0,0,0),R=0,y=ee,A=Wt}return}Ve=Ve||Ue,yt=yt||Ee,Nt=Nt||Te,(Ue!==v||Ve!==E)&&(t.blendEquationSeparate($e[Ue],$e[Ve]),v=Ue,E=Ve),(Ee!==m||Te!==S||yt!==T||Nt!==C)&&(t.blendFuncSeparate(j[Ee],j[Te],j[yt],j[Nt]),m=Ee,S=Te,T=yt,C=Nt),(dn.equals(P)===!1||zn!==R)&&(t.blendColor(dn.r,dn.g,dn.b,zn),P.copy(dn),R=zn),y=ee,A=!1}function je(ee,Ue){ee.side===Uo?re(t.CULL_FACE):me(t.CULL_FACE);let Ee=ee.side===hi;Ue&&(Ee=!Ee),st(Ee),ee.blending===Md&&ee.transparent===!1?tt(sl):tt(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.blendColor,ee.blendAlpha,ee.premultipliedAlpha),s.setFunc(ee.depthFunc),s.setTest(ee.depthTest),s.setMask(ee.depthWrite),i.setMask(ee.colorWrite);const Te=ee.stencilWrite;o.setTest(Te),Te&&(o.setMask(ee.stencilWriteMask),o.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),o.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),nt(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?me(t.SAMPLE_ALPHA_TO_COVERAGE):re(t.SAMPLE_ALPHA_TO_COVERAGE)}function st(ee){L!==ee&&(ee?t.frontFace(t.CW):t.frontFace(t.CCW),L=ee)}function Ke(ee){ee!==pY?(me(t.CULL_FACE),ee!==N&&(ee===G2?t.cullFace(t.BACK):ee===mY?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):re(t.CULL_FACE),N=ee}function _t(ee){ee!==I&&(Q&&t.lineWidth(ee),I=ee)}function nt(ee,Ue,Ee){ee?(me(t.POLYGON_OFFSET_FILL),(V!==Ue||W!==Ee)&&(t.polygonOffset(Ue,Ee),V=Ue,W=Ee)):re(t.POLYGON_OFFSET_FILL)}function ot(ee){ee?me(t.SCISSOR_TEST):re(t.SCISSOR_TEST)}function $(ee){ee===void 0&&(ee=t.TEXTURE0+z-1),B!==ee&&(t.activeTexture(ee),B=ee)}function k(ee,Ue,Ee){Ee===void 0&&(B===null?Ee=t.TEXTURE0+z-1:Ee=B);let Te=J[Ee];Te===void 0&&(Te={type:void 0,texture:void 0},J[Ee]=Te),(Te.type!==ee||Te.texture!==Ue)&&(B!==Ee&&(t.activeTexture(Ee),B=Ee),t.bindTexture(ee,Ue||ce[ee]),Te.type=ee,Te.texture=Ue)}function de(){const ee=J[B];ee!==void 0&&ee.type!==void 0&&(t.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function _e(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Pe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Se(){try{t.texSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function lt(){try{t.texSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ye(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ne(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ze(){try{t.texStorage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function he(){try{t.texStorage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Oe(){try{t.texImage2D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function at(){try{t.texImage3D.apply(t,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Je(ee){oe.equals(ee)===!1&&(t.scissor(ee.x,ee.y,ee.z,ee.w),oe.copy(ee))}function We(ee){Re.equals(ee)===!1&&(t.viewport(ee.x,ee.y,ee.z,ee.w),Re.copy(ee))}function be(ee,Ue){let Ee=l.get(Ue);Ee===void 0&&(Ee=new WeakMap,l.set(Ue,Ee));let Te=Ee.get(ee);Te===void 0&&(Te=t.getUniformBlockIndex(Ue,ee.name),Ee.set(ee,Te))}function rt(ee,Ue){const Te=l.get(Ue).get(ee);a.get(Ue)!==Te&&(t.uniformBlockBinding(Ue,Te,ee.__bindingPointIndex),a.set(Ue,Te))}function wt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},B=null,J={},d={},f=new WeakMap,p=[],g=null,_=!1,y=null,v=null,m=null,S=null,E=null,T=null,C=null,P=new Jt(0,0,0),R=0,A=!1,L=null,N=null,I=null,V=null,W=null,oe.set(0,0,t.canvas.width,t.canvas.height),Re.set(0,0,t.canvas.width,t.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:me,disable:re,bindFramebuffer:we,drawBuffers:Be,useProgram:ke,setBlending:tt,setMaterial:je,setFlipSided:st,setCullFace:Ke,setLineWidth:_t,setPolygonOffset:nt,setScissorTest:ot,activeTexture:$,bindTexture:k,unbindTexture:de,compressedTexImage2D:_e,compressedTexImage3D:Pe,texImage2D:Oe,texImage3D:at,updateUBOMapping:be,uniformBlockBinding:rt,texStorage2D:Ze,texStorage3D:he,texSubImage2D:Se,texSubImage3D:lt,compressedTexSubImage2D:ye,compressedTexSubImage3D:Ne,scissor:Je,viewport:We,reset:wt}}function zN(t,e,n,r){const i=Sne(r);switch(n){case uU:return t*e;case fU:return t*e;case hU:return t*e*2;case pU:return t*e/i.components*i.byteLength;case ZT:return t*e/i.components*i.byteLength;case mU:return t*e*2/i.components*i.byteLength;case JT:return t*e*2/i.components*i.byteLength;case dU:return t*e*3/i.components*i.byteLength;case Ls:return t*e*4/i.components*i.byteLength;case QT:return t*e*4/i.components*i.byteLength;case Vv:case $v:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Hv:case Gv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case nb:case ib:return Math.max(t,16)*Math.max(e,8)/4;case tb:case rb:return Math.max(t,8)*Math.max(e,8)/2;case sb:case ob:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case ab:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case lb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case cb:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ub:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case db:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case fb:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case hb:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case pb:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case mb:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case gb:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case vb:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case yb:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case xb:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case _b:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case wb:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Wv:case Sb:case bb:return Math.ceil(t/4)*Math.ceil(e/4)*16;case gU:case Eb:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Tb:case Mb:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Sne(t){switch(t){case ta:case aU:return{byteLength:1,components:1};case _p:case lU:case sm:return{byteLength:2,components:1};case qT:case YT:return{byteLength:2,components:4};case Nc:case KT:case Bo:return{byteLength:4,components:1};case cU:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function bne(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Pt,d=new WeakMap;let f;const p=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _($,k){return g?new OffscreenCanvas($,k):wp("canvas")}function y($,k,de){let _e=1;const Pe=ot($);if((Pe.width>de||Pe.height>de)&&(_e=de/Math.max(Pe.width,Pe.height)),_e<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const Se=Math.floor(_e*Pe.width),lt=Math.floor(_e*Pe.height);f===void 0&&(f=_(Se,lt));const ye=k?_(Se,lt):f;return ye.width=Se,ye.height=lt,ye.getContext("2d").drawImage($,0,0,Se,lt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Pe.width+"x"+Pe.height+") to ("+Se+"x"+lt+")."),ye}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Pe.width+"x"+Pe.height+")."),$;return $}function v($){return $.generateMipmaps&&$.minFilter!==os&&$.minFilter!==Di}function m($){t.generateMipmap($)}function S($,k,de,_e,Pe=!1){if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Se=k;if(k===t.RED&&(de===t.FLOAT&&(Se=t.R32F),de===t.HALF_FLOAT&&(Se=t.R16F),de===t.UNSIGNED_BYTE&&(Se=t.R8)),k===t.RED_INTEGER&&(de===t.UNSIGNED_BYTE&&(Se=t.R8UI),de===t.UNSIGNED_SHORT&&(Se=t.R16UI),de===t.UNSIGNED_INT&&(Se=t.R32UI),de===t.BYTE&&(Se=t.R8I),de===t.SHORT&&(Se=t.R16I),de===t.INT&&(Se=t.R32I)),k===t.RG&&(de===t.FLOAT&&(Se=t.RG32F),de===t.HALF_FLOAT&&(Se=t.RG16F),de===t.UNSIGNED_BYTE&&(Se=t.RG8)),k===t.RG_INTEGER&&(de===t.UNSIGNED_BYTE&&(Se=t.RG8UI),de===t.UNSIGNED_SHORT&&(Se=t.RG16UI),de===t.UNSIGNED_INT&&(Se=t.RG32UI),de===t.BYTE&&(Se=t.RG8I),de===t.SHORT&&(Se=t.RG16I),de===t.INT&&(Se=t.RG32I)),k===t.RGB&&de===t.UNSIGNED_INT_5_9_9_9_REV&&(Se=t.RGB9_E5),k===t.RGBA){const lt=Pe?D0:an.getTransfer(_e);de===t.FLOAT&&(Se=t.RGBA32F),de===t.HALF_FLOAT&&(Se=t.RGBA16F),de===t.UNSIGNED_BYTE&&(Se=lt===Tn?t.SRGB8_ALPHA8:t.RGBA8),de===t.UNSIGNED_SHORT_4_4_4_4&&(Se=t.RGBA4),de===t.UNSIGNED_SHORT_5_5_5_1&&(Se=t.RGB5_A1)}return(Se===t.R16F||Se===t.R32F||Se===t.RG16F||Se===t.RG32F||Se===t.RGBA16F||Se===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Se}function E($,k){let de;return $?k===null||k===Nc||k===qd?de=t.DEPTH24_STENCIL8:k===Bo?de=t.DEPTH32F_STENCIL8:k===_p&&(de=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===Nc||k===qd?de=t.DEPTH_COMPONENT24:k===Bo?de=t.DEPTH_COMPONENT32F:k===_p&&(de=t.DEPTH_COMPONENT16),de}function T($,k){return v($)===!0||$.isFramebufferTexture&&$.minFilter!==os&&$.minFilter!==Di?Math.log2(Math.max(k.width,k.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?k.mipmaps.length:1}function C($){const k=$.target;k.removeEventListener("dispose",C),R(k),k.isVideoTexture&&d.delete(k)}function P($){const k=$.target;k.removeEventListener("dispose",P),L(k)}function R($){const k=r.get($);if(k.__webglInit===void 0)return;const de=$.source,_e=p.get(de);if(_e){const Pe=_e[k.__cacheKey];Pe.usedTimes--,Pe.usedTimes===0&&A($),Object.keys(_e).length===0&&p.delete(de)}r.remove($)}function A($){const k=r.get($);t.deleteTexture(k.__webglTexture);const de=$.source,_e=p.get(de);delete _e[k.__cacheKey],o.memory.textures--}function L($){const k=r.get($);if($.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++){if(Array.isArray(k.__webglFramebuffer[_e]))for(let Pe=0;Pe<k.__webglFramebuffer[_e].length;Pe++)t.deleteFramebuffer(k.__webglFramebuffer[_e][Pe]);else t.deleteFramebuffer(k.__webglFramebuffer[_e]);k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer[_e])}else{if(Array.isArray(k.__webglFramebuffer))for(let _e=0;_e<k.__webglFramebuffer.length;_e++)t.deleteFramebuffer(k.__webglFramebuffer[_e]);else t.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&t.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&t.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let _e=0;_e<k.__webglColorRenderbuffer.length;_e++)k.__webglColorRenderbuffer[_e]&&t.deleteRenderbuffer(k.__webglColorRenderbuffer[_e]);k.__webglDepthRenderbuffer&&t.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const de=$.textures;for(let _e=0,Pe=de.length;_e<Pe;_e++){const Se=r.get(de[_e]);Se.__webglTexture&&(t.deleteTexture(Se.__webglTexture),o.memory.textures--),r.remove(de[_e])}r.remove($)}let N=0;function I(){N=0}function V(){const $=N;return $>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+i.maxTextures),N+=1,$}function W($){const k=[];return k.push($.wrapS),k.push($.wrapT),k.push($.wrapR||0),k.push($.magFilter),k.push($.minFilter),k.push($.anisotropy),k.push($.internalFormat),k.push($.format),k.push($.type),k.push($.generateMipmaps),k.push($.premultiplyAlpha),k.push($.flipY),k.push($.unpackAlignment),k.push($.colorSpace),k.join()}function z($,k){const de=r.get($);if($.isVideoTexture&&_t($),$.isRenderTargetTexture===!1&&$.version>0&&de.__version!==$.version){const _e=$.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Re(de,$,k);return}}n.bindTexture(t.TEXTURE_2D,de.__webglTexture,t.TEXTURE0+k)}function Q($,k){const de=r.get($);if($.version>0&&de.__version!==$.version){Re(de,$,k);return}n.bindTexture(t.TEXTURE_2D_ARRAY,de.__webglTexture,t.TEXTURE0+k)}function q($,k){const de=r.get($);if($.version>0&&de.__version!==$.version){Re(de,$,k);return}n.bindTexture(t.TEXTURE_3D,de.__webglTexture,t.TEXTURE0+k)}function se($,k){const de=r.get($);if($.version>0&&de.__version!==$.version){X(de,$,k);return}n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture,t.TEXTURE0+k)}const B={[Q1]:t.REPEAT,[gc]:t.CLAMP_TO_EDGE,[eb]:t.MIRRORED_REPEAT},J={[os]:t.NEAREST,[qY]:t.NEAREST_MIPMAP_NEAREST,[Ig]:t.NEAREST_MIPMAP_LINEAR,[Di]:t.LINEAR,[_w]:t.LINEAR_MIPMAP_NEAREST,[vc]:t.LINEAR_MIPMAP_LINEAR},ue={[QY]:t.NEVER,[sZ]:t.ALWAYS,[eZ]:t.LESS,[yU]:t.LEQUAL,[tZ]:t.EQUAL,[iZ]:t.GEQUAL,[nZ]:t.GREATER,[rZ]:t.NOTEQUAL};function ge($,k){if(k.type===Bo&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===Di||k.magFilter===_w||k.magFilter===Ig||k.magFilter===vc||k.minFilter===Di||k.minFilter===_w||k.minFilter===Ig||k.minFilter===vc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri($,t.TEXTURE_WRAP_S,B[k.wrapS]),t.texParameteri($,t.TEXTURE_WRAP_T,B[k.wrapT]),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,B[k.wrapR]),t.texParameteri($,t.TEXTURE_MAG_FILTER,J[k.magFilter]),t.texParameteri($,t.TEXTURE_MIN_FILTER,J[k.minFilter]),k.compareFunction&&(t.texParameteri($,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri($,t.TEXTURE_COMPARE_FUNC,ue[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===os||k.minFilter!==Ig&&k.minFilter!==vc||k.type===Bo&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||r.get(k).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");t.texParameterf($,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),r.get(k).__currentAnisotropy=k.anisotropy}}}function oe($,k){let de=!1;$.__webglInit===void 0&&($.__webglInit=!0,k.addEventListener("dispose",C));const _e=k.source;let Pe=p.get(_e);Pe===void 0&&(Pe={},p.set(_e,Pe));const Se=W(k);if(Se!==$.__cacheKey){Pe[Se]===void 0&&(Pe[Se]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,de=!0),Pe[Se].usedTimes++;const lt=Pe[$.__cacheKey];lt!==void 0&&(Pe[$.__cacheKey].usedTimes--,lt.usedTimes===0&&A(k)),$.__cacheKey=Se,$.__webglTexture=Pe[Se].texture}return de}function Re($,k,de){let _e=t.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(_e=t.TEXTURE_2D_ARRAY),k.isData3DTexture&&(_e=t.TEXTURE_3D);const Pe=oe($,k),Se=k.source;n.bindTexture(_e,$.__webglTexture,t.TEXTURE0+de);const lt=r.get(Se);if(Se.version!==lt.__version||Pe===!0){n.activeTexture(t.TEXTURE0+de);const ye=an.getPrimaries(an.workingColorSpace),Ne=k.colorSpace===Va?null:an.getPrimaries(k.colorSpace),Ze=k.colorSpace===Va||ye===Ne?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);let he=y(k.image,!1,i.maxTextureSize);he=nt(k,he);const Oe=s.convert(k.format,k.colorSpace),at=s.convert(k.type);let Je=S(k.internalFormat,Oe,at,k.colorSpace,k.isVideoTexture);ge(_e,k);let We;const be=k.mipmaps,rt=k.isVideoTexture!==!0,wt=lt.__version===void 0||Pe===!0,ee=Se.dataReady,Ue=T(k,he);if(k.isDepthTexture)Je=E(k.format===Yd,k.type),wt&&(rt?n.texStorage2D(t.TEXTURE_2D,1,Je,he.width,he.height):n.texImage2D(t.TEXTURE_2D,0,Je,he.width,he.height,0,Oe,at,null));else if(k.isDataTexture)if(be.length>0){rt&&wt&&n.texStorage2D(t.TEXTURE_2D,Ue,Je,be[0].width,be[0].height);for(let Ee=0,Te=be.length;Ee<Te;Ee++)We=be[Ee],rt?ee&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,We.width,We.height,Oe,at,We.data):n.texImage2D(t.TEXTURE_2D,Ee,Je,We.width,We.height,0,Oe,at,We.data);k.generateMipmaps=!1}else rt?(wt&&n.texStorage2D(t.TEXTURE_2D,Ue,Je,he.width,he.height),ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,he.width,he.height,Oe,at,he.data)):n.texImage2D(t.TEXTURE_2D,0,Je,he.width,he.height,0,Oe,at,he.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){rt&&wt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ue,Je,be[0].width,be[0].height,he.depth);for(let Ee=0,Te=be.length;Ee<Te;Ee++)if(We=be[Ee],k.format!==Ls)if(Oe!==null)if(rt){if(ee)if(k.layerUpdates.size>0){const Ve=zN(We.width,We.height,k.format,k.type);for(const yt of k.layerUpdates){const Nt=We.data.subarray(yt*Ve/We.data.BYTES_PER_ELEMENT,(yt+1)*Ve/We.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,yt,We.width,We.height,1,Oe,Nt,0,0)}k.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,We.width,We.height,he.depth,Oe,We.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,Je,We.width,We.height,he.depth,0,We.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else rt?ee&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,We.width,We.height,he.depth,Oe,at,We.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,Je,We.width,We.height,he.depth,0,Oe,at,We.data)}else{rt&&wt&&n.texStorage2D(t.TEXTURE_2D,Ue,Je,be[0].width,be[0].height);for(let Ee=0,Te=be.length;Ee<Te;Ee++)We=be[Ee],k.format!==Ls?Oe!==null?rt?ee&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,We.width,We.height,Oe,We.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,Je,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?ee&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,We.width,We.height,Oe,at,We.data):n.texImage2D(t.TEXTURE_2D,Ee,Je,We.width,We.height,0,Oe,at,We.data)}else if(k.isDataArrayTexture)if(rt){if(wt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ue,Je,he.width,he.height,he.depth),ee)if(k.layerUpdates.size>0){const Ee=zN(he.width,he.height,k.format,k.type);for(const Te of k.layerUpdates){const Ve=he.data.subarray(Te*Ee/he.data.BYTES_PER_ELEMENT,(Te+1)*Ee/he.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Te,he.width,he.height,1,Oe,at,Ve)}k.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,he.width,he.height,he.depth,Oe,at,he.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Je,he.width,he.height,he.depth,0,Oe,at,he.data);else if(k.isData3DTexture)rt?(wt&&n.texStorage3D(t.TEXTURE_3D,Ue,Je,he.width,he.height,he.depth),ee&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,he.width,he.height,he.depth,Oe,at,he.data)):n.texImage3D(t.TEXTURE_3D,0,Je,he.width,he.height,he.depth,0,Oe,at,he.data);else if(k.isFramebufferTexture){if(wt)if(rt)n.texStorage2D(t.TEXTURE_2D,Ue,Je,he.width,he.height);else{let Ee=he.width,Te=he.height;for(let Ve=0;Ve<Ue;Ve++)n.texImage2D(t.TEXTURE_2D,Ve,Je,Ee,Te,0,Oe,at,null),Ee>>=1,Te>>=1}}else if(be.length>0){if(rt&&wt){const Ee=ot(be[0]);n.texStorage2D(t.TEXTURE_2D,Ue,Je,Ee.width,Ee.height)}for(let Ee=0,Te=be.length;Ee<Te;Ee++)We=be[Ee],rt?ee&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,Oe,at,We):n.texImage2D(t.TEXTURE_2D,Ee,Je,Oe,at,We);k.generateMipmaps=!1}else if(rt){if(wt){const Ee=ot(he);n.texStorage2D(t.TEXTURE_2D,Ue,Je,Ee.width,Ee.height)}ee&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe,at,he)}else n.texImage2D(t.TEXTURE_2D,0,Je,Oe,at,he);v(k)&&m(_e),lt.__version=Se.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function X($,k,de){if(k.image.length!==6)return;const _e=oe($,k),Pe=k.source;n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture,t.TEXTURE0+de);const Se=r.get(Pe);if(Pe.version!==Se.__version||_e===!0){n.activeTexture(t.TEXTURE0+de);const lt=an.getPrimaries(an.workingColorSpace),ye=k.colorSpace===Va?null:an.getPrimaries(k.colorSpace),Ne=k.colorSpace===Va||lt===ye?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,k.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,k.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ne);const Ze=k.isCompressedTexture||k.image[0].isCompressedTexture,he=k.image[0]&&k.image[0].isDataTexture,Oe=[];for(let Te=0;Te<6;Te++)!Ze&&!he?Oe[Te]=y(k.image[Te],!0,i.maxCubemapSize):Oe[Te]=he?k.image[Te].image:k.image[Te],Oe[Te]=nt(k,Oe[Te]);const at=Oe[0],Je=s.convert(k.format,k.colorSpace),We=s.convert(k.type),be=S(k.internalFormat,Je,We,k.colorSpace),rt=k.isVideoTexture!==!0,wt=Se.__version===void 0||_e===!0,ee=Pe.dataReady;let Ue=T(k,at);ge(t.TEXTURE_CUBE_MAP,k);let Ee;if(Ze){rt&&wt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ue,be,at.width,at.height);for(let Te=0;Te<6;Te++){Ee=Oe[Te].mipmaps;for(let Ve=0;Ve<Ee.length;Ve++){const yt=Ee[Ve];k.format!==Ls?Je!==null?rt?ee&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve,0,0,yt.width,yt.height,Je,yt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve,be,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?ee&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve,0,0,yt.width,yt.height,Je,We,yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve,be,yt.width,yt.height,0,Je,We,yt.data)}}}else{if(Ee=k.mipmaps,rt&&wt){Ee.length>0&&Ue++;const Te=ot(Oe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ue,be,Te.width,Te.height)}for(let Te=0;Te<6;Te++)if(he){rt?ee&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Oe[Te].width,Oe[Te].height,Je,We,Oe[Te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,be,Oe[Te].width,Oe[Te].height,0,Je,We,Oe[Te].data);for(let Ve=0;Ve<Ee.length;Ve++){const Nt=Ee[Ve].image[Te].image;rt?ee&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve+1,0,0,Nt.width,Nt.height,Je,We,Nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve+1,be,Nt.width,Nt.height,0,Je,We,Nt.data)}}else{rt?ee&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Je,We,Oe[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,be,Je,We,Oe[Te]);for(let Ve=0;Ve<Ee.length;Ve++){const yt=Ee[Ve];rt?ee&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve+1,0,0,Je,We,yt.image[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ve+1,be,Je,We,yt.image[Te])}}}v(k)&&m(t.TEXTURE_CUBE_MAP),Se.__version=Pe.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function ce($,k,de,_e,Pe,Se){const lt=s.convert(de.format,de.colorSpace),ye=s.convert(de.type),Ne=S(de.internalFormat,lt,ye,de.colorSpace);if(!r.get(k).__hasExternalTextures){const he=Math.max(1,k.width>>Se),Oe=Math.max(1,k.height>>Se);Pe===t.TEXTURE_3D||Pe===t.TEXTURE_2D_ARRAY?n.texImage3D(Pe,Se,Ne,he,Oe,k.depth,0,lt,ye,null):n.texImage2D(Pe,Se,Ne,he,Oe,0,lt,ye,null)}n.bindFramebuffer(t.FRAMEBUFFER,$),Ke(k)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,_e,Pe,r.get(de).__webglTexture,0,st(k)):(Pe===t.TEXTURE_2D||Pe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Pe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,_e,Pe,r.get(de).__webglTexture,Se),n.bindFramebuffer(t.FRAMEBUFFER,null)}function me($,k,de){if(t.bindRenderbuffer(t.RENDERBUFFER,$),k.depthBuffer){const _e=k.depthTexture,Pe=_e&&_e.isDepthTexture?_e.type:null,Se=E(k.stencilBuffer,Pe),lt=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=st(k);Ke(k)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ye,Se,k.width,k.height):de?t.renderbufferStorageMultisample(t.RENDERBUFFER,ye,Se,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,Se,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,lt,t.RENDERBUFFER,$)}else{const _e=k.textures;for(let Pe=0;Pe<_e.length;Pe++){const Se=_e[Pe],lt=s.convert(Se.format,Se.colorSpace),ye=s.convert(Se.type),Ne=S(Se.internalFormat,lt,ye,Se.colorSpace),Ze=st(k);de&&Ke(k)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ze,Ne,k.width,k.height):Ke(k)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ze,Ne,k.width,k.height):t.renderbufferStorage(t.RENDERBUFFER,Ne,k.width,k.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function re($,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,$),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),z(k.depthTexture,0);const _e=r.get(k.depthTexture).__webglTexture,Pe=st(k);if(k.depthTexture.format===Cd)Ke(k)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0,Pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0);else if(k.depthTexture.format===Yd)Ke(k)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0,Pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0);else throw new Error("Unknown depthTexture format")}function we($){const k=r.get($),de=$.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==$.depthTexture){const _e=$.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),_e){const Pe=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,_e.removeEventListener("dispose",Pe)};_e.addEventListener("dispose",Pe),k.__depthDisposeCallback=Pe}k.__boundDepthTexture=_e}if($.depthTexture&&!k.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");re(k.__webglFramebuffer,$)}else if(de){k.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer[_e]),k.__webglDepthbuffer[_e]===void 0)k.__webglDepthbuffer[_e]=t.createRenderbuffer(),me(k.__webglDepthbuffer[_e],$,!1);else{const Pe=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Se=k.__webglDepthbuffer[_e];t.bindRenderbuffer(t.RENDERBUFFER,Se),t.framebufferRenderbuffer(t.FRAMEBUFFER,Pe,t.RENDERBUFFER,Se)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=t.createRenderbuffer(),me(k.__webglDepthbuffer,$,!1);else{const _e=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Pe=k.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Pe),t.framebufferRenderbuffer(t.FRAMEBUFFER,_e,t.RENDERBUFFER,Pe)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Be($,k,de){const _e=r.get($);k!==void 0&&ce(_e.__webglFramebuffer,$,$.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),de!==void 0&&we($)}function ke($){const k=$.texture,de=r.get($),_e=r.get(k);$.addEventListener("dispose",P);const Pe=$.textures,Se=$.isWebGLCubeRenderTarget===!0,lt=Pe.length>1;if(lt||(_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture()),_e.__version=k.version,o.memory.textures++),Se){de.__webglFramebuffer=[];for(let ye=0;ye<6;ye++)if(k.mipmaps&&k.mipmaps.length>0){de.__webglFramebuffer[ye]=[];for(let Ne=0;Ne<k.mipmaps.length;Ne++)de.__webglFramebuffer[ye][Ne]=t.createFramebuffer()}else de.__webglFramebuffer[ye]=t.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){de.__webglFramebuffer=[];for(let ye=0;ye<k.mipmaps.length;ye++)de.__webglFramebuffer[ye]=t.createFramebuffer()}else de.__webglFramebuffer=t.createFramebuffer();if(lt)for(let ye=0,Ne=Pe.length;ye<Ne;ye++){const Ze=r.get(Pe[ye]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=t.createTexture(),o.memory.textures++)}if($.samples>0&&Ke($)===!1){de.__webglMultisampledFramebuffer=t.createFramebuffer(),de.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let ye=0;ye<Pe.length;ye++){const Ne=Pe[ye];de.__webglColorRenderbuffer[ye]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,de.__webglColorRenderbuffer[ye]);const Ze=s.convert(Ne.format,Ne.colorSpace),he=s.convert(Ne.type),Oe=S(Ne.internalFormat,Ze,he,Ne.colorSpace,$.isXRRenderTarget===!0),at=st($);t.renderbufferStorageMultisample(t.RENDERBUFFER,at,Oe,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ye,t.RENDERBUFFER,de.__webglColorRenderbuffer[ye])}t.bindRenderbuffer(t.RENDERBUFFER,null),$.depthBuffer&&(de.__webglDepthRenderbuffer=t.createRenderbuffer(),me(de.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Se){n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture),ge(t.TEXTURE_CUBE_MAP,k);for(let ye=0;ye<6;ye++)if(k.mipmaps&&k.mipmaps.length>0)for(let Ne=0;Ne<k.mipmaps.length;Ne++)ce(de.__webglFramebuffer[ye][Ne],$,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Ne);else ce(de.__webglFramebuffer[ye],$,k,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ye,0);v(k)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(lt){for(let ye=0,Ne=Pe.length;ye<Ne;ye++){const Ze=Pe[ye],he=r.get(Ze);n.bindTexture(t.TEXTURE_2D,he.__webglTexture),ge(t.TEXTURE_2D,Ze),ce(de.__webglFramebuffer,$,Ze,t.COLOR_ATTACHMENT0+ye,t.TEXTURE_2D,0),v(Ze)&&m(t.TEXTURE_2D)}n.unbindTexture()}else{let ye=t.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ye=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ye,_e.__webglTexture),ge(ye,k),k.mipmaps&&k.mipmaps.length>0)for(let Ne=0;Ne<k.mipmaps.length;Ne++)ce(de.__webglFramebuffer[Ne],$,k,t.COLOR_ATTACHMENT0,ye,Ne);else ce(de.__webglFramebuffer,$,k,t.COLOR_ATTACHMENT0,ye,0);v(k)&&m(ye),n.unbindTexture()}$.depthBuffer&&we($)}function $e($){const k=$.textures;for(let de=0,_e=k.length;de<_e;de++){const Pe=k[de];if(v(Pe)){const Se=$.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,lt=r.get(Pe).__webglTexture;n.bindTexture(Se,lt),m(Se),n.unbindTexture()}}}const j=[],tt=[];function je($){if($.samples>0){if(Ke($)===!1){const k=$.textures,de=$.width,_e=$.height;let Pe=t.COLOR_BUFFER_BIT;const Se=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,lt=r.get($),ye=k.length>1;if(ye)for(let Ne=0;Ne<k.length;Ne++)n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,lt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglFramebuffer);for(let Ne=0;Ne<k.length;Ne++){if($.resolveDepthBuffer&&($.depthBuffer&&(Pe|=t.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(Pe|=t.STENCIL_BUFFER_BIT)),ye){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,lt.__webglColorRenderbuffer[Ne]);const Ze=r.get(k[Ne]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ze,0)}t.blitFramebuffer(0,0,de,_e,0,0,de,_e,Pe,t.NEAREST),l===!0&&(j.length=0,tt.length=0,j.push(t.COLOR_ATTACHMENT0+Ne),$.depthBuffer&&$.resolveDepthBuffer===!1&&(j.push(Se),tt.push(Se),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,tt)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,j))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ye)for(let Ne=0;Ne<k.length;Ne++){n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.RENDERBUFFER,lt.__webglColorRenderbuffer[Ne]);const Ze=r.get(k[Ne]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,lt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ne,t.TEXTURE_2D,Ze,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,lt.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&l){const k=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[k])}}}function st($){return Math.min(i.maxSamples,$.samples)}function Ke($){const k=r.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function _t($){const k=o.render.frame;d.get($)!==k&&(d.set($,k),$.update())}function nt($,k){const de=$.colorSpace,_e=$.format,Pe=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||de!==Al&&de!==Va&&(an.getTransfer(de)===Tn?(_e!==Ls||Pe!==ta)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),k}function ot($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(c.width=$.naturalWidth||$.width,c.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(c.width=$.displayWidth,c.height=$.displayHeight):(c.width=$.width,c.height=$.height),c}this.allocateTextureUnit=V,this.resetTextureUnits=I,this.setTexture2D=z,this.setTexture2DArray=Q,this.setTexture3D=q,this.setTextureCube=se,this.rebindTextures=Be,this.setupRenderTarget=ke,this.updateRenderTargetMipmap=$e,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=we,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=Ke}function Ene(t,e){function n(r,i=Va){let s;const o=an.getTransfer(i);if(r===ta)return t.UNSIGNED_BYTE;if(r===qT)return t.UNSIGNED_SHORT_4_4_4_4;if(r===YT)return t.UNSIGNED_SHORT_5_5_5_1;if(r===cU)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===aU)return t.BYTE;if(r===lU)return t.SHORT;if(r===_p)return t.UNSIGNED_SHORT;if(r===KT)return t.INT;if(r===Nc)return t.UNSIGNED_INT;if(r===Bo)return t.FLOAT;if(r===sm)return t.HALF_FLOAT;if(r===uU)return t.ALPHA;if(r===dU)return t.RGB;if(r===Ls)return t.RGBA;if(r===fU)return t.LUMINANCE;if(r===hU)return t.LUMINANCE_ALPHA;if(r===Cd)return t.DEPTH_COMPONENT;if(r===Yd)return t.DEPTH_STENCIL;if(r===pU)return t.RED;if(r===ZT)return t.RED_INTEGER;if(r===mU)return t.RG;if(r===JT)return t.RG_INTEGER;if(r===QT)return t.RGBA_INTEGER;if(r===Vv||r===$v||r===Hv||r===Gv)if(o===Tn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Vv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===$v)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Hv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Gv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Vv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===$v)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Hv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Gv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===tb||r===nb||r===rb||r===ib)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===tb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===nb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===rb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===ib)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===sb||r===ob||r===ab)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===sb||r===ob)return o===Tn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===ab)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===lb||r===cb||r===ub||r===db||r===fb||r===hb||r===pb||r===mb||r===gb||r===vb||r===yb||r===xb||r===_b||r===wb)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===lb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===cb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ub)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===db)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===fb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===hb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===pb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===mb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===gb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===vb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===yb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===xb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===_b)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===wb)return o===Tn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Wv||r===Sb||r===bb)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===Wv)return o===Tn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Sb)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===bb)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===gU||r===Eb||r===Tb||r===Mb)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===Wv)return s.COMPRESSED_RED_RGTC1_EXT;if(r===Eb)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Tb)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Mb)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===qd?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class Tne extends Ni{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class nv extends _r{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Mne={type:"move"};class Gw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new nv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new nv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new nv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const v=n.getJointPose(y,r),m=this._getHandJoint(c,y);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const d=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=d.position.distanceTo(f.position),g=.02,_=.005;c.inputState.pinching&&p>g+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=g-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Mne)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new nv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const Cne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ane=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Rne{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Xr,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new gl({vertexShader:Cne,fragmentShader:Ane,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ds(new cm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Pne extends Gc{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,f=null,p=null,g=null,_=null;const y=new Rne,v=n.getContextAttributes();let m=null,S=null;const E=[],T=[],C=new Pt;let P=null;const R=new Ni;R.layers.enable(1),R.viewport=new ir;const A=new Ni;A.layers.enable(2),A.viewport=new ir;const L=[R,A],N=new Tne;N.layers.enable(1),N.layers.enable(2);let I=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let ce=E[X];return ce===void 0&&(ce=new Gw,E[X]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(X){let ce=E[X];return ce===void 0&&(ce=new Gw,E[X]=ce),ce.getGripSpace()},this.getHand=function(X){let ce=E[X];return ce===void 0&&(ce=new Gw,E[X]=ce),ce.getHandSpace()};function W(X){const ce=T.indexOf(X.inputSource);if(ce===-1)return;const me=E[ce];me!==void 0&&(me.update(X.inputSource,X.frame,c||o),me.dispatchEvent({type:X.type,data:X.inputSource}))}function z(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",Q);for(let X=0;X<E.length;X++){const ce=T[X];ce!==null&&(T[X]=null,E[X].disconnect(ce))}I=null,V=null,y.reset(),e.setRenderTarget(m),g=null,p=null,f=null,i=null,S=null,Re.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(X){c=X},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return f},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(X){if(i=X,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",z),i.addEventListener("inputsourceschange",Q),v.xrCompatible!==!0&&await n.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(C),i.renderState.layers===void 0){const ce={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,ce),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),S=new Lc(g.framebufferWidth,g.framebufferHeight,{format:Ls,type:ta,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let ce=null,me=null,re=null;v.depth&&(re=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ce=v.stencil?Yd:Cd,me=v.stencil?qd:Nc);const we={colorFormat:n.RGBA8,depthFormat:re,scaleFactor:s};f=new XRWebGLBinding(i,n),p=f.createProjectionLayer(we),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),S=new Lc(p.textureWidth,p.textureHeight,{format:Ls,type:ta,depthTexture:new LU(p.textureWidth,p.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,ce),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),Re.setContext(i),Re.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function Q(X){for(let ce=0;ce<X.removed.length;ce++){const me=X.removed[ce],re=T.indexOf(me);re>=0&&(T[re]=null,E[re].disconnect(me))}for(let ce=0;ce<X.added.length;ce++){const me=X.added[ce];let re=T.indexOf(me);if(re===-1){for(let Be=0;Be<E.length;Be++)if(Be>=T.length){T.push(me),re=Be;break}else if(T[Be]===null){T[Be]=me,re=Be;break}if(re===-1)break}const we=E[re];we&&we.connect(me)}}const q=new fe,se=new fe;function B(X,ce,me){q.setFromMatrixPosition(ce.matrixWorld),se.setFromMatrixPosition(me.matrixWorld);const re=q.distanceTo(se),we=ce.projectionMatrix.elements,Be=me.projectionMatrix.elements,ke=we[14]/(we[10]-1),$e=we[14]/(we[10]+1),j=(we[9]+1)/we[5],tt=(we[9]-1)/we[5],je=(we[8]-1)/we[0],st=(Be[8]+1)/Be[0],Ke=ke*je,_t=ke*st,nt=re/(-je+st),ot=nt*-je;if(ce.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(ot),X.translateZ(nt),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert(),we[10]===-1)X.projectionMatrix.copy(ce.projectionMatrix),X.projectionMatrixInverse.copy(ce.projectionMatrixInverse);else{const $=ke+nt,k=$e+nt,de=Ke-ot,_e=_t+(re-ot),Pe=j*$e/k*$,Se=tt*$e/k*$;X.projectionMatrix.makePerspective(de,_e,Pe,Se,$,k),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}}function J(X,ce){ce===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(ce.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(i===null)return;let ce=X.near,me=X.far;y.texture!==null&&(y.depthNear>0&&(ce=y.depthNear),y.depthFar>0&&(me=y.depthFar)),N.near=A.near=R.near=ce,N.far=A.far=R.far=me,(I!==N.near||V!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),I=N.near,V=N.far);const re=X.parent,we=N.cameras;J(N,re);for(let Be=0;Be<we.length;Be++)J(we[Be],re);we.length===2?B(N,R,A):N.projectionMatrix.copy(R.projectionMatrix),ue(X,N,re)};function ue(X,ce,me){me===null?X.matrix.copy(ce.matrixWorld):(X.matrix.copy(me.matrixWorld),X.matrix.invert(),X.matrix.multiply(ce.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0),X.projectionMatrix.copy(ce.projectionMatrix),X.projectionMatrixInverse.copy(ce.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=Zd*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(X){l=X,p!==null&&(p.fixedFoveation=X),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=X)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(N)};let ge=null;function oe(X,ce){if(d=ce.getViewerPose(c||o),_=ce,d!==null){const me=d.views;g!==null&&(e.setRenderTargetFramebuffer(S,g.framebuffer),e.setRenderTarget(S));let re=!1;me.length!==N.cameras.length&&(N.cameras.length=0,re=!0);for(let Be=0;Be<me.length;Be++){const ke=me[Be];let $e=null;if(g!==null)$e=g.getViewport(ke);else{const tt=f.getViewSubImage(p,ke);$e=tt.viewport,Be===0&&(e.setRenderTargetTextures(S,tt.colorTexture,p.ignoreDepthValues?void 0:tt.depthStencilTexture),e.setRenderTarget(S))}let j=L[Be];j===void 0&&(j=new Ni,j.layers.enable(Be),j.viewport=new ir,L[Be]=j),j.matrix.fromArray(ke.transform.matrix),j.matrix.decompose(j.position,j.quaternion,j.scale),j.projectionMatrix.fromArray(ke.projectionMatrix),j.projectionMatrixInverse.copy(j.projectionMatrix).invert(),j.viewport.set($e.x,$e.y,$e.width,$e.height),Be===0&&(N.matrix.copy(j.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),re===!0&&N.cameras.push(j)}const we=i.enabledFeatures;if(we&&we.includes("depth-sensing")){const Be=f.getDepthInformation(me[0]);Be&&Be.isValid&&Be.texture&&y.init(e,Be,i.renderState)}}for(let me=0;me<E.length;me++){const re=T[me],we=E[me];re!==null&&we!==void 0&&we.update(re,ce,c||o)}ge&&ge(X,ce),ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ce}),_=null}const Re=new NU;Re.setAnimationLoop(oe),this.setAnimationLoop=function(X){ge=X},this.dispose=function(){}}}const Yl=new lo,Nne=new Wn;function Lne(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,AU(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function i(v,m,S,E,T){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(v,m):m.isMeshToonMaterial?(s(v,m),f(v,m)):m.isMeshPhongMaterial?(s(v,m),d(v,m)):m.isMeshStandardMaterial?(s(v,m),p(v,m),m.isMeshPhysicalMaterial&&g(v,m,T)):m.isMeshMatcapMaterial?(s(v,m),_(v,m)):m.isMeshDepthMaterial?s(v,m):m.isMeshDistanceMaterial?(s(v,m),y(v,m)):m.isMeshNormalMaterial?s(v,m):m.isLineBasicMaterial?(o(v,m),m.isLineDashedMaterial&&a(v,m)):m.isPointsMaterial?l(v,m,S,E):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===hi&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===hi&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const S=e.get(m),E=S.envMap,T=S.envMapRotation;E&&(v.envMap.value=E,Yl.copy(T),Yl.x*=-1,Yl.y*=-1,Yl.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Yl.y*=-1,Yl.z*=-1),v.envMapRotation.value.setFromMatrix4(Nne.makeRotationFromEuler(Yl)),v.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function o(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function a(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,S,E){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*S,v.scale.value=E*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function d(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function p(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function g(v,m,S){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===hi&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=S.texture,v.transmissionSamplerSize.value.set(S.width,S.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function _(v,m){m.matcap&&(v.matcap.value=m.matcap)}function y(v,m){const S=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(S.matrixWorld),v.nearDistance.value=S.shadow.camera.near,v.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Dne(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,E){const T=E.program;r.uniformBlockBinding(S,T)}function c(S,E){let T=i[S.id];T===void 0&&(_(S),T=d(S),i[S.id]=T,S.addEventListener("dispose",v));const C=E.program;r.updateUBOMapping(S,C);const P=e.render.frame;s[S.id]!==P&&(p(S),s[S.id]=P)}function d(S){const E=f();S.__bindingPointIndex=E;const T=t.createBuffer(),C=S.__size,P=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,T),t.bufferData(t.UNIFORM_BUFFER,C,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,E,T),T}function f(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const E=i[S.id],T=S.uniforms,C=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,E);for(let P=0,R=T.length;P<R;P++){const A=Array.isArray(T[P])?T[P]:[T[P]];for(let L=0,N=A.length;L<N;L++){const I=A[L];if(g(I,P,L,C)===!0){const V=I.__offset,W=Array.isArray(I.value)?I.value:[I.value];let z=0;for(let Q=0;Q<W.length;Q++){const q=W[Q],se=y(q);typeof q=="number"||typeof q=="boolean"?(I.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,V+z,I.__data)):q.isMatrix3?(I.__data[0]=q.elements[0],I.__data[1]=q.elements[1],I.__data[2]=q.elements[2],I.__data[3]=0,I.__data[4]=q.elements[3],I.__data[5]=q.elements[4],I.__data[6]=q.elements[5],I.__data[7]=0,I.__data[8]=q.elements[6],I.__data[9]=q.elements[7],I.__data[10]=q.elements[8],I.__data[11]=0):(q.toArray(I.__data,z),z+=se.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,V,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(S,E,T,C){const P=S.value,R=E+"_"+T;if(C[R]===void 0)return typeof P=="number"||typeof P=="boolean"?C[R]=P:C[R]=P.clone(),!0;{const A=C[R];if(typeof P=="number"||typeof P=="boolean"){if(A!==P)return C[R]=P,!0}else if(A.equals(P)===!1)return A.copy(P),!0}return!1}function _(S){const E=S.uniforms;let T=0;const C=16;for(let R=0,A=E.length;R<A;R++){const L=Array.isArray(E[R])?E[R]:[E[R]];for(let N=0,I=L.length;N<I;N++){const V=L[N],W=Array.isArray(V.value)?V.value:[V.value];for(let z=0,Q=W.length;z<Q;z++){const q=W[z],se=y(q),B=T%C,J=B%se.boundary,ue=B+J;T+=J,ue!==0&&C-ue<se.storage&&(T+=C-ue),V.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=T,T+=se.storage}}}const P=T%C;return P>0&&(T+=C-P),S.__size=T,S.__cache={},this}function y(S){const E={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(E.boundary=4,E.storage=4):S.isVector2?(E.boundary=8,E.storage=8):S.isVector3||S.isColor?(E.boundary=16,E.storage=12):S.isVector4?(E.boundary=16,E.storage=16):S.isMatrix3?(E.boundary=48,E.storage=48):S.isMatrix4?(E.boundary=64,E.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),E}function v(S){const E=S.target;E.removeEventListener("dispose",v);const T=o.indexOf(E.__bindingPointIndex);o.splice(T,1),t.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function m(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:c,dispose:m}}class Ine{constructor(e={}){const{canvas:n=bZ(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=o;const g=new Uint32Array(4),_=new Int32Array(4);let y=null,v=null;const m=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Cs,this.toneMapping=ol,this.toneMappingExposure=1;const E=this;let T=!1,C=0,P=0,R=null,A=-1,L=null;const N=new ir,I=new ir;let V=null;const W=new Jt(0);let z=0,Q=n.width,q=n.height,se=1,B=null,J=null;const ue=new ir(0,0,Q,q),ge=new ir(0,0,Q,q);let oe=!1;const Re=new rM;let X=!1,ce=!1;const me=new Wn,re=new fe,we=new ir,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ke=!1;function $e(){return R===null?se:1}let j=r;function tt(O,G){return n.getContext(O,G)}try{const O={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${WT}`),n.addEventListener("webglcontextlost",Ee,!1),n.addEventListener("webglcontextrestored",Te,!1),n.addEventListener("webglcontextcreationerror",Ve,!1),j===null){const G="webgl2";if(j=tt(G,O),j===null)throw tt(G)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let je,st,Ke,_t,nt,ot,$,k,de,_e,Pe,Se,lt,ye,Ne,Ze,he,Oe,at,Je,We,be,rt,wt;function ee(){je=new Bee(j),je.init(),be=new Ene(j,je),st=new Dee(j,je,e,be),Ke=new wne(j),_t=new $ee(j),nt=new ane,ot=new bne(j,je,Ke,nt,st,be,_t),$=new Oee(E),k=new jee(E),de=new qZ(j),rt=new Nee(j,de),_e=new zee(j,de,_t,rt),Pe=new Gee(j,_e,de,_t),at=new Hee(j,st,ot),Ze=new Iee(nt),Se=new one(E,$,k,je,st,rt,Ze),lt=new Lne(E,nt),ye=new cne,Ne=new mne(je),Oe=new Pee(E,$,k,Ke,Pe,p,l),he=new _ne(E,Pe,st),wt=new Dne(j,_t,st,Ke),Je=new Lee(j,je,_t),We=new Vee(j,je,_t),_t.programs=Se.programs,E.capabilities=st,E.extensions=je,E.properties=nt,E.renderLists=ye,E.shadowMap=he,E.state=Ke,E.info=_t}ee();const Ue=new Pne(E,j);this.xr=Ue,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const O=je.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=je.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return se},this.setPixelRatio=function(O){O!==void 0&&(se=O,this.setSize(Q,q,!1))},this.getSize=function(O){return O.set(Q,q)},this.setSize=function(O,G,Z=!0){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=O,q=G,n.width=Math.floor(O*se),n.height=Math.floor(G*se),Z===!0&&(n.style.width=O+"px",n.style.height=G+"px"),this.setViewport(0,0,O,G)},this.getDrawingBufferSize=function(O){return O.set(Q*se,q*se).floor()},this.setDrawingBufferSize=function(O,G,Z){Q=O,q=G,se=Z,n.width=Math.floor(O*Z),n.height=Math.floor(G*Z),this.setViewport(0,0,O,G)},this.getCurrentViewport=function(O){return O.copy(N)},this.getViewport=function(O){return O.copy(ue)},this.setViewport=function(O,G,Z,ae){O.isVector4?ue.set(O.x,O.y,O.z,O.w):ue.set(O,G,Z,ae),Ke.viewport(N.copy(ue).multiplyScalar(se).round())},this.getScissor=function(O){return O.copy(ge)},this.setScissor=function(O,G,Z,ae){O.isVector4?ge.set(O.x,O.y,O.z,O.w):ge.set(O,G,Z,ae),Ke.scissor(I.copy(ge).multiplyScalar(se).round())},this.getScissorTest=function(){return oe},this.setScissorTest=function(O){Ke.setScissorTest(oe=O)},this.setOpaqueSort=function(O){B=O},this.setTransparentSort=function(O){J=O},this.getClearColor=function(O){return O.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(O=!0,G=!0,Z=!0){let ae=0;if(O){let te=!1;if(R!==null){const Le=R.texture.format;te=Le===QT||Le===JT||Le===ZT}if(te){const Le=R.texture.type,Ie=Le===ta||Le===Nc||Le===_p||Le===qd||Le===qT||Le===YT,qe=Oe.getClearColor(),He=Oe.getClearAlpha(),xt=qe.r,gt=qe.g,dt=qe.b;Ie?(g[0]=xt,g[1]=gt,g[2]=dt,g[3]=He,j.clearBufferuiv(j.COLOR,0,g)):(_[0]=xt,_[1]=gt,_[2]=dt,_[3]=He,j.clearBufferiv(j.COLOR,0,_))}else ae|=j.COLOR_BUFFER_BIT}G&&(ae|=j.DEPTH_BUFFER_BIT),Z&&(ae|=j.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),j.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ee,!1),n.removeEventListener("webglcontextrestored",Te,!1),n.removeEventListener("webglcontextcreationerror",Ve,!1),ye.dispose(),Ne.dispose(),nt.dispose(),$.dispose(),k.dispose(),Pe.dispose(),rt.dispose(),wt.dispose(),Se.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Ur),Ue.removeEventListener("sessionend",po),Sr.stop()};function Ee(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const O=_t.autoReset,G=he.enabled,Z=he.autoUpdate,ae=he.needsUpdate,te=he.type;ee(),_t.autoReset=O,he.enabled=G,he.autoUpdate=Z,he.needsUpdate=ae,he.type=te}function Ve(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function yt(O){const G=O.target;G.removeEventListener("dispose",yt),Nt(G)}function Nt(O){dn(O),nt.remove(O)}function dn(O){const G=nt.get(O).programs;G!==void 0&&(G.forEach(function(Z){Se.releaseProgram(Z)}),O.isShaderMaterial&&Se.releaseShaderCache(O))}this.renderBufferDirect=function(O,G,Z,ae,te,Le){G===null&&(G=Be);const Ie=te.isMesh&&te.matrixWorld.determinant()<0,qe=mt(O,G,Z,ae,te);Ke.setMaterial(ae,Ie);let He=Z.index,xt=1;if(ae.wireframe===!0){if(He=_e.getWireframeAttribute(Z),He===void 0)return;xt=2}const gt=Z.drawRange,dt=Z.attributes.position;let It=gt.start*xt,sn=(gt.start+gt.count)*xt;Le!==null&&(It=Math.max(It,Le.start*xt),sn=Math.min(sn,(Le.start+Le.count)*xt)),He!==null?(It=Math.max(It,0),sn=Math.min(sn,He.count)):dt!=null&&(It=Math.max(It,0),sn=Math.min(sn,dt.count));const Kt=sn-It;if(Kt<0||Kt===1/0)return;rt.setup(te,ae,qe,Z,He);let Kn,Vt=Je;if(He!==null&&(Kn=de.get(He),Vt=We,Vt.setIndex(Kn)),te.isMesh)ae.wireframe===!0?(Ke.setLineWidth(ae.wireframeLinewidth*$e()),Vt.setMode(j.LINES)):Vt.setMode(j.TRIANGLES);else if(te.isLine){let ft=ae.linewidth;ft===void 0&&(ft=1),Ke.setLineWidth(ft*$e()),te.isLineSegments?Vt.setMode(j.LINES):te.isLineLoop?Vt.setMode(j.LINE_LOOP):Vt.setMode(j.LINE_STRIP)}else te.isPoints?Vt.setMode(j.POINTS):te.isSprite&&Vt.setMode(j.TRIANGLES);if(te.isBatchedMesh)if(te._multiDrawInstances!==null)Vt.renderMultiDrawInstances(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount,te._multiDrawInstances);else if(je.get("WEBGL_multi_draw"))Vt.renderMultiDraw(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount);else{const ft=te._multiDrawStarts,ht=te._multiDrawCounts,vt=te._multiDrawCount,fn=He?de.get(He).bytesPerElement:1,en=nt.get(ae).currentProgram.getUniforms();for(let gn=0;gn<vt;gn++)en.setValue(j,"_gl_DrawID",gn),Vt.render(ft[gn]/fn,ht[gn])}else if(te.isInstancedMesh)Vt.renderInstances(It,Kt,te.count);else if(Z.isInstancedBufferGeometry){const ft=Z._maxInstanceCount!==void 0?Z._maxInstanceCount:1/0,ht=Math.min(Z.instanceCount,ft);Vt.renderInstances(It,Kt,ht)}else Vt.render(It,Kt)};function zn(O,G,Z){O.transparent===!0&&O.side===Uo&&O.forceSinglePass===!1?(O.side=hi,O.needsUpdate=!0,pe(O,G,Z),O.side=ml,O.needsUpdate=!0,pe(O,G,Z),O.side=Uo):pe(O,G,Z)}this.compile=function(O,G,Z=null){Z===null&&(Z=O),v=Ne.get(Z),v.init(G),S.push(v),Z.traverseVisible(function(te){te.isLight&&te.layers.test(G.layers)&&(v.pushLight(te),te.castShadow&&v.pushShadow(te))}),O!==Z&&O.traverseVisible(function(te){te.isLight&&te.layers.test(G.layers)&&(v.pushLight(te),te.castShadow&&v.pushShadow(te))}),v.setupLights();const ae=new Set;return O.traverse(function(te){const Le=te.material;if(Le)if(Array.isArray(Le))for(let Ie=0;Ie<Le.length;Ie++){const qe=Le[Ie];zn(qe,Z,te),ae.add(qe)}else zn(Le,Z,te),ae.add(Le)}),S.pop(),v=null,ae},this.compileAsync=function(O,G,Z=null){const ae=this.compile(O,G,Z);return new Promise(te=>{function Le(){if(ae.forEach(function(Ie){nt.get(Ie).currentProgram.isReady()&&ae.delete(Ie)}),ae.size===0){te(O);return}setTimeout(Le,10)}je.get("KHR_parallel_shader_compile")!==null?Le():setTimeout(Le,10)})};let Wt=null;function vi(O){Wt&&Wt(O)}function Ur(){Sr.stop()}function po(){Sr.start()}const Sr=new NU;Sr.setAnimationLoop(vi),typeof self<"u"&&Sr.setContext(self),this.setAnimationLoop=function(O){Wt=O,Ue.setAnimationLoop(O),O===null?Sr.stop():Sr.start()},Ue.addEventListener("sessionstart",Ur),Ue.addEventListener("sessionend",po),this.render=function(O,G){if(G!==void 0&&G.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),G.parent===null&&G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(G),G=Ue.getCamera()),O.isScene===!0&&O.onBeforeRender(E,O,G,R),v=Ne.get(O,S.length),v.init(G),S.push(v),me.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),Re.setFromProjectionMatrix(me),ce=this.localClippingEnabled,X=Ze.init(this.clippingPlanes,ce),y=ye.get(O,m.length),y.init(),m.push(y),Ue.enabled===!0&&Ue.isPresenting===!0){const Le=E.xr.getDepthSensingMesh();Le!==null&&la(Le,G,-1/0,E.sortObjects)}la(O,G,0,E.sortObjects),y.finish(),E.sortObjects===!0&&y.sort(B,J),ke=Ue.enabled===!1||Ue.isPresenting===!1||Ue.hasDepthSensing()===!1,ke&&Oe.addToRenderList(y,O),this.info.render.frame++,X===!0&&Ze.beginShadows();const Z=v.state.shadowsArray;he.render(Z,O,G),X===!0&&Ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const ae=y.opaque,te=y.transmissive;if(v.setupLights(),G.isArrayCamera){const Le=G.cameras;if(te.length>0)for(let Ie=0,qe=Le.length;Ie<qe;Ie++){const He=Le[Ie];Jc(ae,te,O,He)}ke&&Oe.render(O);for(let Ie=0,qe=Le.length;Ie<qe;Ie++){const He=Le[Ie];ca(y,O,He,He.viewport)}}else te.length>0&&Jc(ae,te,O,G),ke&&Oe.render(O),ca(y,O,G);R!==null&&(ot.updateMultisampleRenderTarget(R),ot.updateRenderTargetMipmap(R)),O.isScene===!0&&O.onAfterRender(E,O,G),rt.resetDefaultState(),A=-1,L=null,S.pop(),S.length>0?(v=S[S.length-1],X===!0&&Ze.setGlobalState(E.clippingPlanes,v.state.camera)):v=null,m.pop(),m.length>0?y=m[m.length-1]:y=null};function la(O,G,Z,ae){if(O.visible===!1)return;if(O.layers.test(G.layers)){if(O.isGroup)Z=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(G);else if(O.isLight)v.pushLight(O),O.castShadow&&v.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||Re.intersectsSprite(O)){ae&&we.setFromMatrixPosition(O.matrixWorld).applyMatrix4(me);const Ie=Pe.update(O),qe=O.material;qe.visible&&y.push(O,Ie,qe,Z,we.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||Re.intersectsObject(O))){const Ie=Pe.update(O),qe=O.material;if(ae&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),we.copy(O.boundingSphere.center)):(Ie.boundingSphere===null&&Ie.computeBoundingSphere(),we.copy(Ie.boundingSphere.center)),we.applyMatrix4(O.matrixWorld).applyMatrix4(me)),Array.isArray(qe)){const He=Ie.groups;for(let xt=0,gt=He.length;xt<gt;xt++){const dt=He[xt],It=qe[dt.materialIndex];It&&It.visible&&y.push(O,Ie,It,Z,we.z,dt)}}else qe.visible&&y.push(O,Ie,qe,Z,we.z,null)}}const Le=O.children;for(let Ie=0,qe=Le.length;Ie<qe;Ie++)la(Le[Ie],G,Z,ae)}function ca(O,G,Z,ae){const te=O.opaque,Le=O.transmissive,Ie=O.transparent;v.setupLightsView(Z),X===!0&&Ze.setGlobalState(E.clippingPlanes,Z),ae&&Ke.viewport(N.copy(ae)),te.length>0&&K(te,G,Z),Le.length>0&&K(Le,G,Z),Ie.length>0&&K(Ie,G,Z),Ke.buffers.depth.setTest(!0),Ke.buffers.depth.setMask(!0),Ke.buffers.color.setMask(!0),Ke.setPolygonOffset(!1)}function Jc(O,G,Z,ae){if((Z.isScene===!0?Z.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[ae.id]===void 0&&(v.state.transmissionRenderTarget[ae.id]=new Lc(1,1,{generateMipmaps:!0,type:je.has("EXT_color_buffer_half_float")||je.has("EXT_color_buffer_float")?sm:ta,minFilter:vc,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:an.workingColorSpace}));const Le=v.state.transmissionRenderTarget[ae.id],Ie=ae.viewport||N;Le.setSize(Ie.z,Ie.w);const qe=E.getRenderTarget();E.setRenderTarget(Le),E.getClearColor(W),z=E.getClearAlpha(),z<1&&E.setClearColor(16777215,.5),E.clear(),ke&&Oe.render(Z);const He=E.toneMapping;E.toneMapping=ol;const xt=ae.viewport;if(ae.viewport!==void 0&&(ae.viewport=void 0),v.setupLightsView(ae),X===!0&&Ze.setGlobalState(E.clippingPlanes,ae),K(O,Z,ae),ot.updateMultisampleRenderTarget(Le),ot.updateRenderTargetMipmap(Le),je.has("WEBGL_multisampled_render_to_texture")===!1){let gt=!1;for(let dt=0,It=G.length;dt<It;dt++){const sn=G[dt],Kt=sn.object,Kn=sn.geometry,Vt=sn.material,ft=sn.group;if(Vt.side===Uo&&Kt.layers.test(ae.layers)){const ht=Vt.side;Vt.side=hi,Vt.needsUpdate=!0,ne(Kt,Z,ae,Kn,Vt,ft),Vt.side=ht,Vt.needsUpdate=!0,gt=!0}}gt===!0&&(ot.updateMultisampleRenderTarget(Le),ot.updateRenderTargetMipmap(Le))}E.setRenderTarget(qe),E.setClearColor(W,z),xt!==void 0&&(ae.viewport=xt),E.toneMapping=He}function K(O,G,Z){const ae=G.isScene===!0?G.overrideMaterial:null;for(let te=0,Le=O.length;te<Le;te++){const Ie=O[te],qe=Ie.object,He=Ie.geometry,xt=ae===null?Ie.material:ae,gt=Ie.group;qe.layers.test(Z.layers)&&ne(qe,G,Z,He,xt,gt)}}function ne(O,G,Z,ae,te,Le){O.onBeforeRender(E,G,Z,ae,te,Le),O.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),te.onBeforeRender(E,G,Z,ae,O,Le),te.transparent===!0&&te.side===Uo&&te.forceSinglePass===!1?(te.side=hi,te.needsUpdate=!0,E.renderBufferDirect(Z,G,ae,te,O,Le),te.side=ml,te.needsUpdate=!0,E.renderBufferDirect(Z,G,ae,te,O,Le),te.side=Uo):E.renderBufferDirect(Z,G,ae,te,O,Le),O.onAfterRender(E,G,Z,ae,te,Le)}function pe(O,G,Z){G.isScene!==!0&&(G=Be);const ae=nt.get(O),te=v.state.lights,Le=v.state.shadowsArray,Ie=te.state.version,qe=Se.getParameters(O,te.state,Le,G,Z),He=Se.getProgramCacheKey(qe);let xt=ae.programs;ae.environment=O.isMeshStandardMaterial?G.environment:null,ae.fog=G.fog,ae.envMap=(O.isMeshStandardMaterial?k:$).get(O.envMap||ae.environment),ae.envMapRotation=ae.environment!==null&&O.envMap===null?G.environmentRotation:O.envMapRotation,xt===void 0&&(O.addEventListener("dispose",yt),xt=new Map,ae.programs=xt);let gt=xt.get(He);if(gt!==void 0){if(ae.currentProgram===gt&&ae.lightsStateVersion===Ie)return it(O,qe),gt}else qe.uniforms=Se.getUniforms(O),O.onBeforeCompile(qe,E),gt=Se.acquireProgram(qe,He),xt.set(He,gt),ae.uniforms=qe.uniforms;const dt=ae.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(dt.clippingPlanes=Ze.uniform),it(O,qe),ae.needsLights=Ye(O),ae.lightsStateVersion=Ie,ae.needsLights&&(dt.ambientLightColor.value=te.state.ambient,dt.lightProbe.value=te.state.probe,dt.directionalLights.value=te.state.directional,dt.directionalLightShadows.value=te.state.directionalShadow,dt.spotLights.value=te.state.spot,dt.spotLightShadows.value=te.state.spotShadow,dt.rectAreaLights.value=te.state.rectArea,dt.ltc_1.value=te.state.rectAreaLTC1,dt.ltc_2.value=te.state.rectAreaLTC2,dt.pointLights.value=te.state.point,dt.pointLightShadows.value=te.state.pointShadow,dt.hemisphereLights.value=te.state.hemi,dt.directionalShadowMap.value=te.state.directionalShadowMap,dt.directionalShadowMatrix.value=te.state.directionalShadowMatrix,dt.spotShadowMap.value=te.state.spotShadowMap,dt.spotLightMatrix.value=te.state.spotLightMatrix,dt.spotLightMap.value=te.state.spotLightMap,dt.pointShadowMap.value=te.state.pointShadowMap,dt.pointShadowMatrix.value=te.state.pointShadowMatrix),ae.currentProgram=gt,ae.uniformsList=null,gt}function De(O){if(O.uniformsList===null){const G=O.currentProgram.getUniforms();O.uniformsList=Xv.seqWithValue(G.seq,O.uniforms)}return O.uniformsList}function it(O,G){const Z=nt.get(O);Z.outputColorSpace=G.outputColorSpace,Z.batching=G.batching,Z.batchingColor=G.batchingColor,Z.instancing=G.instancing,Z.instancingColor=G.instancingColor,Z.instancingMorph=G.instancingMorph,Z.skinning=G.skinning,Z.morphTargets=G.morphTargets,Z.morphNormals=G.morphNormals,Z.morphColors=G.morphColors,Z.morphTargetsCount=G.morphTargetsCount,Z.numClippingPlanes=G.numClippingPlanes,Z.numIntersection=G.numClipIntersection,Z.vertexAlphas=G.vertexAlphas,Z.vertexTangents=G.vertexTangents,Z.toneMapping=G.toneMapping}function mt(O,G,Z,ae,te){G.isScene!==!0&&(G=Be),ot.resetTextureUnits();const Le=G.fog,Ie=ae.isMeshStandardMaterial?G.environment:null,qe=R===null?E.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Al,He=(ae.isMeshStandardMaterial?k:$).get(ae.envMap||Ie),xt=ae.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,gt=!!Z.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),dt=!!Z.morphAttributes.position,It=!!Z.morphAttributes.normal,sn=!!Z.morphAttributes.color;let Kt=ol;ae.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Kt=E.toneMapping);const Kn=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,Vt=Kn!==void 0?Kn.length:0,ft=nt.get(ae),ht=v.state.lights;if(X===!0&&(ce===!0||O!==L)){const Zr=O===L&&ae.id===A;Ze.setState(ae,O,Zr)}let vt=!1;ae.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==ht.state.version||ft.outputColorSpace!==qe||te.isBatchedMesh&&ft.batching===!1||!te.isBatchedMesh&&ft.batching===!0||te.isBatchedMesh&&ft.batchingColor===!0&&te.colorTexture===null||te.isBatchedMesh&&ft.batchingColor===!1&&te.colorTexture!==null||te.isInstancedMesh&&ft.instancing===!1||!te.isInstancedMesh&&ft.instancing===!0||te.isSkinnedMesh&&ft.skinning===!1||!te.isSkinnedMesh&&ft.skinning===!0||te.isInstancedMesh&&ft.instancingColor===!0&&te.instanceColor===null||te.isInstancedMesh&&ft.instancingColor===!1&&te.instanceColor!==null||te.isInstancedMesh&&ft.instancingMorph===!0&&te.morphTexture===null||te.isInstancedMesh&&ft.instancingMorph===!1&&te.morphTexture!==null||ft.envMap!==He||ae.fog===!0&&ft.fog!==Le||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==Ze.numPlanes||ft.numIntersection!==Ze.numIntersection)||ft.vertexAlphas!==xt||ft.vertexTangents!==gt||ft.morphTargets!==dt||ft.morphNormals!==It||ft.morphColors!==sn||ft.toneMapping!==Kt||ft.morphTargetsCount!==Vt)&&(vt=!0):(vt=!0,ft.__version=ae.version);let fn=ft.currentProgram;vt===!0&&(fn=pe(ae,G,te));let en=!1,gn=!1,ua=!1;const wn=fn.getUniforms(),yi=ft.uniforms;if(Ke.useProgram(fn.program)&&(en=!0,gn=!0,ua=!0),ae.id!==A&&(A=ae.id,gn=!0),en||L!==O){wn.setValue(j,"projectionMatrix",O.projectionMatrix),wn.setValue(j,"viewMatrix",O.matrixWorldInverse);const Zr=wn.map.cameraPosition;Zr!==void 0&&Zr.setValue(j,re.setFromMatrixPosition(O.matrixWorld)),st.logarithmicDepthBuffer&&wn.setValue(j,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&wn.setValue(j,"isOrthographic",O.isOrthographicCamera===!0),L!==O&&(L=O,gn=!0,ua=!0)}if(te.isSkinnedMesh){wn.setOptional(j,te,"bindMatrix"),wn.setOptional(j,te,"bindMatrixInverse");const Zr=te.skeleton;Zr&&(Zr.boneTexture===null&&Zr.computeBoneTexture(),wn.setValue(j,"boneTexture",Zr.boneTexture,ot))}te.isBatchedMesh&&(wn.setOptional(j,te,"batchingTexture"),wn.setValue(j,"batchingTexture",te._matricesTexture,ot),wn.setOptional(j,te,"batchingIdTexture"),wn.setValue(j,"batchingIdTexture",te._indirectTexture,ot),wn.setOptional(j,te,"batchingColorTexture"),te._colorsTexture!==null&&wn.setValue(j,"batchingColorTexture",te._colorsTexture,ot));const Qc=Z.morphAttributes;if((Qc.position!==void 0||Qc.normal!==void 0||Qc.color!==void 0)&&at.update(te,Z,fn),(gn||ft.receiveShadow!==te.receiveShadow)&&(ft.receiveShadow=te.receiveShadow,wn.setValue(j,"receiveShadow",te.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(yi.envMap.value=He,yi.flipEnvMap.value=He.isCubeTexture&&He.isRenderTargetTexture===!1?-1:1),ae.isMeshStandardMaterial&&ae.envMap===null&&G.environment!==null&&(yi.envMapIntensity.value=G.environmentIntensity),gn&&(wn.setValue(j,"toneMappingExposure",E.toneMappingExposure),ft.needsLights&&Ct(yi,ua),Le&&ae.fog===!0&&lt.refreshFogUniforms(yi,Le),lt.refreshMaterialUniforms(yi,ae,se,q,v.state.transmissionRenderTarget[O.id]),Xv.upload(j,De(ft),yi,ot)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(Xv.upload(j,De(ft),yi,ot),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&wn.setValue(j,"center",te.center),wn.setValue(j,"modelViewMatrix",te.modelViewMatrix),wn.setValue(j,"normalMatrix",te.normalMatrix),wn.setValue(j,"modelMatrix",te.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const Zr=ae.uniformsGroups;for(let eu=0,Nm=Zr.length;eu<Nm;eu++){const tu=Zr[eu];wt.update(tu,fn),wt.bind(tu,fn)}}return fn}function Ct(O,G){O.ambientLightColor.needsUpdate=G,O.lightProbe.needsUpdate=G,O.directionalLights.needsUpdate=G,O.directionalLightShadows.needsUpdate=G,O.pointLights.needsUpdate=G,O.pointLightShadows.needsUpdate=G,O.spotLights.needsUpdate=G,O.spotLightShadows.needsUpdate=G,O.rectAreaLights.needsUpdate=G,O.hemisphereLights.needsUpdate=G}function Ye(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(O,G,Z){nt.get(O.texture).__webglTexture=G,nt.get(O.depthTexture).__webglTexture=Z;const ae=nt.get(O);ae.__hasExternalTextures=!0,ae.__autoAllocateDepthBuffer=Z===void 0,ae.__autoAllocateDepthBuffer||je.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(O,G){const Z=nt.get(O);Z.__webglFramebuffer=G,Z.__useDefaultFramebuffer=G===void 0},this.setRenderTarget=function(O,G=0,Z=0){R=O,C=G,P=Z;let ae=!0,te=null,Le=!1,Ie=!1;if(O){const He=nt.get(O);if(He.__useDefaultFramebuffer!==void 0)Ke.bindFramebuffer(j.FRAMEBUFFER,null),ae=!1;else if(He.__webglFramebuffer===void 0)ot.setupRenderTarget(O);else if(He.__hasExternalTextures)ot.rebindTextures(O,nt.get(O.texture).__webglTexture,nt.get(O.depthTexture).__webglTexture);else if(O.depthBuffer){const dt=O.depthTexture;if(He.__boundDepthTexture!==dt){if(dt!==null&&nt.has(dt)&&(O.width!==dt.image.width||O.height!==dt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ot.setupDepthRenderbuffer(O)}}const xt=O.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(Ie=!0);const gt=nt.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(gt[G])?te=gt[G][Z]:te=gt[G],Le=!0):O.samples>0&&ot.useMultisampledRTT(O)===!1?te=nt.get(O).__webglMultisampledFramebuffer:Array.isArray(gt)?te=gt[Z]:te=gt,N.copy(O.viewport),I.copy(O.scissor),V=O.scissorTest}else N.copy(ue).multiplyScalar(se).floor(),I.copy(ge).multiplyScalar(se).floor(),V=oe;if(Ke.bindFramebuffer(j.FRAMEBUFFER,te)&&ae&&Ke.drawBuffers(O,te),Ke.viewport(N),Ke.scissor(I),Ke.setScissorTest(V),Le){const He=nt.get(O.texture);j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_CUBE_MAP_POSITIVE_X+G,He.__webglTexture,Z)}else if(Ie){const He=nt.get(O.texture),xt=G||0;j.framebufferTextureLayer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,He.__webglTexture,Z||0,xt)}A=-1},this.readRenderTargetPixels=function(O,G,Z,ae,te,Le,Ie){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qe=nt.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Ie!==void 0&&(qe=qe[Ie]),qe){Ke.bindFramebuffer(j.FRAMEBUFFER,qe);try{const He=O.texture,xt=He.format,gt=He.type;if(!st.textureFormatReadable(xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!st.textureTypeReadable(gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}G>=0&&G<=O.width-ae&&Z>=0&&Z<=O.height-te&&j.readPixels(G,Z,ae,te,be.convert(xt),be.convert(gt),Le)}finally{const He=R!==null?nt.get(R).__webglFramebuffer:null;Ke.bindFramebuffer(j.FRAMEBUFFER,He)}}},this.readRenderTargetPixelsAsync=async function(O,G,Z,ae,te,Le,Ie){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let qe=nt.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Ie!==void 0&&(qe=qe[Ie]),qe){Ke.bindFramebuffer(j.FRAMEBUFFER,qe);try{const He=O.texture,xt=He.format,gt=He.type;if(!st.textureFormatReadable(xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!st.textureTypeReadable(gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(G>=0&&G<=O.width-ae&&Z>=0&&Z<=O.height-te){const dt=j.createBuffer();j.bindBuffer(j.PIXEL_PACK_BUFFER,dt),j.bufferData(j.PIXEL_PACK_BUFFER,Le.byteLength,j.STREAM_READ),j.readPixels(G,Z,ae,te,be.convert(xt),be.convert(gt),0),j.flush();const It=j.fenceSync(j.SYNC_GPU_COMMANDS_COMPLETE,0);await EZ(j,It,4);try{j.bindBuffer(j.PIXEL_PACK_BUFFER,dt),j.getBufferSubData(j.PIXEL_PACK_BUFFER,0,Le)}finally{j.deleteBuffer(dt),j.deleteSync(It)}return Le}}finally{const He=R!==null?nt.get(R).__webglFramebuffer:null;Ke.bindFramebuffer(j.FRAMEBUFFER,He)}}},this.copyFramebufferToTexture=function(O,G=null,Z=0){O.isTexture!==!0&&(Vh("WebGLRenderer: copyFramebufferToTexture function signature has changed."),G=arguments[0]||null,O=arguments[1]);const ae=Math.pow(2,-Z),te=Math.floor(O.image.width*ae),Le=Math.floor(O.image.height*ae),Ie=G!==null?G.x:0,qe=G!==null?G.y:0;ot.setTexture2D(O,0),j.copyTexSubImage2D(j.TEXTURE_2D,Z,0,0,Ie,qe,te,Le),Ke.unbindTexture()},this.copyTextureToTexture=function(O,G,Z=null,ae=null,te=0){O.isTexture!==!0&&(Vh("WebGLRenderer: copyTextureToTexture function signature has changed."),ae=arguments[0]||null,O=arguments[1],G=arguments[2],te=arguments[3]||0,Z=null);let Le,Ie,qe,He,xt,gt;Z!==null?(Le=Z.max.x-Z.min.x,Ie=Z.max.y-Z.min.y,qe=Z.min.x,He=Z.min.y):(Le=O.image.width,Ie=O.image.height,qe=0,He=0),ae!==null?(xt=ae.x,gt=ae.y):(xt=0,gt=0);const dt=be.convert(G.format),It=be.convert(G.type);ot.setTexture2D(G,0),j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,G.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,G.unpackAlignment);const sn=j.getParameter(j.UNPACK_ROW_LENGTH),Kt=j.getParameter(j.UNPACK_IMAGE_HEIGHT),Kn=j.getParameter(j.UNPACK_SKIP_PIXELS),Vt=j.getParameter(j.UNPACK_SKIP_ROWS),ft=j.getParameter(j.UNPACK_SKIP_IMAGES),ht=O.isCompressedTexture?O.mipmaps[te]:O.image;j.pixelStorei(j.UNPACK_ROW_LENGTH,ht.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,ht.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,qe),j.pixelStorei(j.UNPACK_SKIP_ROWS,He),O.isDataTexture?j.texSubImage2D(j.TEXTURE_2D,te,xt,gt,Le,Ie,dt,It,ht.data):O.isCompressedTexture?j.compressedTexSubImage2D(j.TEXTURE_2D,te,xt,gt,ht.width,ht.height,dt,ht.data):j.texSubImage2D(j.TEXTURE_2D,te,xt,gt,Le,Ie,dt,It,ht),j.pixelStorei(j.UNPACK_ROW_LENGTH,sn),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Kt),j.pixelStorei(j.UNPACK_SKIP_PIXELS,Kn),j.pixelStorei(j.UNPACK_SKIP_ROWS,Vt),j.pixelStorei(j.UNPACK_SKIP_IMAGES,ft),te===0&&G.generateMipmaps&&j.generateMipmap(j.TEXTURE_2D),Ke.unbindTexture()},this.copyTextureToTexture3D=function(O,G,Z=null,ae=null,te=0){O.isTexture!==!0&&(Vh("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Z=arguments[0]||null,ae=arguments[1]||null,O=arguments[2],G=arguments[3],te=arguments[4]||0);let Le,Ie,qe,He,xt,gt,dt,It,sn;const Kt=O.isCompressedTexture?O.mipmaps[te]:O.image;Z!==null?(Le=Z.max.x-Z.min.x,Ie=Z.max.y-Z.min.y,qe=Z.max.z-Z.min.z,He=Z.min.x,xt=Z.min.y,gt=Z.min.z):(Le=Kt.width,Ie=Kt.height,qe=Kt.depth,He=0,xt=0,gt=0),ae!==null?(dt=ae.x,It=ae.y,sn=ae.z):(dt=0,It=0,sn=0);const Kn=be.convert(G.format),Vt=be.convert(G.type);let ft;if(G.isData3DTexture)ot.setTexture3D(G,0),ft=j.TEXTURE_3D;else if(G.isDataArrayTexture||G.isCompressedArrayTexture)ot.setTexture2DArray(G,0),ft=j.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(j.UNPACK_FLIP_Y_WEBGL,G.flipY),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),j.pixelStorei(j.UNPACK_ALIGNMENT,G.unpackAlignment);const ht=j.getParameter(j.UNPACK_ROW_LENGTH),vt=j.getParameter(j.UNPACK_IMAGE_HEIGHT),fn=j.getParameter(j.UNPACK_SKIP_PIXELS),en=j.getParameter(j.UNPACK_SKIP_ROWS),gn=j.getParameter(j.UNPACK_SKIP_IMAGES);j.pixelStorei(j.UNPACK_ROW_LENGTH,Kt.width),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,Kt.height),j.pixelStorei(j.UNPACK_SKIP_PIXELS,He),j.pixelStorei(j.UNPACK_SKIP_ROWS,xt),j.pixelStorei(j.UNPACK_SKIP_IMAGES,gt),O.isDataTexture||O.isData3DTexture?j.texSubImage3D(ft,te,dt,It,sn,Le,Ie,qe,Kn,Vt,Kt.data):G.isCompressedArrayTexture?j.compressedTexSubImage3D(ft,te,dt,It,sn,Le,Ie,qe,Kn,Kt.data):j.texSubImage3D(ft,te,dt,It,sn,Le,Ie,qe,Kn,Vt,Kt),j.pixelStorei(j.UNPACK_ROW_LENGTH,ht),j.pixelStorei(j.UNPACK_IMAGE_HEIGHT,vt),j.pixelStorei(j.UNPACK_SKIP_PIXELS,fn),j.pixelStorei(j.UNPACK_SKIP_ROWS,en),j.pixelStorei(j.UNPACK_SKIP_IMAGES,gn),te===0&&G.generateMipmaps&&j.generateMipmap(ft),Ke.unbindTexture()},this.initRenderTarget=function(O){nt.get(O).__webglFramebuffer===void 0&&ot.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?ot.setTextureCube(O,0):O.isData3DTexture?ot.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?ot.setTexture2DArray(O,0):ot.setTexture2D(O,0),Ke.unbindTexture()},this.resetState=function(){C=0,P=0,R=null,Ke.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return zo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===eM?"display-p3":"srgb",n.unpackColorSpace=an.workingColorSpace===Uy?"display-p3":"srgb"}}class One extends _r{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new lo,this.environmentIntensity=1,this.environmentRotation=new lo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class VN extends am{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=vU,this.normalScale=new Pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new lo,this.combine=XT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const U0={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class kne{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,f){return c.push(d,f),this},this.removeHandler=function(d){const f=c.indexOf(d);return f!==-1&&c.splice(f,2),this},this.getHandler=function(d){for(let f=0,p=c.length;f<p;f+=2){const g=c[f],_=c[f+1];if(g.global&&(g.lastIndex=0),g.test(d))return _}return null}}}const Une=new kne;let um=class{constructor(e){this.manager=e!==void 0?e:Une,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};um.DEFAULT_MATERIAL_NAME="__DEFAULT";const Po={};class Fne extends Error{constructor(e,n){super(e),this.response=n}}class jne extends um{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=U0.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Po[e]!==void 0){Po[e].push({onLoad:n,onProgress:r,onError:i});return}Po[e]=[],Po[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Po[e],f=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),g=p?parseInt(p):0,_=g!==0;let y=0;const v=new ReadableStream({start(m){S();function S(){f.read().then(({done:E,value:T})=>{if(E)m.close();else{y+=T.byteLength;const C=new ProgressEvent("progress",{lengthComputable:_,loaded:y,total:g});for(let P=0,R=d.length;P<R;P++){const A=d[P];A.onProgress&&A.onProgress(C)}m.enqueue(T),S()}},E=>{m.error(E)})}}});return new Response(v)}else throw new Fne(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,g=new TextDecoder(p);return c.arrayBuffer().then(_=>g.decode(_))}}}).then(c=>{U0.add(e,c);const d=Po[e];delete Po[e];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.onLoad&&g.onLoad(c)}}).catch(c=>{const d=Po[e];if(d===void 0)throw this.manager.itemError(e),c;delete Po[e];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Bne extends um{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=U0.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=wp("img");function l(){d(),U0.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){d(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class zne extends um{constructor(e){super(e)}load(e,n,r,i){const s=new Xr,o=new Bne(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class UU extends _r{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Jt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Vne extends UU{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(_r.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Jt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Ww=new Wn,$N=new fe,HN=new fe;class $ne{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Pt(512,512),this.map=null,this.mapPass=null,this.matrix=new Wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rM,this._frameExtents=new Pt(1,1),this._viewportCount=1,this._viewports=[new ir(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;$N.setFromMatrixPosition(e.matrixWorld),n.position.copy($N),HN.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(HN),n.updateMatrixWorld(),Ww.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ww),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Ww)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Hne extends $ne{constructor(){super(new Ni(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Zd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Gne extends UU{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(_r.DEFAULT_UP),this.updateMatrix(),this.target=new _r,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Hne}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class GN{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Lr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Wne extends Gc{constructor(e,n){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:WT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=WT);const ni=new Jt;class Xne extends um{constructor(e){super(e),this.propertyNameMapping={},this.customPropertyMapping={}}load(e,n,r,i){const s=this,o=new jne(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}setPropertyNameMapping(e){this.propertyNameMapping=e}setCustomPropertyNameMapping(e){this.customPropertyMapping=e}parse(e){function n(v,m=0){const S=/^ply([\s\S]*)end_header(\r\n|\r|\n)/;let E="";const T=S.exec(v);T!==null&&(E=T[1]);const C={comments:[],elements:[],headerLength:m,objInfo:""},P=E.split(/\r\n|\r|\n/);let R;function A(L,N){const I={type:L[0]};return I.type==="list"?(I.name=L[3],I.countType=L[1],I.itemType=L[2]):I.name=L[1],I.name in N&&(I.name=N[I.name]),I}for(let L=0;L<P.length;L++){let N=P[L];if(N=N.trim(),N==="")continue;const I=N.split(/\s+/),V=I.shift();switch(N=I.join(" "),V){case"format":C.format=I[0],C.version=I[1];break;case"comment":C.comments.push(N);break;case"element":R!==void 0&&C.elements.push(R),R={},R.name=I[0],R.count=parseInt(I[1]),R.properties=[];break;case"property":R.properties.push(A(I,y.propertyNameMapping));break;case"obj_info":C.objInfo=N;break;default:console.log("unhandled",V,I)}}return R!==void 0&&C.elements.push(R),C}function r(v,m){switch(m){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(v);case"float":case"double":case"float32":case"float64":return parseFloat(v)}}function i(v,m){const S={};for(let E=0;E<v.length;E++){if(m.empty())return null;if(v[E].type==="list"){const T=[],C=r(m.next(),v[E].countType);for(let P=0;P<C;P++){if(m.empty())return null;T.push(r(m.next(),v[E].itemType))}S[v[E].name]=T}else S[v[E].name]=r(m.next(),v[E].type)}return S}function s(){const v={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[],faceVertexColors:[]};for(const m of Object.keys(y.customPropertyMapping))v[m]=[];return v}function o(v){const m=v.map(E=>E.name);function S(E){for(let T=0,C=E.length;T<C;T++){const P=E[T];if(m.includes(P))return P}return null}return{attrX:S(["x","px","posx"])||"x",attrY:S(["y","py","posy"])||"y",attrZ:S(["z","pz","posz"])||"z",attrNX:S(["nx","normalx"]),attrNY:S(["ny","normaly"]),attrNZ:S(["nz","normalz"]),attrS:S(["s","u","texture_u","tx"]),attrT:S(["t","v","texture_v","ty"]),attrR:S(["red","diffuse_red","r","diffuse_r"]),attrG:S(["green","diffuse_green","g","diffuse_g"]),attrB:S(["blue","diffuse_blue","b","diffuse_b"])}}function a(v,m){const S=s(),E=/end_header\s+(\S[\s\S]*\S|\S)\s*$/;let T,C;(C=E.exec(v))!==null?T=C[1].split(/\s+/):T=[];const P=new Kne(T);e:for(let R=0;R<m.elements.length;R++){const A=m.elements[R],L=o(A.properties);for(let N=0;N<A.count;N++){const I=i(A.properties,P);if(!I)break e;c(S,A.name,I,L)}}return l(S)}function l(v){let m=new Rl;v.indices.length>0&&m.setIndex(v.indices),m.setAttribute("position",new oi(v.vertices,3)),v.normals.length>0&&m.setAttribute("normal",new oi(v.normals,3)),v.uvs.length>0&&m.setAttribute("uv",new oi(v.uvs,2)),v.colors.length>0&&m.setAttribute("color",new oi(v.colors,3)),(v.faceVertexUvs.length>0||v.faceVertexColors.length>0)&&(m=m.toNonIndexed(),v.faceVertexUvs.length>0&&m.setAttribute("uv",new oi(v.faceVertexUvs,2)),v.faceVertexColors.length>0&&m.setAttribute("color",new oi(v.faceVertexColors,3)));for(const S of Object.keys(y.customPropertyMapping))v[S].length>0&&m.setAttribute(S,new oi(v[S],y.customPropertyMapping[S].length));return m.computeBoundingSphere(),m}function c(v,m,S,E){if(m==="vertex"){v.vertices.push(S[E.attrX],S[E.attrY],S[E.attrZ]),E.attrNX!==null&&E.attrNY!==null&&E.attrNZ!==null&&v.normals.push(S[E.attrNX],S[E.attrNY],S[E.attrNZ]),E.attrS!==null&&E.attrT!==null&&v.uvs.push(S[E.attrS],S[E.attrT]),E.attrR!==null&&E.attrG!==null&&E.attrB!==null&&(ni.setRGB(S[E.attrR]/255,S[E.attrG]/255,S[E.attrB]/255).convertSRGBToLinear(),v.colors.push(ni.r,ni.g,ni.b));for(const T of Object.keys(y.customPropertyMapping))for(const C of y.customPropertyMapping[T])v[T].push(S[C])}else if(m==="face"){const T=S.vertex_indices||S.vertex_index,C=S.texcoord;T.length===3?(v.indices.push(T[0],T[1],T[2]),C&&C.length===6&&(v.faceVertexUvs.push(C[0],C[1]),v.faceVertexUvs.push(C[2],C[3]),v.faceVertexUvs.push(C[4],C[5]))):T.length===4&&(v.indices.push(T[0],T[1],T[3]),v.indices.push(T[1],T[2],T[3])),E.attrR!==null&&E.attrG!==null&&E.attrB!==null&&(ni.setRGB(S[E.attrR]/255,S[E.attrG]/255,S[E.attrB]/255).convertSRGBToLinear(),v.faceVertexColors.push(ni.r,ni.g,ni.b),v.faceVertexColors.push(ni.r,ni.g,ni.b),v.faceVertexColors.push(ni.r,ni.g,ni.b))}}function d(v,m){const S={};let E=0;for(let T=0;T<m.length;T++){const C=m[T],P=C.valueReader;if(C.type==="list"){const R=[],A=C.countReader.read(v+E);E+=C.countReader.size;for(let L=0;L<A;L++)R.push(P.read(v+E)),E+=P.size;S[C.name]=R}else S[C.name]=P.read(v+E),E+=P.size}return[S,E]}function f(v,m,S){function E(T,C,P){switch(C){case"int8":case"char":return{read:R=>T.getInt8(R),size:1};case"uint8":case"uchar":return{read:R=>T.getUint8(R),size:1};case"int16":case"short":return{read:R=>T.getInt16(R,P),size:2};case"uint16":case"ushort":return{read:R=>T.getUint16(R,P),size:2};case"int32":case"int":return{read:R=>T.getInt32(R,P),size:4};case"uint32":case"uint":return{read:R=>T.getUint32(R,P),size:4};case"float32":case"float":return{read:R=>T.getFloat32(R,P),size:4};case"float64":case"double":return{read:R=>T.getFloat64(R,P),size:8}}}for(let T=0,C=v.length;T<C;T++){const P=v[T];P.type==="list"?(P.countReader=E(m,P.countType,S),P.valueReader=E(m,P.itemType,S)):P.valueReader=E(m,P.type,S)}}function p(v,m){const S=s(),E=m.format==="binary_little_endian",T=new DataView(v,m.headerLength);let C,P=0;for(let R=0;R<m.elements.length;R++){const A=m.elements[R],L=A.properties,N=o(L);f(L,T,E);for(let I=0;I<A.count;I++){C=d(P,L),P+=C[1];const V=C[0];c(S,A.name,V,N)}}return l(S)}function g(v){let m=0,S=!0,E="";const T=[],C=new TextDecoder().decode(v.subarray(0,5)),P=/^ply\r\n/.test(C);do{const R=String.fromCharCode(v[m++]);R!==`
`&&R!=="\r"?E+=R:(E==="end_header"&&(S=!1),E!==""&&(T.push(E),E=""))}while(S&&m<v.length);return P===!0&&m++,{headerText:T.join("\r")+"\r",headerLength:m}}let _;const y=this;if(e instanceof ArrayBuffer){const v=new Uint8Array(e),{headerText:m,headerLength:S}=g(v),E=n(m,S);if(E.format==="ascii"){const T=new TextDecoder().decode(v);_=a(T,E)}else _=p(e,E)}else _=a(e,n(e));return _}}class Kne{constructor(e){this.arr=e,this.i=0}empty(){return this.i>=this.arr.length}next(){return this.arr[this.i++]}}const WN={type:"change"},sM={type:"start"},FU={type:"end"},rv=new SU,XN=new Fa,qne=Math.cos(70*SZ.DEG2RAD),tr=new fe,ri=2*Math.PI,pn={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},Xw=1e-6;class Yne extends Wne{constructor(e,n=null){super(e,n),this.state=pn.NONE,this.enabled=!0,this.target=new fe,this.cursor=new fe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Td.ROTATE,MIDDLE:Td.DOLLY,RIGHT:Td.PAN},this.touches={ONE:ud.ROTATE,TWO:ud.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new fe,this._lastQuaternion=new Dc,this._lastTargetPosition=new fe,this._quat=new Dc().setFromUnitVectors(e.up,new fe(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new GN,this._sphericalDelta=new GN,this._scale=1,this._panOffset=new fe,this._rotateStart=new Pt,this._rotateEnd=new Pt,this._rotateDelta=new Pt,this._panStart=new Pt,this._panEnd=new Pt,this._panDelta=new Pt,this._dollyStart=new Pt,this._dollyEnd=new Pt,this._dollyDelta=new Pt,this._dollyDirection=new fe,this._mouse=new Pt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Jne.bind(this),this._onPointerDown=Zne.bind(this),this._onPointerUp=Qne.bind(this),this._onContextMenu=ore.bind(this),this._onMouseWheel=nre.bind(this),this._onKeyDown=rre.bind(this),this._onTouchStart=ire.bind(this),this._onTouchMove=sre.bind(this),this._onMouseDown=ere.bind(this),this._onMouseMove=tre.bind(this),this._interceptControlDown=are.bind(this),this._interceptControlUp=lre.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(WN),this.update(),this.state=pn.NONE}update(e=null){const n=this.object.position;tr.copy(n).sub(this.target),tr.applyQuaternion(this._quat),this._spherical.setFromVector3(tr),this.autoRotate&&this.state===pn.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=ri:r>Math.PI&&(r-=ri),i<-Math.PI?i+=ri:i>Math.PI&&(i-=ri),r<=i?this._spherical.theta=Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(tr.setFromSpherical(this._spherical),tr.applyQuaternion(this._quatInverse),n.copy(this.target).add(tr),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=tr.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new fe(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new fe(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=tr.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;o!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(rv.origin.copy(this.object.position),rv.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(rv.direction))<qne?this.object.lookAt(this.target):(XN.setFromNormalAndCoplanarPoint(this.object.up,this.target),rv.intersectPlane(XN,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>Xw||8*(1-this._lastQuaternion.dot(this.object.quaternion))>Xw||this._lastTargetPosition.distanceToSquared(this.target)>Xw?(this.dispatchEvent(WN),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?ri/60*this.autoRotateSpeed*e:ri/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){tr.setFromMatrixColumn(n,0),tr.multiplyScalar(-e),this._panOffset.add(tr)}_panUp(e,n){this.screenSpacePanning===!0?tr.setFromMatrixColumn(n,1):(tr.setFromMatrixColumn(n,0),tr.crossVectors(this.object.up,tr)),tr.multiplyScalar(e),this._panOffset.add(tr)}_pan(e,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const i=this.object.position;tr.copy(i).sub(this.target);let s=tr.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*n*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),i=e-r.left,s=n-r.top,o=r.width,a=r.height;this._mouse.x=i/o*2-1,this._mouse.y=-(s/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(ri*this._rotateDelta.x/n.clientHeight),this._rotateUp(ri*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(ri*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(-ri*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(ri*this.rotateSpeed/this.domElement.clientHeight):this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(-ri*this.rotateSpeed/this.domElement.clientHeight):this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._rotateStart.set(r,i)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panStart.set(r,i)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,s=Math.sqrt(r*r+i*i);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e),i=.5*(e.pageX+r.x),s=.5*(e.pageY+r.y);this._rotateEnd.set(i,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(ri*this._rotateDelta.x/n.clientHeight),this._rotateUp(ri*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),r=.5*(e.pageX+n.x),i=.5*(e.pageY+n.y);this._panEnd.set(r,i)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),r=e.pageX-n.x,i=e.pageY-n.y,s=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const o=(e.pageX+n.x)*.5,a=(e.pageY+n.y)*.5;this._updateZoomParameters(o,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new Pt,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function Zne(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function Jne(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function Qne(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(FU),this.state=pn.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function ere(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Td.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=pn.DOLLY;break;case Td.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=pn.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=pn.ROTATE}break;case Td.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=pn.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=pn.PAN}break;default:this.state=pn.NONE}this.state!==pn.NONE&&this.dispatchEvent(sM)}function tre(t){switch(this.state){case pn.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case pn.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case pn.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function nre(t){this.enabled===!1||this.enableZoom===!1||this.state!==pn.NONE||(t.preventDefault(),this.dispatchEvent(sM),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(FU))}function rre(t){this.enabled===!1||this.enablePan===!1||this._handleKeyDown(t)}function ire(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case ud.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=pn.TOUCH_ROTATE;break;case ud.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=pn.TOUCH_PAN;break;default:this.state=pn.NONE}break;case 2:switch(this.touches.TWO){case ud.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=pn.TOUCH_DOLLY_PAN;break;case ud.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=pn.TOUCH_DOLLY_ROTATE;break;default:this.state=pn.NONE}break;default:this.state=pn.NONE}this.state!==pn.NONE&&this.dispatchEvent(sM)}function sre(t){switch(this._trackPointer(t),this.state){case pn.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case pn.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case pn.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case pn.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=pn.NONE}}function ore(t){this.enabled!==!1&&t.preventDefault()}function are(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function lre(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const cre="/assets/disturb-DDP_uFZ9.jpg",ure="/assets/statue-BLg10FGv.mp4";let Ri,qu,Rd,Rr;function dre(){Ri=new Ine({antialias:!0}),Ri.setPixelRatio(window.devicePixelRatio),Ri.setSize(window.innerWidth,window.innerHeight),Ri.shadowMap.enabled=!0,Ri.shadowMap.type=iU,Ri.toneMapping=sU,Ri.toneMappingExposure=1,qu=new One,Rd=new Ni(30,window.innerWidth/window.innerHeight,6,100),Rd.position.set(7,4,1);const t=new Yne(Rd,Ri.domElement);t.minDistance=2,t.maxDistance=10,t.maxPolarAngle=Math.PI/2,t.target.set(0,1,0),t.update();const e=new Vne(16777215,9276813,.15);qu.add(e);const r=new zne().load(cre);r.minFilter=Di,r.magFilter=Di,r.colorSpace=Cs,Rr=new Gne(16777215,100),Rr.position.set(2.5,5,2.5),Rr.angle=Math.PI/6,Rr.penumbra=1,Rr.decay=2,Rr.distance=0,Rr.map=r,Rr.castShadow=!0,Rr.shadow.mapSize.width=1024,Rr.shadow.mapSize.height=1024,Rr.shadow.camera.near=1,Rr.shadow.camera.far=10,Rr.shadow.focus=1,qu.add(Rr);const i=new cm(1e3,1e3),s=new VN({color:12369084}),o=new Ds(i,s);o.position.set(0,-1,0),o.rotation.x=-Math.PI/2,o.receiveShadow=!0,qu.add(o),new Xne().load(ure,function(a){a.scale(.0024,.0024,.0024),a.computeVertexNormals();const l=new VN,c=new Ds(a,l);c.rotation.y=-Math.PI/2,c.position.y=.8,c.castShadow=!0,c.receiveShadow=!0,qu.add(c)}),window.addEventListener("resize",fre)}function fre(){Rd.aspect=window.innerWidth/window.innerHeight,Rd.updateProjectionMatrix(),Ri.setSize(window.innerWidth,window.innerHeight)}function hre(){const t=performance.now()/3e3;Rr.position.x=Math.cos(t)*2.5,Rr.position.z=Math.sin(t)*2.5,Ri.render(qu,Rd)}dre();var pre=Object.defineProperty,mre=Object.defineProperties,gre=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertySymbols,jU=Object.prototype.hasOwnProperty,BU=Object.prototype.propertyIsEnumerable,KN=(t,e,n)=>e in t?pre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ii=(t,e)=>{for(var n in e||(e={}))jU.call(e,n)&&KN(t,n,e[n]);if(F0)for(var n of F0(e))BU.call(e,n)&&KN(t,n,e[n]);return t},ih=(t,e)=>mre(t,gre(e)),vre=(t,e)=>{var n={};for(var r in t)jU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&F0)for(var r of F0(t))e.indexOf(r)<0&&BU.call(t,r)&&(n[r]=t[r]);return n},Qd={position:"absolute",width:"100%",height:"100%",top:0,bottom:0,left:0,right:0},qN={display:"inline-block"},yre={video:qN,overlay:qN,container:null,manual:null},xre={video:Qd,overlay:{position:"relative"},container:Qd,manual:null},_re={video:{display:"block",width:"100%"},overlay:Qd,container:Qd,manual:null},j0="--hvp-overlay-transition-duration",Kw={visibility:"visible",opacity:1,transitionProperty:"opacity",transitionDuration:`var(${j0})`},qw={visibility:"hidden",opacity:0,transitionProperty:"opacity, visibility",transitionDuration:`var(${j0}), 0s`,transitionDelay:`0s, var(${j0})`};function zU(t){var e=t,{videoSrc:n,videoCaptions:r=null,focused:i=!1,disableDefaultEventHandling:s=!1,hoverTarget:o=null,onHoverStart:a=null,onHoverEnd:l=null,hoverOverlay:c=null,pausedOverlay:d=null,loadingOverlay:f=null,loadingStateTimeout:p=200,overlayTransitionDuration:g=400,playbackStartDelay:_=0,restartOnPaused:y=!1,unloadVideoOnPaused:v=!1,playbackRangeStart:m=null,playbackRangeEnd:S=null,muted:E=!0,volume:T=1,loop:C=!0,preload:P=void 0,crossOrigin:R=void 0,controls:A=!1,controlsList:L=void 0,disableRemotePlayback:N=!0,disablePictureInPicture:I=!0,style:V=void 0,hoverOverlayWrapperClassName:W=void 0,hoverOverlayWrapperStyle:z=void 0,pausedOverlayWrapperClassName:Q=void 0,pausedOverlayWrapperStyle:q=void 0,loadingOverlayWrapperClassName:se=void 0,loadingOverlayWrapperStyle:B=void 0,videoId:J=void 0,videoClassName:ue=void 0,videoRef:ge=null,videoStyle:oe=void 0,sizingMode:Re="video"}=e,X=vre(e,["videoSrc","videoCaptions","focused","disableDefaultEventHandling","hoverTarget","onHoverStart","onHoverEnd","hoverOverlay","pausedOverlay","loadingOverlay","loadingStateTimeout","overlayTransitionDuration","playbackStartDelay","restartOnPaused","unloadVideoOnPaused","playbackRangeStart","playbackRangeEnd","muted","volume","loop","preload","crossOrigin","controls","controlsList","disableRemotePlayback","disablePictureInPicture","style","hoverOverlayWrapperClassName","hoverOverlayWrapperStyle","pausedOverlayWrapperClassName","pausedOverlayWrapperStyle","loadingOverlayWrapperClassName","loadingOverlayWrapperStyle","videoId","videoClassName","videoRef","videoStyle","sizingMode"]);const ce=w.useRef(null),me=w.useRef(null);w.useImperativeHandle(ge,()=>me.current),w.useEffect(()=>{me.current&&(me.current.muted=E)},[E]),w.useEffect(()=>{me.current&&(me.current.volume=T)},[T]),w.useEffect(()=>{me.current&&(me.current.disableRemotePlayback=N)},[N]),w.useEffect(()=>{me.current&&(me.current.disablePictureInPicture=I)},[I]),w.useEffect(()=>{const be=me.current;be&&m&&(be.currentTime=m)},[m]);const[re,we]=w.useState(null);w.useEffect(()=>{let be=ce.current;o&&(typeof o=="function"?be=o():o instanceof Node?be=o:o&&o.hasOwnProperty("current")?be=o.current:console.error("HoverVideoPlayer was unable to get a usable hover target element. Please check your usage of the `hoverTarget` prop.")),we(be)},[o]);const Be=w.useRef(null),[ke,$e]=w.useState(!1),[j,tt]=w.useState(!1),[je,st]=w.useState(!1),Ke=w.useRef();Ke.current=ke;const _t=w.useRef(),nt=w.useRef(),ot=w.useCallback(()=>{window.clearTimeout(_t.current),window.clearTimeout(nt.current)},[]),$=!!d,k=!!c,de=$||k;w.useEffect(()=>{const be=me.current;if(!re||!be)return;const rt=()=>{Ke.current||(ot(),$e(!0))},wt=()=>{ot(),$e(!1)};return re.addEventListener("hvp:hoverStart",rt),re.addEventListener("hvp:hoverEnd",wt),()=>{re.removeEventListener("hvp:hoverStart",rt),re.removeEventListener("hvp:hoverEnd",wt)}},[ot,re,g,m,y,de]);const _e=w.useCallback(()=>{const be=me.current;be&&be.play().catch(rt=>{if(rt.name!=="AbortError")if(!be.muted&&rt.name==="NotAllowedError"){console.warn("HoverVideoPlayer: Playback with sound was blocked by the browser. Attempting to play again with the video muted; audio will be restored if the user clicks on the page."),be.muted=!0,_e();const wt=()=>{be.muted=!1,document.removeEventListener("click",wt)};document.addEventListener("click",wt)}else console.error(`HoverVideoPlayer: ${rt.message}`)})},[]);w.useEffect(()=>{const be=me.current;be&&ke&&!j&&!je&&(Be.current!==null&&be.currentTime!==Be.current&&(be.currentTime=Be.current),_?_t.current=window.setTimeout(_e,_):_e())},[ke,j,je,_e,_]),w.useEffect(()=>{const be=me.current;if(be&&!ke&&(je||j)){const rt=()=>{be.pause(),y&&(be.currentTime=m||0),Be.current=be.currentTime};de?nt.current=window.setTimeout(rt,g):rt()}},[ke,j,je,g,m,y,de]),w.useEffect(()=>()=>ot(),[ot]);const Pe=w.useRef();Pe.current=a;const Se=w.useRef();Se.current=l,w.useEffect(()=>{if(s||!re)return;const be=()=>{var Ue;re.dispatchEvent(new Event("hvp:hoverStart")),(Ue=Pe.current)==null||Ue.call(Pe)},rt=()=>{var Ue;re.dispatchEvent(new Event("hvp:hoverEnd")),(Ue=Se.current)==null||Ue.call(Se)};re.addEventListener("mouseenter",be),re.addEventListener("mouseleave",rt),re.addEventListener("focus",be),re.addEventListener("blur",rt);const wt={passive:!0};re.addEventListener("touchstart",be,wt);const ee=Ue=>{(!(Ue.target instanceof Node)||!re.contains(Ue.target))&&rt()};return window.addEventListener("touchstart",ee,wt),()=>{re.removeEventListener("mouseenter",be),re.removeEventListener("mouseleave",rt),re.removeEventListener("focus",be),re.removeEventListener("blur",rt),re.removeEventListener("touchstart",be),window.removeEventListener("touchstart",ee)}},[s,re]);const lt=w.useRef(!1);w.useEffect(()=>{re&&lt.current!==i&&(lt.current=i,i?re.dispatchEvent(new Event("hvp:hoverStart")):re.dispatchEvent(new Event("hvp:hoverEnd")))},[re,i]);const ye=w.useRef(n);let Ne=!1;n!==ye.current&&!ke&&!je&&(ye.current=n,Ne=!0);const Ze=typeof ye.current=="string";w.useEffect(()=>{const be=me.current;be&&Ne&&(be.load(),Be.current=m||0)},[m,Ne]);const he=v&&!ke&&!je;w.useEffect(()=>{var be;he&&((be=me.current)==null||be.load())},[he]);const Oe=ke&&!je,at=!ke||ke&&!je,Je=m!==null||S!==null,We=!!f;return Ge.createElement("div",ii({ref:ce,style:ii(ih(ii({[j0]:`${g}ms`},yre[Re]),{position:"relative"}),V)},X),$?Ge.createElement("div",{style:ii(ii(ih(ii({},xre[Re]),{zIndex:1}),at?Kw:qw),q),className:Q},d):null,We?Ge.createElement("div",{style:ii(ii(ih(ii({},Qd),{zIndex:2,transitionDelay:p?`${p}ms`:void 0}),Oe?Kw:qw),B),className:se},f):null,k?Ge.createElement("div",{style:ii(ii(ih(ii({},Qd),{zIndex:3}),ke?Kw:qw),z),className:W},c):null,Ge.createElement("video",{src:Ze&&!he?ye.current:void 0,loop:Je?!1:C,playsInline:!0,preload:P,crossOrigin:R,ref:me,style:ii(ih(ii({},_re[Re]),{objectFit:"cover"}),oe),controls:A,controlsList:L,className:ue,id:J,onPlaying:()=>st(!0),onPause:()=>st(!1),onEnded:()=>st(!1),onLoadStart:()=>tt(!0),onSuspend:()=>tt(!1),onWaiting:()=>tt(!0),onLoadedData:()=>{var be;tt((((be=me.current)==null?void 0:be.readyState)||0)<HTMLMediaElement.HAVE_ENOUGH_DATA)},onAbort:()=>{tt(!1)},onTimeUpdate:Je?()=>{const be=me.current;if(!be)return;const rt=S||be.duration,wt=m||0,{currentTime:ee}=be;if(C&&ee>=rt){const Ue=m||0;be.currentTime=Ue,ke&&(be.paused||be.ended)&&_e()}else ee>rt?(be.pause(),be.currentTime=rt):ee<wt&&(be.currentTime=wt)}:void 0},he||Ze?null:ye.current,r))}/**
 * @component HoverVideoPlayer
 * @license MIT
 *
 * @param {HoverVideoPlayerProps} props
 */function bt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wre(t,e){const n=w.createContext(e);function r(s){const{children:o,...a}=s,l=w.useMemo(()=>a,Object.values(a));return x.jsx(n.Provider,{value:l,children:o})}function i(s){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function fo(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,..._}=f,y=(p==null?void 0:p[t][l])||a,v=w.useMemo(()=>_,Object.values(_));return x.jsx(y.Provider,{value:v,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Sre(i,...e)]}function Sre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var lr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},bre=ZE.useId||(()=>{}),Ere=0;function Ho(t){const[e,n]=w.useState(bre());return lr(()=>{n(r=>r??String(Ere++))},[t]),e?`radix-${e}`:""}function pi(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function us({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Tre({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=pi(n),l=w.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function Tre({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=pi(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Mre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],At=Mre.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?pl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function VU(t,e){t&&fs.flushSync(()=>t.dispatchEvent(e))}function Cre(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Are="DismissableLayer",Ab="dismissableLayer.update",Rre="dismissableLayer.pointerDownOutside",Pre="dismissableLayer.focusOutside",YN,$U=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dm=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=w.useContext($U),[d,f]=w.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=w.useState({}),_=tn(e,R=>f(R)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=y.indexOf(v),S=d?y.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,T=S>=m,C=Lre(R=>{const A=R.target,L=[...c.branches].some(N=>N.contains(A));!T||L||(i==null||i(R),o==null||o(R),R.defaultPrevented||a==null||a())},p),P=Dre(R=>{const A=R.target;[...c.branches].some(N=>N.contains(A))||(s==null||s(R),o==null||o(R),R.defaultPrevented||a==null||a())},p);return Cre(R=>{S===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},p),w.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(YN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),ZN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=YN)}},[d,p,n,c]),w.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),ZN())},[d,c]),w.useEffect(()=>{const R=()=>g({});return document.addEventListener(Ab,R),()=>document.removeEventListener(Ab,R)},[]),x.jsx(At.div,{...l,ref:_,style:{pointerEvents:E?T?"auto":"none":void 0,...t.style},onFocusCapture:bt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:bt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:bt(t.onPointerDownCapture,C.onPointerDownCapture)})});dm.displayName=Are;var Nre="DismissableLayerBranch",HU=w.forwardRef((t,e)=>{const n=w.useContext($U),r=w.useRef(null),i=tn(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),x.jsx(At.div,{...t,ref:i})});HU.displayName=Nre;function Lre(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){GU(Rre,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Dre(t,e=globalThis==null?void 0:globalThis.document){const n=pi(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&GU(Pre,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZN(){const t=new CustomEvent(Ab);document.dispatchEvent(t)}function GU(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VU(i,s):i.dispatchEvent(s)}var Ire=dm,Ore=HU,Yw="focusScope.autoFocusOnMount",Zw="focusScope.autoFocusOnUnmount",JN={bubbles:!1,cancelable:!0},kre="FocusScope",oM=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=w.useState(null),c=pi(i),d=pi(s),f=w.useRef(null),p=tn(e,y=>l(y)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const T=E.target;a.contains(T)?f.current=T:Pa(f.current,{select:!0})},v=function(E){if(g.paused||!a)return;const T=E.relatedTarget;T!==null&&(a.contains(T)||Pa(f.current,{select:!0}))},m=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&Pa(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const S=new MutationObserver(m);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),S.disconnect()}}},[r,a,g.paused]),w.useEffect(()=>{if(a){eL.add(g);const y=document.activeElement;if(!a.contains(y)){const m=new CustomEvent(Yw,JN);a.addEventListener(Yw,c),a.dispatchEvent(m),m.defaultPrevented||(Ure(Vre(WU(a)),{select:!0}),document.activeElement===y&&Pa(a))}return()=>{a.removeEventListener(Yw,c),setTimeout(()=>{const m=new CustomEvent(Zw,JN);a.addEventListener(Zw,d),a.dispatchEvent(m),m.defaultPrevented||Pa(y??document.body,{select:!0}),a.removeEventListener(Zw,d),eL.remove(g)},0)}}},[a,c,d,g]);const _=w.useCallback(y=>{if(!n&&!r||g.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,m=document.activeElement;if(v&&m){const S=y.currentTarget,[E,T]=Fre(S);E&&T?!y.shiftKey&&m===T?(y.preventDefault(),n&&Pa(E,{select:!0})):y.shiftKey&&m===E&&(y.preventDefault(),n&&Pa(T,{select:!0})):m===S&&y.preventDefault()}},[n,r,g.paused]);return x.jsx(At.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});oM.displayName=kre;function Ure(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pa(r,{select:e}),document.activeElement!==n)return}function Fre(t){const e=WU(t),n=QN(e,t),r=QN(e.reverse(),t);return[n,r]}function WU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QN(t,e){for(const n of t)if(!jre(n,{upTo:e}))return n}function jre(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Bre(t){return t instanceof HTMLInputElement&&"select"in t}function Pa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Bre(t)&&e&&t.select()}}var eL=zre();function zre(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tL(t,e),t.unshift(e)},remove(e){var n;t=tL(t,e),(n=t[0])==null||n.resume()}}}function tL(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vre(t){return t.filter(e=>e.tagName!=="A")}var $re="Portal",jy=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=w.useState(!1);lr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?VT.createPortal(x.jsx(At.div,{...r,ref:e}),o):null});jy.displayName=$re;function Hre(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Wc=t=>{const{present:e,children:n}=t,r=Gre(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=tn(r.ref,Wre(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Wc.displayName="Presence";function Gre(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Hre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=iv(r.current);s.current=a==="mounted"?c:"none"},[a]),lr(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,g=iv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),lr(()=>{if(e){const c=f=>{const g=iv(r.current).includes(f.animationName);f.target===e&&g&&fs.flushSync(()=>l("ANIMATION_END"))},d=f=>{f.target===e&&(s.current=iv(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function iv(t){return(t==null?void 0:t.animationName)||"none"}function Wre(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jw=0;function XU(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nL()),document.body.insertAdjacentElement("beforeend",t[1]??nL()),Jw++,()=>{Jw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jw--}},[])}function nL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var Dr=function(){return Dr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dr.apply(this,arguments)};function aM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KU(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var $h="right-scroll-bar-position",Hh="width-before-scroll-bar",Xre="with-scroll-bars-hidden",Kre="--removed-body-scroll-bar-size";function Qw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qre(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Yre=typeof window<"u"?w.useLayoutEffect:w.useEffect,rL=new WeakMap;function qU(t,e){var n=qre(null,function(r){return t.forEach(function(i){return Qw(i,r)})});return Yre(function(){var r=rL.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Qw(a,null)}),s.forEach(function(a){i.has(a)||Qw(a,o)})}rL.set(n,t)},[t]),n}function Zre(t){return t}function Jre(t,e){e===void 0&&(e=Zre);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function YU(t){t===void 0&&(t={});var e=Jre(null);return e.options=Dr({async:!0,ssr:!1},t),e}var ZU=function(t){var e=t.sideCar,n=aM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Dr({},n))};ZU.isSideCarExport=!0;function JU(t,e){return t.useMedium(e),ZU}var QU=YU(),eS=function(){},By=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:eS,onWheelCapture:eS,onTouchMoveCapture:eS}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,_=t.inert,y=t.allowPinchZoom,v=t.as,m=v===void 0?"div":v,S=t.gapMode,E=aM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,C=qU([n,e]),P=Dr(Dr({},E),i);return w.createElement(w.Fragment,null,d&&w.createElement(T,{sideCar:QU,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:S}),o?w.cloneElement(w.Children.only(a),Dr(Dr({},P),{ref:C})):w.createElement(m,Dr({},P,{className:l,ref:C}),a))});By.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};By.classNames={fullWidth:Hh,zeroRight:$h};var Qre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eie(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Qre();return e&&t.setAttribute("nonce",e),t}function tie(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nie(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rie=function(){var t=0,e=null;return{add:function(n){t==0&&(e=eie())&&(tie(e,n),nie(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iie=function(){var t=rie();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lM=function(){var t=iie(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sie={left:0,top:0,right:0,gap:0},tS=function(t){return parseInt(t||"",10)||0},oie=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tS(n),tS(r),tS(i)]},aie=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sie;var e=oie(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},lie=lM(),Pd="data-scroll-locked",cie=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Pd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($h,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($h," .").concat($h,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hh," .").concat(Hh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pd,`] {
    `).concat(Kre,": ").concat(a,`px;
  }
`)},iL=function(){var t=parseInt(document.body.getAttribute(Pd)||"0",10);return isFinite(t)?t:0},uie=function(){w.useEffect(function(){return document.body.setAttribute(Pd,(iL()+1).toString()),function(){var t=iL()-1;t<=0?document.body.removeAttribute(Pd):document.body.setAttribute(Pd,t.toString())}},[])},eF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;uie();var s=w.useMemo(function(){return aie(i)},[i]);return w.createElement(lie,{styles:cie(s,!e,i,n?"":"!important")})},Rb=!1;if(typeof window<"u")try{var sv=Object.defineProperty({},"passive",{get:function(){return Rb=!0,!0}});window.addEventListener("test",sv,sv),window.removeEventListener("test",sv,sv)}catch{Rb=!1}var Iu=Rb?{passive:!1}:!1,die=function(t){return t.tagName==="TEXTAREA"},tF=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!die(t)&&n[e]==="visible")},fie=function(t){return tF(t,"overflowY")},hie=function(t){return tF(t,"overflowX")},sL=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=nF(t,r);if(i){var s=rF(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pie=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},nF=function(t,e){return t==="v"?fie(e):hie(e)},rF=function(t,e){return t==="v"?pie(e):mie(e)},gie=function(t,e){return t==="h"&&e==="rtl"?-1:1},vie=function(t,e,n,r,i){var s=gie(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=rF(t,a),_=g[0],y=g[1],v=g[2],m=y-v-s*_;(_||m)&&nF(t,a)&&(f+=m,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(c=!0),c},ov=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oL=function(t){return[t.deltaX,t.deltaY]},aL=function(t){return t&&"current"in t?t.current:t},yie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_ie=0,Ou=[];function wie(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(_ie++)[0],s=w.useState(lM)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=KU([t.lockRef.current],(t.shards||[]).map(aL),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(y,v){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var m=ov(y),S=n.current,E="deltaX"in y?y.deltaX:S[0]-m[0],T="deltaY"in y?y.deltaY:S[1]-m[1],C,P=y.target,R=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in y&&R==="h"&&P.type==="range")return!1;var A=sL(R,P);if(!A)return!0;if(A?C=R:(C=R==="v"?"h":"v",A=sL(R,P)),!A)return!1;if(!r.current&&"changedTouches"in y&&(E||T)&&(r.current=C),!C)return!0;var L=r.current||C;return vie(L,v,y,L==="h"?E:T,!0)},[]),l=w.useCallback(function(y){var v=y;if(!(!Ou.length||Ou[Ou.length-1]!==s)){var m="deltaY"in v?oL(v):ov(v),S=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&yie(C.delta,m)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var E=(o.current.shards||[]).map(aL).filter(Boolean).filter(function(C){return C.contains(v.target)}),T=E.length>0?a(v,E[0]):!o.current.noIsolation;T&&v.cancelable&&v.preventDefault()}}},[]),c=w.useCallback(function(y,v,m,S){var E={name:y,delta:v,target:m,should:S,shadowParent:Sie(m)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(T){return T!==E})},1)},[]),d=w.useCallback(function(y){n.current=ov(y),r.current=void 0},[]),f=w.useCallback(function(y){c(y.type,oL(y),y.target,a(y,t.lockRef.current))},[]),p=w.useCallback(function(y){c(y.type,ov(y),y.target,a(y,t.lockRef.current))},[]);w.useEffect(function(){return Ou.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Iu),document.addEventListener("touchmove",l,Iu),document.addEventListener("touchstart",d,Iu),function(){Ou=Ou.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Iu),document.removeEventListener("touchmove",l,Iu),document.removeEventListener("touchstart",d,Iu)}},[]);var g=t.removeScrollBar,_=t.inert;return w.createElement(w.Fragment,null,_?w.createElement(s,{styles:xie(i)}):null,g?w.createElement(eF,{gapMode:t.gapMode}):null)}function Sie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bie=JU(QU,wie);var cM=w.forwardRef(function(t,e){return w.createElement(By,Dr({},t,{ref:e,sideCar:bie}))});cM.classNames=By.classNames;var Eie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ku=new WeakMap,av=new WeakMap,lv={},nS=0,iF=function(t){return t&&(t.host||iF(t.parentNode))},Tie=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iF(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Mie=function(t,e,n,r){var i=Tie(e,Array.isArray(t)?t:[t]);lv[n]||(lv[n]=new WeakMap);var s=lv[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),_=g!==null&&g!=="false",y=(ku.get(p)||0)+1,v=(s.get(p)||0)+1;ku.set(p,y),s.set(p,v),o.push(p),y===1&&_&&av.set(p,!0),v===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",p,m)}})};return d(e),a.clear(),nS++,function(){o.forEach(function(f){var p=ku.get(f)-1,g=s.get(f)-1;ku.set(f,p),s.set(f,g),p||(av.has(f)||f.removeAttribute(r),av.delete(f)),g||f.removeAttribute(n)}),nS--,nS||(ku=new WeakMap,ku=new WeakMap,av=new WeakMap,lv={})}},uM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Eie(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Mie(r,i,n,"aria-hidden")):function(){return null}},dM="Dialog",[sF,oF]=fo(dM),[Cie,Vs]=sF(dM),aF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[c=!1,d]=us({prop:r,defaultProp:i,onChange:s});return x.jsx(Cie,{scope:e,triggerRef:a,contentRef:l,contentId:Ho(),titleId:Ho(),descriptionId:Ho(),open:c,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};aF.displayName=dM;var lF="DialogTrigger",cF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vs(lF,n),s=tn(e,i.triggerRef);return x.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pM(i.open),...r,ref:s,onClick:bt(t.onClick,i.onOpenToggle)})});cF.displayName=lF;var fM="DialogPortal",[Aie,uF]=sF(fM,{forceMount:void 0}),dF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Vs(fM,e);return x.jsx(Aie,{scope:e,forceMount:n,children:w.Children.map(r,o=>x.jsx(Wc,{present:n||s.open,children:x.jsx(jy,{asChild:!0,container:i,children:o})}))})};dF.displayName=fM;var B0="DialogOverlay",fF=w.forwardRef((t,e)=>{const n=uF(B0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Vs(B0,t.__scopeDialog);return s.modal?x.jsx(Wc,{present:r||s.open,children:x.jsx(Rie,{...i,ref:e})}):null});fF.displayName=B0;var Rie=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vs(B0,n);return x.jsx(cM,{as:pl,allowPinchZoom:!0,shards:[i.contentRef],children:x.jsx(At.div,{"data-state":pM(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ic="DialogContent",hF=w.forwardRef((t,e)=>{const n=uF(Ic,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Vs(Ic,t.__scopeDialog);return x.jsx(Wc,{present:r||s.open,children:s.modal?x.jsx(Pie,{...i,ref:e}):x.jsx(Nie,{...i,ref:e})})});hF.displayName=Ic;var Pie=w.forwardRef((t,e)=>{const n=Vs(Ic,t.__scopeDialog),r=w.useRef(null),i=tn(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return uM(s)},[]),x.jsx(pF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bt(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:bt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:bt(t.onFocusOutside,s=>s.preventDefault())})}),Nie=w.forwardRef((t,e)=>{const n=Vs(Ic,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return x.jsx(pF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),pF=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Vs(Ic,n),l=w.useRef(null),c=tn(e,l);return XU(),x.jsxs(x.Fragment,{children:[x.jsx(oM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:x.jsx(dm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pM(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(Die,{titleId:a.titleId}),x.jsx(Oie,{contentRef:l,descriptionId:a.descriptionId})]})]})}),hM="DialogTitle",mF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vs(hM,n);return x.jsx(At.h2,{id:i.titleId,...r,ref:e})});mF.displayName=hM;var gF="DialogDescription",vF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vs(gF,n);return x.jsx(At.p,{id:i.descriptionId,...r,ref:e})});vF.displayName=gF;var yF="DialogClose",xF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vs(yF,n);return x.jsx(At.button,{type:"button",...r,ref:e,onClick:bt(t.onClick,()=>i.onOpenChange(!1))})});xF.displayName=yF;function pM(t){return t?"open":"closed"}var _F="DialogTitleWarning",[Lie,wF]=wre(_F,{contentName:Ic,titleName:hM,docsSlug:"dialog"}),Die=({titleId:t})=>{const e=wF(_F),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Iie="DialogDescriptionWarning",Oie=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wF(Iie).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},zy=aF,mM=cF,Vy=dF,gf=fF,vf=hF,yf=mF,xf=vF,fm=xF;function kie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const SF=Ge.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1}),$y=()=>{const t=Ge.useContext(SF);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};kie(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-vaul-snap-points=false][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Uie=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Pb(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}function Fie(){return gM(/^Mac/)}function jie(){return gM(/^iPhone/)}function Bie(){return gM(/^iPad/)||Fie()&&navigator.maxTouchPoints>1}function bF(){return jie()||Bie()}function gM(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const rS=typeof document<"u"&&window.visualViewport;function lL(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function EF(t){for(lL(t)&&(t=t.parentElement);t&&!lL(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const zie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let cv=0,iS;function Vie(t={}){let{isDisabled:e}=t;Uie(()=>{if(!e)return cv++,cv===1&&(bF()?iS=Hie():iS=$ie()),()=>{cv--,cv===0&&iS()}},[e])}function $ie(){return Pb(TF(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function Hie(){let t,e=0,n=f=>{t=EF(f.target),!(t===document.documentElement&&t===document.body)&&(e=f.changedTouches[0].pageY)},r=f=>{if(!t||t===document.documentElement||t===document.body){f.preventDefault();return}let p=f.changedTouches[0].pageY,g=t.scrollTop,_=t.scrollHeight-t.clientHeight;_!==0&&((g<=0&&p>e||g>=_&&p<e)&&f.preventDefault(),e=p)},i=f=>{let p=f.target;Nb(p)&&p!==document.activeElement&&(f.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},s=f=>{let p=f.target;Nb(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",rS&&(rS.height<window.innerHeight?requestAnimationFrame(()=>{cL(p)}):rS.addEventListener("resize",()=>cL(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=Pb(TF(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=Pb(sh(document,"touchstart",n,{passive:!1,capture:!0}),sh(document,"touchmove",r,{passive:!1,capture:!0}),sh(document,"touchend",i,{passive:!1,capture:!0}),sh(document,"focus",s,!0),sh(window,"scroll",o));return()=>{c(),d(),window.scrollTo(a,l)}}function TF(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function sh(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function cL(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=EF(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top,s=t.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom;s>o&&(n.scrollTop+=i-r)}t=n.parentElement}}function Nb(t){return t instanceof HTMLInputElement&&!zie.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Gie(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Wie(...t){return e=>t.forEach(n=>Gie(n,e))}function MF(...t){return w.useCallback(Wie(...t),t)}const Xie=new WeakMap;function nr(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([i,s])=>{if(i.startsWith("--")){t.style.setProperty(i,s);return}r[i]=t.style[i],t.style[i]=s}),!n&&Xie.set(t,r)}const Zn=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function uv(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Zn(e)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Zn(e)?5:4]):null)}function Kie(t){return 8*(Math.log(t+1)-2)}function sS(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function qie(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const jn={DURATION:.5,EASE:[.32,.72,0,1]},CF=.4,Yie=.25,Zie=100,AF=8,Zl=16,Lb=26,oS="vaul-dragging";function RF(t){const e=Ge.useRef(t);return Ge.useEffect(()=>{e.current=t}),Ge.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function Jie({defaultProp:t,onChange:e}){const n=Ge.useState(t),[r]=n,i=Ge.useRef(r),s=RF(e);return Ge.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function PF({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Jie({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=RF(n),l=Ge.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function Qie({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:s,onSnapPointChange:o,direction:a="bottom"}){const[l,c]=PF({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[d,f]=Ge.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Ge.useEffect(()=>{function C(){f({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const p=Ge.useMemo(()=>l===(n==null?void 0:n[n.length-1])||null,[n,l]),g=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===l||!n,_=Ge.useMemo(()=>n==null?void 0:n.findIndex(C=>C===l),[n,l]),y=Ge.useMemo(()=>{var C;return(C=n==null?void 0:n.map(P=>{const R=typeof P=="string";let A=0;if(R&&(A=parseInt(P,10)),Zn(a)){const N=R?A:d?P*d.innerHeight:0;return d?a==="bottom"?d.innerHeight-N:-d.innerHeight+N:N}const L=R?A:d?P*d.innerWidth:0;return d?a==="right"?d.innerWidth-L:-d.innerWidth+L:L}))!=null?C:[]},[n,d]),v=Ge.useMemo(()=>_!==null?y==null?void 0:y[_]:null,[y,_]),m=Ge.useCallback(C=>{var P;const R=(P=y==null?void 0:y.findIndex(A=>A===C))!=null?P:null;o(R),nr(r.current,{transition:`transform ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`,transform:Zn(a)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),y&&R!==y.length-1&&R!==s?nr(i.current,{transition:`opacity ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`,opacity:"0"}):nr(i.current,{transition:`opacity ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`,opacity:"1"}),c(R!==null?n==null?void 0:n[R]:null)},[r.current,n,y,s,i,c]);Ge.useEffect(()=>{if(l||t){var C;const P=(C=n==null?void 0:n.findIndex(R=>R===t||R===l))!=null?C:-1;y&&P!==-1&&typeof y[P]=="number"&&m(y[P])}},[l,t,n,y,m]);function S({draggedDistance:C,closeDrawer:P,velocity:R,dismissible:A}){if(s===void 0)return;const L=a==="bottom"||a==="right"?(v??0)-C:(v??0)+C,N=_===s-1,I=_===0,V=C>0;if(N&&nr(i.current,{transition:`opacity ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`}),R>2&&!V){A?P():m(y[0]);return}if(R>2&&V&&y&&n){m(y[n.length-1]);return}const W=y==null?void 0:y.reduce((Q,q)=>typeof Q!="number"||typeof q!="number"?Q:Math.abs(q-L)<Math.abs(Q-L)?q:Q),z=Zn(a)?window.innerHeight:window.innerWidth;if(R>CF&&Math.abs(C)<z*.4){const Q=V?1:-1;if(Q>0&&p){m(y[n.length-1]);return}if(I&&Q<0&&A&&P(),_===null)return;m(y[_+Q]);return}m(W)}function E({draggedDistance:C}){if(v===null)return;const P=a==="bottom"||a==="right"?v-C:v+C;(a==="bottom"||a==="right")&&P<y[y.length-1]||(a==="top"||a==="left")&&P>y[y.length-1]||nr(r.current,{transform:Zn(a)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function T(C,P){if(!n||typeof _!="number"||!y||s===void 0)return null;const R=_===s-1;if(_>=s&&P)return 0;if(R&&!P)return 1;if(!g&&!R)return null;const L=R?_+1:_-1,N=R?y[L]-y[L-1]:y[L+1]-y[L],I=C/Math.abs(N);return R?1-I:I}return{isLastSnapPoint:p,activeSnapPoint:l,shouldFade:g,getPercentageDragged:T,setActiveSnapPoint:c,activeSnapPointIndex:_,onRelease:S,onDrag:E,snapPointsOffset:y}}const ese=()=>()=>{};function tse(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=$y(),s=Ge.useRef(null),o=w.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-Lb)/window.innerWidth}Ge.useEffect(()=>{if(e&&n){s.current&&clearTimeout(s.current);const l=document.querySelector("[data-vaul-drawer-wrapper]"),c=qie(r&&!i?sS(document.body,{background:"black"}):ese,sS(l,{transformOrigin:Zn(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${jn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${jn.EASE.join(",")})`})),d=sS(l,{borderRadius:`${AF}px`,overflow:"hidden",...Zn(t)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),s.current=window.setTimeout(()=>{c(),o?document.body.style.background=o:document.body.style.removeProperty("background")},jn.DURATION*1e3)}}},[e,n,o])}function NF({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:i,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:a=!0,closeThreshold:l=Yie,scrollLockTimeout:c=Zie,dismissible:d=!0,fadeFromIndex:f=s&&s.length-1,activeSnapPoint:p,setActiveSnapPoint:g,fixed:_,modal:y=!0,onClose:v,noBodyStyles:m,direction:S="bottom",defaultOpen:E=!1,repositionInputs:T=!0}){var C;const[P=!1,R]=PF({defaultProp:E,prop:t,onChange:e}),[A,L]=Ge.useState(!1),[N,I]=Ge.useState(!1),[V,W]=Ge.useState(!1),z=Ge.useRef(null),Q=Ge.useRef(null),q=Ge.useRef(null),se=Ge.useRef(null),B=Ge.useRef(null),J=Ge.useRef(!1),ue=Ge.useRef(null),ge=Ge.useRef(0),oe=Ge.useRef(!1),Re=Ge.useRef(0),X=Ge.useRef(null),ce=Ge.useRef(((C=X.current)==null?void 0:C.getBoundingClientRect().height)||0),me=Ge.useRef(0),re=Ge.useCallback(ye=>{s&&ye===j.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:we,activeSnapPointIndex:Be,setActiveSnapPoint:ke,onRelease:$e,snapPointsOffset:j,onDrag:tt,shouldFade:je,getPercentageDragged:st}=Qie({snapPoints:s,activeSnapPointProp:p,setActiveSnapPointProp:g,drawerRef:X,fadeFromIndex:f,overlayRef:z,onSnapPointChange:re,direction:S});Vie({isDisabled:!P||N||!y||V||!A||!T});function Ke(){return(window.innerWidth-Lb)/window.innerWidth}function _t(ye){var Ne;!d&&!s||X.current&&!X.current.contains(ye.target)||(ce.current=((Ne=X.current)==null?void 0:Ne.getBoundingClientRect().height)||0,I(!0),q.current=new Date,bF()&&window.addEventListener("touchend",()=>J.current=!1,{once:!0}),ye.target.setPointerCapture(ye.pointerId),ge.current=Zn(S)?ye.clientY:ye.clientX)}function nt(ye,Ne){var Ze;let he=ye;const Oe=(Ze=window.getSelection())==null?void 0:Ze.toString(),at=X.current?uv(X.current,S):null,Je=new Date;if(he.hasAttribute("data-vaul-no-drag")||he.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if(Q.current&&Je.getTime()-Q.current.getTime()<500)return!1;if(at!==null&&(S==="bottom"?at>0:at<0))return!0;if(Oe&&Oe.length>0)return!1;if(B.current&&Je.getTime()-B.current.getTime()<c&&at===0||Ne)return B.current=Je,!1;for(;he;){if(he.scrollHeight>he.clientHeight){if(he.scrollTop!==0)return B.current=new Date,!1;if(he.getAttribute("role")==="dialog")return!0}he=he.parentNode}return!0}function ot(ye){if(X.current&&N){const Ne=S==="bottom"||S==="right"?1:-1,Ze=(ge.current-(Zn(S)?ye.clientY:ye.clientX))*Ne,he=Ze>0,Oe=s&&!d&&!he;if(Oe&&Be===0)return;const at=Math.abs(Ze),Je=document.querySelector("[data-vaul-drawer-wrapper]");let We=at/ce.current;const be=st(at,he);if(be!==null&&(We=be),Oe&&We>=1||!J.current&&!nt(ye.target,he))return;if(X.current.classList.add(oS),J.current=!0,nr(X.current,{transition:"none"}),nr(z.current,{transition:"none"}),s&&tt({draggedDistance:Ze}),he&&!s){const wt=Kie(Ze),ee=Math.min(wt*-1,0)*Ne;nr(X.current,{transform:Zn(S)?`translate3d(0, ${ee}px, 0)`:`translate3d(${ee}px, 0, 0)`});return}const rt=1-We;if((je||f&&Be===f-1)&&(r==null||r(ye,We),nr(z.current,{opacity:`${rt}`,transition:"none"},!0)),Je&&z.current&&o){const wt=Math.min(Ke()+We*(1-Ke()),1),ee=8-We*8,Ue=Math.max(0,14-We*14);nr(Je,{borderRadius:`${ee}px`,transform:Zn(S)?`scale(${wt}) translate3d(0, ${Ue}px, 0)`:`scale(${wt}) translate3d(${Ue}px, 0, 0)`,transition:"none"},!0)}if(!s){const wt=at*Ne;nr(X.current,{transform:Zn(S)?`translate3d(0, ${wt}px, 0)`:`translate3d(${wt}px, 0, 0)`})}}}Ge.useEffect(()=>{var ye;function Ne(){if(!X.current)return;const Ze=document.activeElement;if(Nb(Ze)||oe.current){var he;const Oe=((he=window.visualViewport)==null?void 0:he.height)||0;let at=window.innerHeight-Oe;const Je=X.current.getBoundingClientRect().height||0;me.current||(me.current=Je);const We=X.current.getBoundingClientRect().top;if(Math.abs(Re.current-at)>60&&(oe.current=!oe.current),s&&s.length>0&&j&&Be){const be=j[Be]||0;at+=be}if(Re.current=at,Je>Oe||oe.current){const be=X.current.getBoundingClientRect().height;let rt=be;be>Oe&&(rt=Oe-Lb),_?X.current.style.height=`${be-Math.max(at,0)}px`:X.current.style.height=`${Math.max(rt,Oe-We)}px`}else X.current.style.height=`${me.current}px`;s&&s.length>0&&!oe.current?X.current.style.bottom="0px":X.current.style.bottom=`${Math.max(at,0)}px`}}return(ye=window.visualViewport)==null||ye.addEventListener("resize",Ne),()=>{var Ze;return(Ze=window.visualViewport)==null?void 0:Ze.removeEventListener("resize",Ne)}},[Be,s,j]);function $(){de(),v==null||v(),R(!1),setTimeout(()=>{s&&ke(s[0])},jn.DURATION*1e3)}function k(){if(!X.current)return;const ye=document.querySelector("[data-vaul-drawer-wrapper]"),Ne=uv(X.current,S);nr(X.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`}),nr(z.current,{transition:`opacity ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`,opacity:"1"}),o&&Ne&&Ne>0&&P&&nr(ye,{borderRadius:`${AF}px`,overflow:"hidden",...Zn(S)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${jn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${jn.EASE.join(",")})`},!0)}function de(){!N||!X.current||(X.current.classList.remove(oS),J.current=!1,I(!1),se.current=new Date)}function _e(ye){if(!N||!X.current)return;X.current.classList.remove(oS),J.current=!1,I(!1),se.current=new Date;const Ne=uv(X.current,S);if(!nt(ye.target,!1)||!Ne||Number.isNaN(Ne)||q.current===null)return;const Ze=se.current.getTime()-q.current.getTime(),he=ge.current-(Zn(S)?ye.clientY:ye.clientX),Oe=Math.abs(he)/Ze;if(Oe>.05&&(W(!0),setTimeout(()=>{W(!1)},200)),s){$e({draggedDistance:he*(S==="bottom"||S==="right"?1:-1),closeDrawer:$,velocity:Oe,dismissible:d}),i==null||i(ye,!0);return}if(S==="bottom"||S==="right"?he>0:he<0){k(),i==null||i(ye,!0);return}if(Oe>CF){$(),i==null||i(ye,!1);return}var at;const Je=Math.min((at=X.current.getBoundingClientRect().height)!=null?at:0,window.innerHeight);if(Ne>=Je*l){$(),i==null||i(ye,!1);return}i==null||i(ye,!0),k()}Ge.useEffect(()=>{P&&(nr(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date)},[P]),Ge.useEffect(()=>{if(X.current){var ye;const Ne=X==null||(ye=X.current)==null?void 0:ye.querySelectorAll("*");Ne==null||Ne.forEach(Ze=>{const he=Ze;(he.scrollHeight>he.clientHeight||he.scrollWidth>he.clientWidth)&&he.classList.add("vaul-scrollable")})}},[P]);function Pe(ye){const Ne=ye?(window.innerWidth-Zl)/window.innerWidth:1,Ze=ye?-Zl:0;ue.current&&window.clearTimeout(ue.current),nr(X.current,{transition:`transform ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`,transform:`scale(${Ne}) translate3d(0, ${Ze}px, 0)`}),!ye&&X.current&&(ue.current=setTimeout(()=>{const he=uv(X.current,S);nr(X.current,{transition:"none",transform:Zn(S)?`translate3d(0, ${he}px, 0)`:`translate3d(${he}px, 0, 0)`})},500))}function Se(ye,Ne){if(Ne<0)return;const Ze=Zn(S)?window.innerHeight:window.innerWidth,he=(Ze-Zl)/Ze,Oe=he+Ne*(1-he),at=-Zl+Ne*Zl;nr(X.current,{transform:Zn(S)?`scale(${Oe}) translate3d(0, ${at}px, 0)`:`scale(${Oe}) translate3d(${at}px, 0, 0)`,transition:"none"})}function lt(ye,Ne){const Ze=Zn(S)?window.innerHeight:window.innerWidth,he=Ne?(Ze-Zl)/Ze:1,Oe=Ne?-Zl:0;Ne&&nr(X.current,{transition:`transform ${jn.DURATION}s cubic-bezier(${jn.EASE.join(",")})`,transform:Zn(S)?`scale(${he}) translate3d(0, ${Oe}px, 0)`:`scale(${he}) translate3d(${Oe}px, 0, 0)`})}return Ge.createElement(zy,{defaultOpen:E,modal:y,onOpenChange:ye=>{ye&&L(!0),R(ye)},open:P},Ge.createElement(SF.Provider,{value:{activeSnapPoint:we,snapPoints:s,setActiveSnapPoint:ke,drawerRef:X,overlayRef:z,onOpenChange:e,onPress:_t,onRelease:_e,onDrag:ot,dismissible:d,isOpen:P,isDragging:N,shouldFade:je,closeDrawer:$,onNestedDrag:Se,onNestedOpenChange:Pe,onNestedRelease:lt,keyboardIsOpen:oe,modal:y,snapPointsOffset:j,direction:S,shouldScaleBackground:o,setBackgroundColorOnScale:a,noBodyStyles:m}},n))}const LF=Ge.forwardRef(function({children:t,...e},n){const{overlayRef:r,snapPoints:i,onRelease:s,shouldFade:o,isOpen:a}=$y(),l=MF(n,r),c=i&&i.length>0;return Ge.createElement(gf,{onMouseUp:s,ref:l,"data-vaul-overlay":"","data-vaul-snap-points":a&&c?"true":"false","data-vaul-snap-points-overlay":a&&o?"true":"false",...e})});LF.displayName="Drawer.Overlay";const DF=Ge.forwardRef(function({onOpenAutoFocus:t,onPointerDownOutside:e,onAnimationEnd:n,style:r,...i},s){const{drawerRef:o,onPress:a,onRelease:l,onDrag:c,keyboardIsOpen:d,snapPointsOffset:f,modal:p,isOpen:g,direction:_,snapPoints:y}=$y(),[v,m]=Ge.useState(!1),S=MF(s,o),E=Ge.useRef(null),T=Ge.useRef(!1),C=y&&y.length>0;tse();const P=(R,A,L=0)=>{if(T.current)return!0;const N=Math.abs(R.y),I=Math.abs(R.x),V=I>N,W=["bottom","right"].includes(A)?1:-1;if(A==="left"||A==="right"){if(!(R.x*W<0)&&I>=0&&I<=L)return V}else if(!(R.y*W<0)&&N>=0&&N<=L)return!V;return T.current=!0,!0};return w.useEffect(()=>{C&&window.requestAnimationFrame(()=>{m(!0)})},[]),Ge.createElement(vf,{"data-vaul-drawer-direction":_,"data-vaul-drawer":"","data-vaul-delayed-snap-points":v?"true":"false","data-vaul-snap-points":g&&C?"true":"false",...i,ref:S,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...r}:r,onOpenAutoFocus:R=>{if(t)t(R);else{var A;R.preventDefault(),(A=o.current)==null||A.focus()}},onPointerDown:R=>{i.onPointerDown==null||i.onPointerDown.call(i,R),E.current={x:R.clientX,y:R.clientY},a(R)},onPointerDownOutside:R=>{if(e==null||e(R),!p||R.defaultPrevented){R.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:R=>{if(!p){R.preventDefault();return}},onEscapeKeyDown:R=>{if(!p){R.preventDefault();return}},onPointerMove:R=>{if(i.onPointerMove==null||i.onPointerMove.call(i,R),!E.current)return;const A=R.clientY-E.current.y,L=R.clientX-E.current.x,N=R.pointerType==="touch"?10:2;P({x:L,y:A},_,N)?c(R):(Math.abs(L)>N||Math.abs(A)>N)&&(E.current=null)},onPointerUp:R=>{i.onPointerUp==null||i.onPointerUp.call(i,R),E.current=null,T.current=!1,l(R)}})});DF.displayName="Drawer.Content";function nse({onDrag:t,onOpenChange:e,...n}){const{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:s}=$y();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return Ge.createElement(NF,{nested:!0,onClose:()=>{i(!1)},onDrag:(o,a)=>{r(o,a),t==null||t(o,a)},onOpenChange:o=>{o&&i(o),e==null||e(o)},onRelease:s,...n})}const $s={Root:NF,NestedRoot:nse,Content:DF,Overlay:LF,Trigger:mM,Portal:Vy,Close:fm,Title:yf,Description:xf},vM=({shouldScaleBackground:t=!0,...e})=>x.jsx($s.Root,{shouldScaleBackground:t,...e});vM.displayName="Drawer";const IF=$s.Trigger,rse=$s.Portal,OF=$s.Close,kF=w.forwardRef(({className:t,...e},n)=>x.jsx($s.Overlay,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80",t),...e}));kF.displayName=$s.Overlay.displayName;const yM=w.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(rse,{children:[x.jsx(kF,{}),x.jsxs($s.Content,{ref:r,className:Ae("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[x.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));yM.displayName="DrawerContent";const xM=({className:t,...e})=>x.jsx("div",{className:Ae("grid gap-1.5 p-4 text-center sm:text-left",t),...e});xM.displayName="DrawerHeader";const _M=({className:t,...e})=>x.jsx("div",{className:Ae("mt-auto flex flex-col gap-2 p-4",t),...e});_M.displayName="DrawerFooter";const wM=w.forwardRef(({className:t,...e},n)=>x.jsx($s.Title,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));wM.displayName=$s.Title.displayName;const SM=w.forwardRef(({className:t,...e},n)=>x.jsx($s.Description,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));SM.displayName=$s.Description.displayName;function Mn(t){return`${t.toLocaleString()} SYP`}function Hs(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ise=["color"],sse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,ise);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ose=["color"],ase=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,ose);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lse=["color"],cse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,lse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),use=["color"],dse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,use);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M5 1C5 0.447715 5.44772 0 6 0H9C9.55228 0 10 0.447715 10 1V2H14C14.5523 2 15 2.44772 15 3V6C15 6.8888 14.6131 7.68734 14 8.23608V11.5C14 12.3284 13.3284 13 12.5 13H2.5C1.67157 13 1 12.3284 1 11.5V8.2359C0.38697 7.68721 0 6.88883 0 6V3C0 2.44772 0.447716 2 1 2H5V1ZM9 1V2H6V1H9ZM1 3H5H5.5H9.5H10H14V6C14 6.654 13.6866 7.23467 13.1997 7.6004C12.8655 7.85144 12.4508 8 12 8H8V7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5V8H3C2.5493 8 2.1346 7.85133 1.80029 7.60022C1.31335 7.23446 1 6.65396 1 6V3ZM7 9H3C2.64961 9 2.31292 8.93972 2 8.82905V11.5C2 11.7761 2.22386 12 2.5 12H12.5C12.7761 12 13 11.7761 13 11.5V8.82915C12.6871 8.93978 12.3504 9 12 9H8V9.5C8 9.77614 7.77614 10 7.5 10C7.22386 10 7 9.77614 7 9.5V9Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fse=["color"],hse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,fse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),pse=["color"],UF=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,pse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),mse=["color"],FF=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,mse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gse=["color"],vse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,gse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yse=["color"],xse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,yse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),_se=["color"],jF=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,_se);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wse=["color"],Sse=w.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Hs(t,wse);return w.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),w.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function uL(t,[e,n]){return Math.min(n,Math.max(e,t))}function Hy(t){const e=t+"CollectionProvider",[n,r]=fo(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:y}=g,v=Ge.useRef(null),m=Ge.useRef(new Map).current;return x.jsx(i,{scope:_,itemMap:m,collectionRef:v,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Ge.forwardRef((g,_)=>{const{scope:y,children:v}=g,m=s(a,y),S=tn(_,m.collectionRef);return x.jsx(pl,{ref:S,children:v})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=Ge.forwardRef((g,_)=>{const{scope:y,children:v,...m}=g,S=Ge.useRef(null),E=tn(_,S),T=s(c,y);return Ge.useEffect(()=>(T.itemMap.set(S,{ref:S,...m}),()=>void T.itemMap.delete(S))),x.jsx(pl,{[d]:"",ref:E,children:v})});f.displayName=c;function p(g){const _=s(t+"CollectionConsumer",g);return Ge.useCallback(()=>{const v=_.collectionRef.current;if(!v)return[];const m=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((T,C)=>m.indexOf(T.ref.current)-m.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}var bse=w.createContext(void 0);function Gy(t){const e=w.useContext(bse);return t||e||"ltr"}const Ese=["top","right","bottom","left"],vl=Math.min,Li=Math.max,z0=Math.round,dv=Math.floor,yl=t=>({x:t,y:t}),Tse={left:"right",right:"left",bottom:"top",top:"bottom"},Mse={start:"end",end:"start"};function Db(t,e,n){return Li(t,vl(e,n))}function na(t,e){return typeof t=="function"?t(e):t}function ra(t){return t.split("-")[0]}function _f(t){return t.split("-")[1]}function bM(t){return t==="x"?"y":"x"}function EM(t){return t==="y"?"height":"width"}function xl(t){return["top","bottom"].includes(ra(t))?"y":"x"}function TM(t){return bM(xl(t))}function Cse(t,e,n){n===void 0&&(n=!1);const r=_f(t),i=TM(t),s=EM(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=V0(o)),[o,V0(o)]}function Ase(t){const e=V0(t);return[Ib(t),e,Ib(e)]}function Ib(t){return t.replace(/start|end/g,e=>Mse[e])}function Rse(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Pse(t,e,n,r){const i=_f(t);let s=Rse(ra(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Ib)))),s}function V0(t){return t.replace(/left|right|bottom|top/g,e=>Tse[e])}function Nse(t){return{top:0,right:0,bottom:0,left:0,...t}}function BF(t){return typeof t!="number"?Nse(t):{top:t,right:t,bottom:t,left:t}}function $0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function dL(t,e,n){let{reference:r,floating:i}=t;const s=xl(e),o=TM(e),a=EM(o),l=ra(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(_f(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const Lse=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=dL(c,r,l),p=r,g={},_=0;for(let y=0;y<a.length;y++){const{name:v,fn:m}=a[y],{x:S,y:E,data:T,reset:C}=await m({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=S??d,f=E??f,g={...g,[v]:{...g[v],...T}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:f}=dL(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function Sp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=na(e,t),_=BF(g),v=a[p?f==="floating"?"reference":"floating":f],m=$0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),S=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=$0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:E,strategy:l}):S);return{top:(m.top-C.top+_.top)/T.y,bottom:(C.bottom-m.bottom+_.bottom)/T.y,left:(m.left-C.left+_.left)/T.x,right:(C.right-m.right+_.right)/T.x}}const Dse=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=na(t,e)||{};if(c==null)return{};const f=BF(d),p={x:n,y:r},g=TM(i),_=EM(g),y=await o.getDimensions(c),v=g==="y",m=v?"top":"left",S=v?"bottom":"right",E=v?"clientHeight":"clientWidth",T=s.reference[_]+s.reference[g]-p[g]-s.floating[_],C=p[g]-s.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=P?P[E]:0;(!R||!await(o.isElement==null?void 0:o.isElement(P)))&&(R=a.floating[E]||s.floating[_]);const A=T/2-C/2,L=R/2-y[_]/2-1,N=vl(f[m],L),I=vl(f[S],L),V=N,W=R-y[_]-I,z=R/2-y[_]/2+A,Q=Db(V,z,W),q=!l.arrow&&_f(i)!=null&&z!==Q&&s.reference[_]/2-(z<V?N:I)-y[_]/2<0,se=q?z<V?z-V:z-W:0;return{[g]:p[g]+se,data:{[g]:Q,centerOffset:z-Q-se,...q&&{alignmentOffset:se}},reset:q}}}),Ise=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...v}=na(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=ra(i),S=xl(a),E=ra(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(E||!y?[V0(a)]:Ase(a)),P=_!=="none";!p&&P&&C.push(...Pse(a,y,_,T));const R=[a,...C],A=await Sp(e,v),L=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&L.push(A[m]),f){const z=Cse(i,o,T);L.push(A[z[0]],A[z[1]])}if(N=[...N,{placement:i,overflows:L}],!L.every(z=>z<=0)){var I,V;const z=(((I=s.flip)==null?void 0:I.index)||0)+1,Q=R[z];if(Q)return{data:{index:z,overflows:N},reset:{placement:Q}};let q=(V=N.filter(se=>se.overflows[0]<=0).sort((se,B)=>se.overflows[1]-B.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(g){case"bestFit":{var W;const se=(W=N.filter(B=>{if(P){const J=xl(B.placement);return J===S||J==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(J=>J>0).reduce((J,ue)=>J+ue,0)]).sort((B,J)=>B[1]-J[1])[0])==null?void 0:W[0];se&&(q=se);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function fL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function hL(t){return Ese.some(e=>t[e]>=0)}const Ose=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=na(t,e);switch(r){case"referenceHidden":{const s=await Sp(e,{...i,elementContext:"reference"}),o=fL(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:hL(o)}}}case"escaped":{const s=await Sp(e,{...i,altBoundary:!0}),o=fL(s,n.floating);return{data:{escapedOffsets:o,escaped:hL(o)}}}default:return{}}}}};async function kse(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ra(n),a=_f(n),l=xl(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=na(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const Use=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await kse(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Fse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:m,y:S}=v;return{x:m,y:S}}},...l}=na(t,e),c={x:n,y:r},d=await Sp(e,l),f=xl(ra(i)),p=bM(f);let g=c[p],_=c[f];if(s){const v=p==="y"?"top":"left",m=p==="y"?"bottom":"right",S=g+d[v],E=g-d[m];g=Db(S,g,E)}if(o){const v=f==="y"?"top":"left",m=f==="y"?"bottom":"right",S=_+d[v],E=_-d[m];_=Db(S,_,E)}const y=a.fn({...e,[p]:g,[f]:_});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:s,[f]:o}}}}}},jse=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=na(t,e),d={x:n,y:r},f=xl(i),p=bM(f);let g=d[p],_=d[f];const y=na(a,e),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",T=s.reference[p]-s.floating[E]+v.mainAxis,C=s.reference[p]+s.reference[E]-v.mainAxis;g<T?g=T:g>C&&(g=C)}if(c){var m,S;const E=p==="y"?"width":"height",T=["top","left"].includes(ra(i)),C=s.reference[f]-s.floating[E]+(T&&((m=o.offset)==null?void 0:m[f])||0)+(T?0:v.crossAxis),P=s.reference[f]+s.reference[E]+(T?0:((S=o.offset)==null?void 0:S[f])||0)-(T?v.crossAxis:0);_<C?_=C:_>P&&(_=P)}return{[p]:g,[f]:_}}}},Bse=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=na(t,e),d=await Sp(e,c),f=ra(i),p=_f(i),g=xl(i)==="y",{width:_,height:y}=s.floating;let v,m;f==="top"||f==="bottom"?(v=f,m=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=f,v=p==="end"?"top":"bottom");const S=y-d.top-d.bottom,E=_-d.left-d.right,T=vl(y-d[v],S),C=vl(_-d[m],E),P=!e.middlewareData.shift;let R=T,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=S),P&&!p){const N=Li(d.left,0),I=Li(d.right,0),V=Li(d.top,0),W=Li(d.bottom,0);g?A=_-2*(N!==0||I!==0?N+I:Li(d.left,d.right)):R=y-2*(V!==0||W!==0?V+W:Li(d.top,d.bottom))}await l({...e,availableWidth:A,availableHeight:R});const L=await o.getDimensions(a.floating);return _!==L.width||y!==L.height?{reset:{rects:!0}}:{}}}};function Wy(){return typeof window<"u"}function wf(t){return zF(t)?(t.nodeName||"").toLowerCase():"#document"}function Ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ho(t){var e;return(e=(zF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zF(t){return Wy()?t instanceof Node||t instanceof Ui(t).Node:!1}function js(t){return Wy()?t instanceof Element||t instanceof Ui(t).Element:!1}function co(t){return Wy()?t instanceof HTMLElement||t instanceof Ui(t).HTMLElement:!1}function pL(t){return!Wy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ui(t).ShadowRoot}function hm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function zse(t){return["table","td","th"].includes(wf(t))}function Xy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function MM(t){const e=CM(),n=js(t)?Bs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Vse(t){let e=_l(t);for(;co(e)&&!ef(e);){if(MM(e))return e;if(Xy(e))return null;e=_l(e)}return null}function CM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ef(t){return["html","body","#document"].includes(wf(t))}function Bs(t){return Ui(t).getComputedStyle(t)}function Ky(t){return js(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _l(t){if(wf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pL(t)&&t.host||ho(t);return pL(e)?e.host:e}function VF(t){const e=_l(t);return ef(e)?t.ownerDocument?t.ownerDocument.body:t.body:co(e)&&hm(e)?e:VF(e)}function bp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=VF(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ui(i);if(s){const a=Ob(o);return e.concat(o,o.visualViewport||[],hm(i)?i:[],a&&n?bp(a):[])}return e.concat(i,bp(i,[],n))}function Ob(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $F(t){const e=Bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=co(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=z0(n)!==s||z0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function AM(t){return js(t)?t:t.contextElement}function Nd(t){const e=AM(t);if(!co(e))return yl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=$F(e);let o=(s?z0(n.width):n.width)/r,a=(s?z0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $se=yl(0);function HF(t){const e=Ui(t);return!CM()||!e.visualViewport?$se:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Hse(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ui(t)?!1:e}function Oc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=AM(t);let o=yl(1);e&&(r?js(r)&&(o=Nd(r)):o=Nd(t));const a=Hse(s,n,r)?HF(s):yl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=Ui(s),g=r&&js(r)?Ui(r):r;let _=p,y=Ob(_);for(;y&&r&&g!==_;){const v=Nd(y),m=y.getBoundingClientRect(),S=Bs(y),E=m.left+(y.clientLeft+parseFloat(S.paddingLeft))*v.x,T=m.top+(y.clientTop+parseFloat(S.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=E,c+=T,_=Ui(y),y=Ob(_)}}return $0({width:d,height:f,x:l,y:c})}function Gse(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ho(r),a=e?Xy(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=yl(1);const d=yl(0),f=co(r);if((f||!f&&!s)&&((wf(r)!=="body"||hm(o))&&(l=Ky(r)),co(r))){const p=Oc(r);c=Nd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Wse(t){return Array.from(t.getClientRects())}function kb(t,e){const n=Ky(t).scrollLeft;return e?e.left+n:Oc(ho(t)).left+n}function Xse(t){const e=ho(t),n=Ky(t),r=t.ownerDocument.body,i=Li(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Li(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+kb(t);const a=-n.scrollTop;return Bs(r).direction==="rtl"&&(o+=Li(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Kse(t,e){const n=Ui(t),r=ho(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=CM();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function qse(t,e){const n=Oc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=co(t)?Nd(t):yl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function mL(t,e,n){let r;if(e==="viewport")r=Kse(t,n);else if(e==="document")r=Xse(ho(t));else if(js(e))r=qse(e,n);else{const i=HF(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return $0(r)}function GF(t,e){const n=_l(t);return n===e||!js(n)||ef(n)?!1:Bs(n).position==="fixed"||GF(n,e)}function Yse(t,e){const n=e.get(t);if(n)return n;let r=bp(t,[],!1).filter(a=>js(a)&&wf(a)!=="body"),i=null;const s=Bs(t).position==="fixed";let o=s?_l(t):t;for(;js(o)&&!ef(o);){const a=Bs(o),l=MM(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||hm(o)&&!l&&GF(t,o))?r=r.filter(d=>d!==o):i=a,o=_l(o)}return e.set(t,r),r}function Zse(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Xy(e)?[]:Yse(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=mL(e,d,i);return c.top=Li(f.top,c.top),c.right=vl(f.right,c.right),c.bottom=vl(f.bottom,c.bottom),c.left=Li(f.left,c.left),c},mL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jse(t){const{width:e,height:n}=$F(t);return{width:e,height:n}}function Qse(t,e,n){const r=co(e),i=ho(e),s=n==="fixed",o=Oc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=yl(0);if(r||!r&&!s)if((wf(e)!=="body"||hm(i))&&(a=Ky(e)),r){const g=Oc(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=kb(i));let c=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-kb(i,g)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function aS(t){return Bs(t).position==="static"}function gL(t,e){if(!co(t)||Bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ho(t)===n&&(n=n.ownerDocument.body),n}function WF(t,e){const n=Ui(t);if(Xy(t))return n;if(!co(t)){let i=_l(t);for(;i&&!ef(i);){if(js(i)&&!aS(i))return i;i=_l(i)}return n}let r=gL(t,e);for(;r&&zse(r)&&aS(r);)r=gL(r,e);return r&&ef(r)&&aS(r)&&!MM(r)?n:r||Vse(t)||n}const eoe=async function(t){const e=this.getOffsetParent||WF,n=this.getDimensions,r=await n(t.floating);return{reference:Qse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function toe(t){return Bs(t).direction==="rtl"}const noe={convertOffsetParentRelativeRectToViewportRelativeRect:Gse,getDocumentElement:ho,getClippingRect:Zse,getOffsetParent:WF,getElementRects:eoe,getClientRects:Wse,getDimensions:Jse,getScale:Nd,isElement:js,isRTL:toe};function roe(t,e){let n=null,r;const i=ho(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=dv(d),_=dv(i.clientWidth-(c+f)),y=dv(i.clientHeight-(d+p)),v=dv(c),S={rootMargin:-g+"px "+-_+"px "+-y+"px "+-v+"px",threshold:Li(0,vl(1,l))||1};let E=!0;function T(C){const P=C[0].intersectionRatio;if(P!==l){if(!E)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(T,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,S)}n.observe(t)}return o(!0),s}function ioe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=AM(t),d=i||s?[...c?bp(c):[],...bp(e)]:[];d.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const f=c&&a?roe(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(m=>{let[S]=m;S&&S.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let _,y=l?Oc(t):null;l&&v();function v(){const m=Oc(t);y&&(m.x!==y.x||m.y!==y.y||m.width!==y.width||m.height!==y.height)&&n(),y=m,_=requestAnimationFrame(v)}return n(),()=>{var m;d.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),f==null||f(),(m=g)==null||m.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const soe=Use,ooe=Fse,aoe=Ise,loe=Bse,coe=Ose,vL=Dse,uoe=jse,doe=(t,e,n)=>{const r=new Map,i={platform:noe,...n},s={...i.platform,_c:r};return Lse(t,e,{...i,platform:s})};var Kv=typeof document<"u"?w.useLayoutEffect:w.useEffect;function H0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!H0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!H0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function XF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function yL(t,e){const n=XF(t);return Math.round(e*n)/n}function lS(t){const e=w.useRef(t);return Kv(()=>{e.current=t}),e}function foe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=w.useState(r);H0(p,r)||g(r);const[_,y]=w.useState(null),[v,m]=w.useState(null),S=w.useCallback(B=>{B!==P.current&&(P.current=B,y(B))},[]),E=w.useCallback(B=>{B!==R.current&&(R.current=B,m(B))},[]),T=s||_,C=o||v,P=w.useRef(null),R=w.useRef(null),A=w.useRef(d),L=l!=null,N=lS(l),I=lS(i),V=lS(c),W=w.useCallback(()=>{if(!P.current||!R.current)return;const B={placement:e,strategy:n,middleware:p};I.current&&(B.platform=I.current),doe(P.current,R.current,B).then(J=>{const ue={...J,isPositioned:V.current!==!1};z.current&&!H0(A.current,ue)&&(A.current=ue,fs.flushSync(()=>{f(ue)}))})},[p,e,n,I,V]);Kv(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[c]);const z=w.useRef(!1);Kv(()=>(z.current=!0,()=>{z.current=!1}),[]),Kv(()=>{if(T&&(P.current=T),C&&(R.current=C),T&&C){if(N.current)return N.current(T,C,W);W()}},[T,C,W,N,L]);const Q=w.useMemo(()=>({reference:P,floating:R,setReference:S,setFloating:E}),[S,E]),q=w.useMemo(()=>({reference:T,floating:C}),[T,C]),se=w.useMemo(()=>{const B={position:n,left:0,top:0};if(!q.floating)return B;const J=yL(q.floating,d.x),ue=yL(q.floating,d.y);return a?{...B,transform:"translate("+J+"px, "+ue+"px)",...XF(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:ue}},[n,a,q.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:W,refs:Q,elements:q,floatingStyles:se}),[d,W,Q,q,se])}const hoe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?vL({element:r.current,padding:i}).fn(n):{}:r?vL({element:r,padding:i}).fn(n):{}}}},poe=(t,e)=>({...soe(t),options:[t,e]}),moe=(t,e)=>({...ooe(t),options:[t,e]}),goe=(t,e)=>({...uoe(t),options:[t,e]}),voe=(t,e)=>({...aoe(t),options:[t,e]}),yoe=(t,e)=>({...loe(t),options:[t,e]}),xoe=(t,e)=>({...coe(t),options:[t,e]}),_oe=(t,e)=>({...hoe(t),options:[t,e]});var woe="Arrow",KF=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return x.jsx(At.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});KF.displayName=woe;var Soe=KF;function qF(t){const[e,n]=w.useState(void 0);return lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var RM="Popper",[YF,qy]=fo(RM),[boe,ZF]=YF(RM),JF=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return x.jsx(boe,{scope:e,anchor:r,onAnchorChange:i,children:n})};JF.displayName=RM;var QF="PopperAnchor",e4=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=ZF(QF,n),o=w.useRef(null),a=tn(e,o);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:x.jsx(At.div,{...i,ref:a})});e4.displayName=QF;var PM="PopperContent",[Eoe,Toe]=YF(PM),t4=w.forwardRef((t,e)=>{var re,we,Be,ke,$e,j;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:_,...y}=t,v=ZF(PM,n),[m,S]=w.useState(null),E=tn(e,tt=>S(tt)),[T,C]=w.useState(null),P=qF(T),R=(P==null?void 0:P.width)??0,A=(P==null?void 0:P.height)??0,L=r+(s!=="center"?"-"+s:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],V=I.length>0,W={padding:N,boundary:I.filter(Coe),altBoundary:V},{refs:z,floatingStyles:Q,placement:q,isPositioned:se,middlewareData:B}=foe({strategy:"fixed",placement:L,whileElementsMounted:(...tt)=>ioe(...tt,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[poe({mainAxis:i+A,alignmentAxis:o}),l&&moe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?goe():void 0,...W}),l&&voe({...W}),yoe({...W,apply:({elements:tt,rects:je,availableWidth:st,availableHeight:Ke})=>{const{width:_t,height:nt}=je.reference,ot=tt.floating.style;ot.setProperty("--radix-popper-available-width",`${st}px`),ot.setProperty("--radix-popper-available-height",`${Ke}px`),ot.setProperty("--radix-popper-anchor-width",`${_t}px`),ot.setProperty("--radix-popper-anchor-height",`${nt}px`)}}),T&&_oe({element:T,padding:a}),Aoe({arrowWidth:R,arrowHeight:A}),p&&xoe({strategy:"referenceHidden",...W})]}),[J,ue]=i4(q),ge=pi(_);lr(()=>{se&&(ge==null||ge())},[se,ge]);const oe=(re=B.arrow)==null?void 0:re.x,Re=(we=B.arrow)==null?void 0:we.y,X=((Be=B.arrow)==null?void 0:Be.centerOffset)!==0,[ce,me]=w.useState();return lr(()=>{m&&me(window.getComputedStyle(m).zIndex)},[m]),x.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:se?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(ke=B.transformOrigin)==null?void 0:ke.x,($e=B.transformOrigin)==null?void 0:$e.y].join(" "),...((j=B.hide)==null?void 0:j.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(Eoe,{scope:n,placedSide:J,onArrowChange:C,arrowX:oe,arrowY:Re,shouldHideArrow:X,children:x.jsx(At.div,{"data-side":J,"data-align":ue,...y,ref:E,style:{...y.style,animation:se?void 0:"none"}})})})});t4.displayName=PM;var n4="PopperArrow",Moe={top:"bottom",right:"left",bottom:"top",left:"right"},r4=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Toe(n4,r),o=Moe[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(Soe,{...i,ref:n,style:{...i.style,display:"block"}})})});r4.displayName=n4;function Coe(t){return t!==null}var Aoe=t=>({name:"transformOrigin",options:t,fn(e){var v,m,S;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=i4(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((m=i.arrow)==null?void 0:m.x)??0)+a/2,g=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let _="",y="";return c==="bottom"?(_=o?f:`${p}px`,y=`${-l}px`):c==="top"?(_=o?f:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(_=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:_,y}}}});function i4(t){const[e,n="center"]=t.split("-");return[e,n]}var Roe=JF,s4=e4,o4=t4,a4=r4;function l4(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Poe="VisuallyHidden",pm=w.forwardRef((t,e)=>x.jsx(At.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));pm.displayName=Poe;var Noe=pm,Loe=[" ","Enter","ArrowUp","ArrowDown"],Doe=[" ","Enter"],mm="Select",[Yy,Zy,Ioe]=Hy(mm),[Sf,USe]=fo(mm,[Ioe,qy]),Jy=qy(),[Ooe,Pl]=Sf(mm),[koe,Uoe]=Sf(mm),c4=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g}=t,_=Jy(e),[y,v]=w.useState(null),[m,S]=w.useState(null),[E,T]=w.useState(!1),C=Gy(c),[P=!1,R]=us({prop:r,defaultProp:i,onChange:s}),[A,L]=us({prop:o,defaultProp:a,onChange:l}),N=w.useRef(null),I=y?!!y.closest("form"):!0,[V,W]=w.useState(new Set),z=Array.from(V).map(Q=>Q.props.value).join(";");return x.jsx(Roe,{..._,children:x.jsxs(Ooe,{required:g,scope:e,trigger:y,onTriggerChange:v,valueNode:m,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Ho(),value:A,onValueChange:L,open:P,onOpenChange:R,dir:C,triggerPointerDownPosRef:N,disabled:p,children:[x.jsx(Yy.Provider,{scope:e,children:x.jsx(koe,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(Q=>{W(q=>new Set(q).add(Q))},[]),onNativeOptionRemove:w.useCallback(Q=>{W(q=>{const se=new Set(q);return se.delete(Q),se})},[]),children:n})}),I?x.jsxs(I4,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:Q=>L(Q.target.value),disabled:p,children:[A===void 0?x.jsx("option",{value:""}):null,Array.from(V)]},z):null]})})};c4.displayName=mm;var u4="SelectTrigger",d4=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Jy(n),o=Pl(u4,n),a=o.disabled||r,l=tn(e,o.onTriggerChange),c=Zy(n),[d,f,p]=O4(_=>{const y=c().filter(S=>!S.disabled),v=y.find(S=>S.value===o.value),m=k4(y,_,v);m!==void 0&&o.onValueChange(m.value)}),g=()=>{a||(o.onOpenChange(!0),p())};return x.jsx(s4,{asChild:!0,...s,children:x.jsx(At.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D4(o.value)?"":void 0,...i,ref:l,onClick:bt(i.onClick,_=>{_.currentTarget.focus()}),onPointerDown:bt(i.onPointerDown,_=>{const y=_.target;y.hasPointerCapture(_.pointerId)&&y.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)},_.preventDefault())}),onKeyDown:bt(i.onKeyDown,_=>{const y=d.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&f(_.key),!(y&&_.key===" ")&&Loe.includes(_.key)&&(g(),_.preventDefault())})})})});d4.displayName=u4;var f4="SelectValue",h4=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Pl(f4,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=tn(e,l.onValueNodeChange);return lr(()=>{c(d)},[c,d]),x.jsx(At.span,{...a,ref:f,style:{pointerEvents:"none"},children:D4(l.value)?x.jsx(x.Fragment,{children:o}):s})});h4.displayName=f4;var Foe="SelectIcon",p4=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return x.jsx(At.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});p4.displayName=Foe;var joe="SelectPortal",m4=t=>x.jsx(jy,{asChild:!0,...t});m4.displayName=joe;var kc="SelectContent",g4=w.forwardRef((t,e)=>{const n=Pl(kc,t.__scopeSelect),[r,i]=w.useState();if(lr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?fs.createPortal(x.jsx(v4,{scope:t.__scopeSelect,children:x.jsx(Yy.Slot,{scope:t.__scopeSelect,children:x.jsx("div",{children:t.children})})}),s):null}return x.jsx(y4,{...t,ref:e})});g4.displayName=kc;var Io=10,[v4,Nl]=Sf(kc),Boe="SelectContentImpl",y4=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:v,...m}=t,S=Pl(kc,n),[E,T]=w.useState(null),[C,P]=w.useState(null),R=tn(e,re=>T(re)),[A,L]=w.useState(null),[N,I]=w.useState(null),V=Zy(n),[W,z]=w.useState(!1),Q=w.useRef(!1);w.useEffect(()=>{if(E)return uM(E)},[E]),XU();const q=w.useCallback(re=>{const[we,...Be]=V().map(j=>j.ref.current),[ke]=Be.slice(-1),$e=document.activeElement;for(const j of re)if(j===$e||(j==null||j.scrollIntoView({block:"nearest"}),j===we&&C&&(C.scrollTop=0),j===ke&&C&&(C.scrollTop=C.scrollHeight),j==null||j.focus(),document.activeElement!==$e))return},[V,C]),se=w.useCallback(()=>q([A,E]),[q,A,E]);w.useEffect(()=>{W&&se()},[W,se]);const{onOpenChange:B,triggerPointerDownPosRef:J}=S;w.useEffect(()=>{if(E){let re={x:0,y:0};const we=ke=>{var $e,j;re={x:Math.abs(Math.round(ke.pageX)-((($e=J.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((j=J.current)==null?void 0:j.y)??0))}},Be=ke=>{re.x<=10&&re.y<=10?ke.preventDefault():E.contains(ke.target)||B(!1),document.removeEventListener("pointermove",we),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Be,{capture:!0})}}},[E,B,J]),w.useEffect(()=>{const re=()=>B(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[B]);const[ue,ge]=O4(re=>{const we=V().filter($e=>!$e.disabled),Be=we.find($e=>$e.ref.current===document.activeElement),ke=k4(we,re,Be);ke&&setTimeout(()=>ke.ref.current.focus())}),oe=w.useCallback((re,we,Be)=>{const ke=!Q.current&&!Be;(S.value!==void 0&&S.value===we||ke)&&(L(re),ke&&(Q.current=!0))},[S.value]),Re=w.useCallback(()=>E==null?void 0:E.focus(),[E]),X=w.useCallback((re,we,Be)=>{const ke=!Q.current&&!Be;(S.value!==void 0&&S.value===we||ke)&&I(re)},[S.value]),ce=r==="popper"?Ub:x4,me=ce===Ub?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:_,hideWhenDetached:y,avoidCollisions:v}:{};return x.jsx(v4,{scope:n,content:E,viewport:C,onViewportChange:P,itemRefCallback:oe,selectedItem:A,onItemLeave:Re,itemTextRefCallback:X,focusSelectedItem:se,selectedItemText:N,position:r,isPositioned:W,searchRef:ue,children:x.jsx(cM,{as:pl,allowPinchZoom:!0,children:x.jsx(oM,{asChild:!0,trapped:S.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:bt(i,re=>{var we;(we=S.trigger)==null||we.focus({preventScroll:!0}),re.preventDefault()}),children:x.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:x.jsx(ce,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:re=>re.preventDefault(),...m,...me,onPlaced:()=>z(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:bt(m.onKeyDown,re=>{const we=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!we&&re.key.length===1&&ge(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ke=V().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const $e=re.target,j=ke.indexOf($e);ke=ke.slice(j+1)}setTimeout(()=>q(ke)),re.preventDefault()}})})})})})})});y4.displayName=Boe;var zoe="SelectItemAlignedPosition",x4=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Pl(kc,n),o=Nl(kc,n),[a,l]=w.useState(null),[c,d]=w.useState(null),f=tn(e,R=>d(R)),p=Zy(n),g=w.useRef(!1),_=w.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:m,focusSelectedItem:S}=o,E=w.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&v&&m){const R=s.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),N=m.getBoundingClientRect();if(s.dir!=="rtl"){const $e=N.left-A.left,j=L.left-$e,tt=R.left-j,je=R.width+tt,st=Math.max(je,A.width),Ke=window.innerWidth-Io,_t=uL(j,[Io,Ke-st]);a.style.minWidth=je+"px",a.style.left=_t+"px"}else{const $e=A.right-N.right,j=window.innerWidth-L.right-$e,tt=window.innerWidth-R.right-j,je=R.width+tt,st=Math.max(je,A.width),Ke=window.innerWidth-Io,_t=uL(j,[Io,Ke-st]);a.style.minWidth=je+"px",a.style.right=_t+"px"}const I=p(),V=window.innerHeight-Io*2,W=y.scrollHeight,z=window.getComputedStyle(c),Q=parseInt(z.borderTopWidth,10),q=parseInt(z.paddingTop,10),se=parseInt(z.borderBottomWidth,10),B=parseInt(z.paddingBottom,10),J=Q+q+W+B+se,ue=Math.min(v.offsetHeight*5,J),ge=window.getComputedStyle(y),oe=parseInt(ge.paddingTop,10),Re=parseInt(ge.paddingBottom,10),X=R.top+R.height/2-Io,ce=V-X,me=v.offsetHeight/2,re=v.offsetTop+me,we=Q+q+re,Be=J-we;if(we<=X){const $e=v===I[I.length-1].ref.current;a.style.bottom="0px";const j=c.clientHeight-y.offsetTop-y.offsetHeight,tt=Math.max(ce,me+($e?Re:0)+j+se),je=we+tt;a.style.height=je+"px"}else{const $e=v===I[0].ref.current;a.style.top="0px";const tt=Math.max(X,Q+y.offsetTop+($e?oe:0)+me)+Be;a.style.height=tt+"px",y.scrollTop=we-X+y.offsetTop}a.style.margin=`${Io}px 0`,a.style.minHeight=ue+"px",a.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,s.trigger,s.valueNode,a,c,y,v,m,s.dir,r]);lr(()=>E(),[E]);const[T,C]=w.useState();lr(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const P=w.useCallback(R=>{R&&_.current===!0&&(E(),S==null||S(),_.current=!1)},[E,S]);return x.jsx($oe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:x.jsx(At.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});x4.displayName=zoe;var Voe="SelectPopperPosition",Ub=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Io,...s}=t,o=Jy(n);return x.jsx(o4,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ub.displayName=Voe;var[$oe,NM]=Sf(kc,{}),Fb="SelectViewport",_4=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Nl(Fb,n),o=NM(Fb,n),a=tn(e,s.onViewportChange),l=w.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(Yy.Slot,{scope:n,children:x.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"auto",...i.style},onScroll:bt(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const _=window.innerHeight-Io*2,y=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),m=Math.max(y,v);if(m<_){const S=m+g,E=Math.min(_,S),T=S-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});_4.displayName=Fb;var w4="SelectGroup",[Hoe,Goe]=Sf(w4),Woe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ho();return x.jsx(Hoe,{scope:n,id:i,children:x.jsx(At.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Woe.displayName=w4;var S4="SelectLabel",b4=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Goe(S4,n);return x.jsx(At.div,{id:i.id,...r,ref:e})});b4.displayName=S4;var G0="SelectItem",[Xoe,E4]=Sf(G0),T4=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Pl(G0,n),l=Nl(G0,n),c=a.value===r,[d,f]=w.useState(s??""),[p,g]=w.useState(!1),_=tn(e,m=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,m,r,i)}),y=Ho(),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Xoe,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:w.useCallback(m=>{f(S=>S||((m==null?void 0:m.textContent)??"").trim())},[]),children:x.jsx(Yy.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:x.jsx(At.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:bt(o.onFocus,()=>g(!0)),onBlur:bt(o.onBlur,()=>g(!1)),onPointerUp:bt(o.onPointerUp,v),onPointerMove:bt(o.onPointerMove,m=>{var S;i?(S=l.onItemLeave)==null||S.call(l):m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bt(o.onPointerLeave,m=>{var S;m.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:bt(o.onKeyDown,m=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&m.key===" "||(Doe.includes(m.key)&&v(),m.key===" "&&m.preventDefault())})})})})});T4.displayName=G0;var Eh="SelectItemText",M4=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Pl(Eh,n),a=Nl(Eh,n),l=E4(Eh,n),c=Uoe(Eh,n),[d,f]=w.useState(null),p=tn(e,m=>f(m),l.onItemTextChange,m=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,m,l.value,l.disabled)}),g=d==null?void 0:d.textContent,_=w.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=c;return lr(()=>(y(_),()=>v(_)),[y,v,_]),x.jsxs(x.Fragment,{children:[x.jsx(At.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fs.createPortal(s.children,o.valueNode):null]})});M4.displayName=Eh;var C4="SelectItemIndicator",A4=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E4(C4,n).isSelected?x.jsx(At.span,{"aria-hidden":!0,...r,ref:e}):null});A4.displayName=C4;var jb="SelectScrollUpButton",R4=w.forwardRef((t,e)=>{const n=Nl(jb,t.__scopeSelect),r=NM(jb,t.__scopeSelect),[i,s]=w.useState(!1),o=tn(e,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?x.jsx(N4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});R4.displayName=jb;var Bb="SelectScrollDownButton",P4=w.forwardRef((t,e)=>{const n=Nl(Bb,t.__scopeSelect),r=NM(Bb,t.__scopeSelect),[i,s]=w.useState(!1),o=tn(e,r.onScrollButtonChange);return lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?x.jsx(N4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});P4.displayName=Bb;var N4=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Nl("SelectScrollButton",n),o=w.useRef(null),a=Zy(n),l=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),lr(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),x.jsx(At.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:bt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:bt(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:bt(i.onPointerLeave,()=>{l()})})}),Koe="SelectSeparator",L4=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return x.jsx(At.div,{"aria-hidden":!0,...r,ref:e})});L4.displayName=Koe;var zb="SelectArrow",qoe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jy(n),s=Pl(zb,n),o=Nl(zb,n);return s.open&&o.position==="popper"?x.jsx(a4,{...i,...r,ref:e}):null});qoe.displayName=zb;function D4(t){return t===""||t===void 0}var I4=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=w.useRef(null),s=tn(e,i),o=l4(n);return w.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),x.jsx(pm,{asChild:!0,children:x.jsx("select",{...r,ref:s,defaultValue:n})})});I4.displayName="BubbleSelect";function O4(t){const e=pi(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function k4(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Yoe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Yoe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Zoe=c4,U4=d4,Joe=h4,Qoe=p4,eae=m4,F4=g4,tae=_4,j4=b4,B4=T4,nae=M4,rae=A4,z4=R4,V4=P4,Go=L4;const W0=Zoe,X0=Joe,Ep=w.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(U4,{ref:r,className:Ae("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,x.jsx(Qoe,{asChild:!0,children:x.jsx(hse,{className:"h-4 w-4 opacity-50"})})]}));Ep.displayName=U4.displayName;const $4=w.forwardRef(({className:t,...e},n)=>x.jsx(z4,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(xse,{})}));$4.displayName=z4.displayName;const H4=w.forwardRef(({className:t,...e},n)=>x.jsx(V4,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:x.jsx(FF,{})}));H4.displayName=V4.displayName;const Tp=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>x.jsx(eae,{children:x.jsxs(F4,{ref:i,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[x.jsx($4,{}),x.jsx(tae,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),x.jsx(H4,{})]})}));Tp.displayName=F4.displayName;const iae=w.forwardRef(({className:t,...e},n)=>x.jsx(j4,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",t),...e}));iae.displayName=j4.displayName;const Mp=w.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(B4,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(rae,{children:x.jsx(UF,{className:"h-4 w-4"})})}),x.jsx(nae,{children:e})]}));Mp.displayName=B4.displayName;const sae=w.forwardRef(({className:t,...e},n)=>x.jsx(Go,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));sae.displayName=Go.displayName;const oae="modulepreload",aae=function(t){return"/"+t},xL={},tf=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=aae(a),a in xL)return;xL[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":oae,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},lae=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tf(()=>Promise.resolve().then(()=>bf),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class LM extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class cae extends LM{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uae extends LM{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dae extends LM{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Vb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Vb||(Vb={}));var fae=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class hae{constructor(e,{headers:n={},customFetch:r,region:i=Vb.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=lae(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return fae(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(_=>{throw new cae(_)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new uae(d);if(!d.ok)throw new dae(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var ns={},DM={},Qy={},gm={},ex={},tx={},pae=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nf=pae();const mae=nf.fetch,G4=nf.fetch.bind(nf),W4=nf.Headers,gae=nf.Request,vae=nf.Response,bf=Object.freeze(Object.defineProperty({__proto__:null,Headers:W4,Request:gae,Response:vae,default:G4,fetch:mae},Symbol.toStringTag,{value:"Module"})),yae=BW(bf);var IM={};Object.defineProperty(IM,"__esModule",{value:!0});class xae extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}IM.default=xae;var X4=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tx,"__esModule",{value:!0});const _ae=X4(yae),wae=X4(IM);let Sae=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_ae.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,d=null,f=null,p=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const m=await s.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await s.text();try{c=JSON.parse(y),Array.isArray(c)&&s.status===404&&(d=[],c=null,p=200,g="OK")}catch{s.status===404&&y===""?(p=204,g="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&this.shouldThrowOnError)throw new wae.default(c)}return{error:c,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};tx.default=Sae;var bae=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ex,"__esModule",{value:!0});const Eae=bae(tx);let Tae=class extends Eae.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ex.default=Tae;var Mae=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gm,"__esModule",{value:!0});const Cae=Mae(ex);let Aae=class extends Cae.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};gm.default=Aae;var Rae=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qy,"__esModule",{value:!0});const oh=Rae(gm);let Pae=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new oh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new oh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new oh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new oh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new oh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Qy.default=Pae;var nx={},rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.version=void 0;rx.version="0.0.0-automated";Object.defineProperty(nx,"__esModule",{value:!0});nx.DEFAULT_HEADERS=void 0;const Nae=rx;nx.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Nae.version}`};var K4=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(DM,"__esModule",{value:!0});const Lae=K4(Qy),Dae=K4(gm),Iae=nx;let Oae=class q4{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Iae.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Lae.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new q4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Dae.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};DM.default=Oae;var vm=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.PostgrestBuilder=ns.PostgrestTransformBuilder=ns.PostgrestFilterBuilder=ns.PostgrestQueryBuilder=ns.PostgrestClient=void 0;const Y4=vm(DM);ns.PostgrestClient=Y4.default;const Z4=vm(Qy);ns.PostgrestQueryBuilder=Z4.default;const J4=vm(gm);ns.PostgrestFilterBuilder=J4.default;const Q4=vm(ex);ns.PostgrestTransformBuilder=Q4.default;const ej=vm(tx);ns.PostgrestBuilder=ej.default;var kae=ns.default={PostgrestClient:Y4.default,PostgrestQueryBuilder:Z4.default,PostgrestFilterBuilder:J4.default,PostgrestTransformBuilder:Q4.default,PostgrestBuilder:ej.default};const{PostgrestClient:Uae,PostgrestQueryBuilder:VSe,PostgrestFilterBuilder:$Se,PostgrestTransformBuilder:HSe,PostgrestBuilder:GSe}=kae,Fae="2.10.2",jae={"X-Client-Info":`realtime-js/${Fae}`},Bae="1.0.0",tj=1e4,zae=1e3;var Ld;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ld||(Ld={}));var Ci;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ci||(Ci={}));var As;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(As||(As={}));var $b;(function(t){t.websocket="websocket"})($b||($b={}));var cc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cc||(cc={}));class Vae{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class nj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xn||(xn={}));const _L=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=$ae(o,t,e,i),s),{})},$ae=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?rj(s,o):Hb(o)},rj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Xae(e,n)}switch(t){case xn.bool:return Hae(e);case xn.float4:case xn.float8:case xn.int2:case xn.int4:case xn.int8:case xn.numeric:case xn.oid:return Gae(e);case xn.json:case xn.jsonb:return Wae(e);case xn.timestamp:return Kae(e);case xn.abstime:case xn.date:case xn.daterange:case xn.int4range:case xn.int8range:case xn.money:case xn.reltime:case xn.text:case xn.time:case xn.timestamptz:case xn.timetz:case xn.tsrange:case xn.tstzrange:return Hb(e);default:return Hb(e)}},Hb=t=>t,Hae=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gae=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wae=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Xae=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>rj(e,a))}return t},Kae=t=>typeof t=="string"?t.replace(" ","T"):t,ij=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cS{constructor(e,n,r={},i=tj){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wL;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wL||(wL={}));class Gh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Gh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=s[c];if(f){const p=d.map(v=>v.presence_ref),g=f.map(v=>v.presence_ref),_=d.filter(v=>g.indexOf(v.presence_ref)<0),y=f.filter(v=>p.indexOf(v.presence_ref)<0);_.length>0&&(a[c]=_),y.length>0&&(l[c]=y)}else a[c]=d}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SL;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(SL||(SL={}));var bL;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(bL||(bL={}));var EL;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(EL||(EL={}));class OM{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ci.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cS(this,As.join,this.params,this.timeout),this.rejoinTimer=new nj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ci.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ci.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ci.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ci.errored,this.rejoinTimer.scheduleTimeout())}),this._on(As.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Gh(this),this.broadcastEndpointURL=ij(this.socket.endPoint)+"/api/broadcast"}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(d=>e&&e("CHANNEL_ERROR",d)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:d})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,_=[];for(let y=0;y<g;y++){const v=p[y],{filter:{event:m,schema:S,table:E,filter:T}}=v,C=d&&d[y];if(C&&C.event===m&&C.schema===S&&C.table===E&&C.filter===T)_.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e("SUBSCRIBED");return}}).receive("error",d=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ci.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(As.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new cS(this,As.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cS(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=As;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var _,y,v;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((v=(y=g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var _,y,v,m,S,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,C=(_=g.filter)===null||_===void 0?void 0:_.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const T=(S=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:y,table:v,commit_timestamp:m,type:S,errors:E}=_;p=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:m,eventType:S,new:{},old:{},errors:E}),this._getPayloadRecords(_))}g.callback(p,r)})}_isClosed(){return this.state===Ci.closed}_isJoined(){return this.state===Ci.joined}_isJoining(){return this.state===Ci.joining}_isLeaving(){return this.state===Ci.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&OM.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(As.close,{},e)}_onError(e){this._on(As.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ci.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_L(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_L(e.columns,e.old_record)),n}}const qae=()=>{},Yae=typeof WebSocket<"u";class Zae{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jae,this.params={},this.timeout=tj,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=qae,this.conn=null,this.sendBuffer=[],this.serializer=new Vae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>tf(()=>Promise.resolve().then(()=>bf),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${$b.websocket}`,this.httpEndpoint=ij(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Yae){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Jae(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),tf(()=>import("./browser-opph-qER.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ld.connecting:return cc.Connecting;case Ld.open:return cc.Open;case Ld.closing:return cc.Closing;default:return cc.Closed}}isConnected(){return this.connectionState()===cc.Open}channel(e,n={config:{}}){const r=new OM(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(As.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bae}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(As.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(zae,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Jae{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ld.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class kM extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qae extends kM{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gb extends kM{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ele=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const sj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tf(()=>Promise.resolve().then(()=>bf),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tle=()=>ele(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tf(()=>Promise.resolve().then(()=>bf),void 0)).Response:Response}),Wb=t=>{if(Array.isArray(t))return t.map(n=>Wb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Wb(r)}),e};var Xc=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const uS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nle=(t,e,n)=>Xc(void 0,void 0,void 0,function*(){const r=yield tle();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Qae(uS(i),t.status||500))}).catch(i=>{e(new Gb(uS(i),i))}):e(new Gb(uS(t),t))}),rle=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function ym(t,e,n,r,i,s){return Xc(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,rle(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nle(l,a,r))})})}function K0(t,e,n,r){return Xc(this,void 0,void 0,function*(){return ym(t,"GET",e,n,r)})}function ja(t,e,n,r,i){return Xc(this,void 0,void 0,function*(){return ym(t,"POST",e,r,i,n)})}function ile(t,e,n,r,i){return Xc(this,void 0,void 0,function*(){return ym(t,"PUT",e,r,i,n)})}function sle(t,e,n,r){return Xc(this,void 0,void 0,function*(){return ym(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function oj(t,e,n,r,i){return Xc(this,void 0,void 0,function*(){return ym(t,"DELETE",e,r,i,n)})}var si=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ole={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},TL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ale{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=sj(i)}uploadOrUpdate(e,n,r,i){return si(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},TL),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r),l&&s.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(dr(s))return{data:null,error:s};throw s}})}upload(e,n,r){return si(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return si(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:TL.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(dr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return si(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ja(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new kM("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}update(e,n,r){return si(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return si(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return si(this,void 0,void 0,function*(){try{return{data:{path:(yield ja(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return si(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ja(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return si(this,void 0,void 0,function*(){try{const i=yield ja(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}download(e,n){return si(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield K0(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(dr(a))return{data:null,error:a};throw a}})}info(e){return si(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield K0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wb(r),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}exists(e){return si(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield sle(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dr(r)&&r instanceof Gb){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return si(this,void 0,void 0,function*(){try{return{data:yield oj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}list(e,n,r){return si(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ole),n),{prefix:e||""});return{data:yield ja(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lle="2.7.0",cle={"X-Client-Info":`storage-js/${lle}`};var Uu=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ule{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},cle),n),this.fetch=sj(r)}listBuckets(){return Uu(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(dr(e))return{data:null,error:e};throw e}})}getBucket(e){return Uu(this,void 0,void 0,function*(){try{return{data:yield K0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Uu(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Uu(this,void 0,void 0,function*(){try{return{data:yield ile(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Uu(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Uu(this,void 0,void 0,function*(){try{return{data:yield oj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}}class dle extends ule{constructor(e,n={},r){super(e,n,r)}from(e){return new ale(this.url,this.headers,e,this.fetch)}}const fle="2.45.4";let Th="";typeof Deno<"u"?Th="deno":typeof document<"u"?Th="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Th="react-native":Th="node";const hle={"X-Client-Info":`supabase-js-${Th}/${fle}`},ple={headers:hle},mle={schema:"public"},gle={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vle={};var yle=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const xle=t=>{let e;return t?e=t:typeof fetch>"u"?e=G4:e=fetch,(...n)=>e(...n)},_le=()=>typeof Headers>"u"?W4:Headers,wle=(t,e,n)=>{const r=xle(n),i=_le();return(s,o)=>yle(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var Sle=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function ble(t){return t.replace(/\/$/,"")}function Ele(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>Sle(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const aj="2.65.0",Tle="http://localhost:9999",Mle="supabase.auth.token",Cle={"X-Client-Info":`gotrue-js/${aj}`},ML=10,Xb="X-Supabase-Api-Version",lj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ale(t){return Math.round(Date.now()/1e3)+t}function Rle(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Es=()=>typeof document<"u",Jl={tested:!1,writable:!1},Wh=()=>{if(!Es())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jl.tested)return Jl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jl.tested=!0,Jl.writable=!0}catch{Jl.tested=!0,Jl.writable=!1}return Jl.writable};function dS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const cj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tf(()=>Promise.resolve().then(()=>bf),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ple=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uj=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},fv=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hv=async(t,e)=>{await t.removeItem(e)};function Nle(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),a=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}let dj=class fj{constructor(){this.promise=new fj.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};dj.promiseConstructor=Promise;function CL(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(Nle(r))}async function Lle(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Dle(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Ile(t){return("0"+t.toString(16)).substr(-2)}function Ole(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Ile).join("")}async function kle(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Ule(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fle(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kle(t);return Ule(n)}async function Fu(t,e,n=!1){const r=Ole();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await uj(t,`${e}-code-verifier`,i);const s=await Fle(r);return[s,r===s?"plain":"s256"]}const jle=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ble(t){const e=t.headers.get(Xb);if(!e||!e.match(jle))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class UM extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function zt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zle extends UM{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Vle(t){return zt(t)&&t.name==="AuthApiError"}class hj extends UM{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kc extends UM{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Na extends Kc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $le(t){return zt(t)&&t.name==="AuthSessionMissingError"}class fS extends Kc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pv extends Kc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class mv extends Kc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AL extends Kc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kb extends Kc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function hS(t){return zt(t)&&t.name==="AuthRetryableFetchError"}class RL extends Kc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Hle=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gle=[502,503,504];async function PL(t){var e;if(!Ple(t))throw new Kb(rc(t),0);if(Gle.includes(t.status))throw new Kb(rc(t),t.status);let n;try{n=await t.json()}catch(s){throw new hj(rc(s),s)}let r;const i=Ble(t);if(i&&i.getTime()>=lj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new RL(rc(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Na}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new RL(rc(n),t.status,n.weak_password.reasons);throw new zle(rc(n),t.status||500,r)}const Wle=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Yt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Xb]||(s[Xb]=lj["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Xle(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Xle(t,e,n,r,i,s){const o=Wle(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Kb(rc(l),0)}if(a.ok||await PL(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await PL(l)}}function La(t){var e;let n=null;Zle(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ale(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function NL(t){const e=La(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $a(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Kle(t){return{data:t,error:null}}function qle(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=Hle(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Yle(t){return t}function Zle(t){return t.access_token&&t.refresh_token&&t.expires_in}var Jle=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Qle{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=cj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$a})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Jle(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qle,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(zt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$a})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Yle});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const y=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(_.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(zt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$a})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$a})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$a})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(zt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}}const ece={getItem:t=>Wh()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Wh()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Wh()&&globalThis.localStorage.removeItem(t)}};function LL(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function tce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ju={debug:!!(globalThis&&Wh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nce extends pj{}async function rce(t,e,n){ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ju.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nce(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ju.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}tce();const ice={url:Tle,storageKey:Mle,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cle,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ah=30*1e3,DL=3;async function IL(t,e,n){return await n()}class Cp{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cp.nextInstanceID,Cp.nextInstanceID+=1,this.instanceID>0&&Es()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ice),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Qle({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cj(i.fetch),this.lock=i.lock||IL,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Es()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rce:this.lock=IL,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Wh()?this.storage=ece:(this.memoryStorage={},this.storage=LL(this.memoryStorage)):(this.memoryStorage={},this.storage=LL(this.memoryStorage)),Es()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Es()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return zt(e)?{error:e}:{error:new hj("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:La}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(zt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:f,options:p}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Fu(this.storage,this.storageKey)),s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:_},xform:La})}else if("phone"in e){const{phone:d,password:f,options:p}=e;s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:La})}else throw new pv("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(zt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:NL})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:NL})}else throw new pv("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fS}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(zt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await fv(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:La});if(await hv(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new fS}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(zt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:La}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fS}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(zt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Fu(this.storage,this.storageKey));const{error:f}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new pv("You must provide either an email or phone number.")}catch(a){if(zt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:La});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(zt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Fu(this.storage,this.storageKey)),await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Kle})}catch(s){if(zt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Na;const{error:i}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(zt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new pv("You must provide either an email or phone number and a type")}catch(n){if(zt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await fv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$a}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Na}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:$a})})}catch(n){if(zt(n))return $le(n)&&(await this._removeSession(),await hv(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Na;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Fu(this.storage,this.storageKey));const{data:c,error:d}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:$a});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(zt(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return CL(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Na;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=CL(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(zt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Na;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(zt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!Es())throw new mv("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new mv("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new AL("Not a valid PKCE flow url.");const n=dS(window.location.href);if(e){if(!n.code)throw new AL("No code detected.");const{data:S,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new mv(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!s||!a||!o||!c)throw new mv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const g=p-d;g*1e3<=ah&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const _=p-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,d);const{data:y,error:v}=await this._getUser(s);if(v)throw v;const m={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:n.type},error:null}}catch(n){if(zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=dS(window.location.href);return!!(Es()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=dS(window.location.href),n=await fv(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Vle(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await hv(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const n=Rle(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Fu(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(zt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,d;const{data:f,error:p}=s;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Es()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(zt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(zt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Dle(async i=>(i>0&&await Lle(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:La})),(i,s)=>{const o=200*Math.pow(2,i);return s&&hS(s)&&Date.now()+o-r<ah})}catch(r){if(this._debug(n,"error",r),zt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Es()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await fv(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+ML;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ML}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),hS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Na;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dj;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Na;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),zt(s)){const o={session:null,error:s};return hS(s)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await uj(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await hv(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Es()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ah);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ah);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ah}ms, refresh threshold is ${DL} ticks`),i<=DL&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Es()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Fu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(zt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(zt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(zt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(zt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Cp.nextInstanceID=0;const sce=Cp;class oce extends sce{constructor(e){super(e)}}var ace=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class lce{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ble(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:mle,realtime:vle,auth:Object.assign(Object.assign({},gle),{storageKey:l}),global:ple},d=Ele(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=wle(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new Uae(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new hae(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dle(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ace(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,d){var f;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oce({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new Zae(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cce=(t,e,n)=>new lce(t,e,n),uce="https://vqpthivoajnhajsgufcf.supabase.co",dce="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxcHRoaXZvYWpuaGFqc2d1ZmNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjYyNjI3NzUsImV4cCI6MjA0MTgzODc3NX0.rEOO-N5ZLDRQtORIorAUrorpPi9dhiQzl5hZUoK0UzE",rn=cce(uce,dce);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nn(){return Nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nn.apply(this,arguments)}var Yn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yn||(Yn={}));const OL="popstate";function fce(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ap("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uc(i)}return pce(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hce(){return Math.random().toString(36).substr(2,8)}function kL(t,e){return{usr:t.state,key:t.key,idx:e}}function Ap(t,e,n,r){return n===void 0&&(n=null),Nn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ll(e):e,{state:n,key:e&&e.key||r||hce()})}function Uc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pce(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Yn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Nn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Yn.Pop;let v=d(),m=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:m})}function p(v,m){a=Yn.Push;let S=Ap(y.location,v,m);c=d()+1;let E=kL(S,c),T=y.createHref(S);try{o.pushState(E,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}s&&l&&l({action:a,location:y.location,delta:1})}function g(v,m){a=Yn.Replace;let S=Ap(y.location,v,m);c=d();let E=kL(S,c),T=y.createHref(S);o.replaceState(E,"",T),s&&l&&l({action:a,location:y.location,delta:0})}function _(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof v=="string"?v:Uc(v);return S=S.replace(/ $/,"%20"),Ht(m,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,m)}let y={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(OL,f),l=v,()=>{i.removeEventListener(OL,f),l=null}},createHref(v){return e(i,v)},createURL:_,encodeLocation(v){let m=_(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:g,go(v){return o.go(v)}};return y}var hn;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hn||(hn={}));const mce=new Set(["lazy","caseSensitive","path","id","index","children"]);function gce(t){return t.index===!0}function Rp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ht(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ht(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),gce(i)){let l=Nn({},i,e(i),{id:a});return r[a]=l,l}else{let l=Nn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Rp(i.children,e,o,r)),l}})}function uc(t,e,n){return n===void 0&&(n="/"),qv(t,e,n,!1)}function qv(t,e,n,r){let i=typeof e=="string"?Ll(e):e,s=Ef(i.pathname||"/",n);if(s==null)return null;let o=mj(t);yce(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Rce(s);a=Cce(o[l],c,r)}return a}function vce(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function mj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wo([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mj(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Tce(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of gj(s.path))i(s,o,l)}),e}function gj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=gj(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yce(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mce(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xce=/^:[\w-]+$/,_ce=3,wce=2,Sce=1,bce=10,Ece=-2,UL=t=>t==="*";function Tce(t,e){let n=t.split("/"),r=n.length;return n.some(UL)&&(r+=Ece),e&&(r+=wce),n.filter(i=>!UL(i)).reduce((i,s)=>i+(xce.test(s)?_ce:s===""?Sce:bce),r)}function Mce(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Cce(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=FL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=FL({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Wo([s,f.pathname]),pathnameBase:Lce(Wo([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Wo([s,f.pathnameBase]))}return o}function FL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ace(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[f]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Ace(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Rce(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ef(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Pce(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:Nce(n,e):e,search:Dce(r),hash:Ice(i)}}function Nce(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function pS(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FM(t,e){let n=vj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ll(t):(i=Nn({},t),Ht(!i.pathname||!i.pathname.includes("?"),pS("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),pS("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),pS("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Pce(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Wo=t=>t.join("/").replace(/\/\/+/g,"/"),Lce=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ice=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class q0{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yj=["post","put","patch","delete"],Oce=new Set(yj),kce=["get",...yj],Uce=new Set(kce),Fce=new Set([301,302,303,307,308]),jce=new Set([307,308]),mS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bce={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zce=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),xj="remix-router-transitions";function Vce(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ht(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let K=t.detectErrorBoundary;i=ne=>({hasErrorBoundary:K(ne)})}else i=zce;let s={},o=Rp(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||Kce,d=t.unstable_patchRoutesOnNavigation,f=Nn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,g=new Set,_=1e3,y=new Set,v=null,m=null,S=null,E=t.hydrationData!=null,T=uc(o,t.history.location,l),C=null;if(T==null&&!d){let K=$r(404,{pathname:t.history.location.pathname}),{matches:ne,route:pe}=XL(o);T=ne,C={[pe.id]:K}}T&&!t.hydrationData&&po(T,o,t.history.location.pathname).active&&(T=null);let P;if(T)if(T.some(K=>K.route.lazy))P=!1;else if(!T.some(K=>K.route.loader))P=!0;else if(f.v7_partialHydration){let K=t.hydrationData?t.hydrationData.loaderData:null,ne=t.hydrationData?t.hydrationData.errors:null,pe=De=>De.route.loader?typeof De.route.loader=="function"&&De.route.loader.hydrate===!0?!1:K&&K[De.route.id]!==void 0||ne&&ne[De.route.id]!==void 0:!0;if(ne){let De=T.findIndex(it=>ne[it.route.id]!==void 0);P=T.slice(0,De+1).every(pe)}else P=T.every(pe)}else P=t.hydrationData!=null;else if(P=!1,T=[],f.v7_partialHydration){let K=po(null,o,t.history.location.pathname);K.active&&K.matches&&(T=K.matches)}let R,A={historyAction:t.history.action,location:t.history.location,matches:T,initialized:P,navigation:mS,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},L=Yn.Pop,N=!1,I,V=!1,W=new Map,z=null,Q=!1,q=!1,se=[],B=new Set,J=new Map,ue=0,ge=-1,oe=new Map,Re=new Set,X=new Map,ce=new Map,me=new Set,re=new Map,we=new Map,Be=new Map,ke;function $e(){if(p=t.history.listen(K=>{let{action:ne,location:pe,delta:De}=K;if(ke){ke(),ke=void 0;return}rf(we.size===0||De!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let it=Ve({currentLocation:A.location,nextLocation:pe,historyAction:ne});if(it&&De!=null){let mt=new Promise(Ct=>{ke=Ct});t.history.go(De*-1),Te(it,{state:"blocked",location:pe,proceed(){Te(it,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),mt.then(()=>t.history.go(De))},reset(){let Ct=new Map(A.blockers);Ct.set(it,lh),je({blockers:Ct})}});return}return nt(ne,pe)}),n){cue(e,W);let K=()=>uue(e,W);e.addEventListener("pagehide",K),z=()=>e.removeEventListener("pagehide",K)}return A.initialized||nt(Yn.Pop,A.location,{initialHydration:!0}),R}function j(){p&&p(),z&&z(),g.clear(),I&&I.abort(),A.fetchers.forEach((K,ne)=>Je(ne)),A.blockers.forEach((K,ne)=>Ee(ne))}function tt(K){return g.add(K),()=>g.delete(K)}function je(K,ne){ne===void 0&&(ne={}),A=Nn({},A,K);let pe=[],De=[];f.v7_fetcherPersist&&A.fetchers.forEach((it,mt)=>{it.state==="idle"&&(me.has(mt)?De.push(mt):pe.push(mt))}),[...g].forEach(it=>it(A,{deletedFetchers:De,unstable_viewTransitionOpts:ne.viewTransitionOpts,unstable_flushSync:ne.flushSync===!0})),f.v7_fetcherPersist&&(pe.forEach(it=>A.fetchers.delete(it)),De.forEach(it=>Je(it)))}function st(K,ne,pe){var De,it;let{flushSync:mt}=pe===void 0?{}:pe,Ct=A.actionData!=null&&A.navigation.formMethod!=null&&Rs(A.navigation.formMethod)&&A.navigation.state==="loading"&&((De=K.state)==null?void 0:De._isRedirect)!==!0,Ye;ne.actionData?Object.keys(ne.actionData).length>0?Ye=ne.actionData:Ye=null:Ct?Ye=A.actionData:Ye=null;let O=ne.loaderData?GL(A.loaderData,ne.loaderData,ne.matches||[],ne.errors):A.loaderData,G=A.blockers;G.size>0&&(G=new Map(G),G.forEach((te,Le)=>G.set(Le,lh)));let Z=N===!0||A.navigation.formMethod!=null&&Rs(A.navigation.formMethod)&&((it=K.state)==null?void 0:it._isRedirect)!==!0;a&&(o=a,a=void 0),Q||L===Yn.Pop||(L===Yn.Push?t.history.push(K,K.state):L===Yn.Replace&&t.history.replace(K,K.state));let ae;if(L===Yn.Pop){let te=W.get(A.location.pathname);te&&te.has(K.pathname)?ae={currentLocation:A.location,nextLocation:K}:W.has(K.pathname)&&(ae={currentLocation:K,nextLocation:A.location})}else if(V){let te=W.get(A.location.pathname);te?te.add(K.pathname):(te=new Set([K.pathname]),W.set(A.location.pathname,te)),ae={currentLocation:A.location,nextLocation:K}}je(Nn({},ne,{actionData:Ye,loaderData:O,historyAction:L,location:K,initialized:!0,navigation:mS,revalidation:"idle",restoreScrollPosition:Ur(K,ne.matches||A.matches),preventScrollReset:Z,blockers:G}),{viewTransitionOpts:ae,flushSync:mt===!0}),L=Yn.Pop,N=!1,V=!1,Q=!1,q=!1,se=[]}async function Ke(K,ne){if(typeof K=="number"){t.history.go(K);return}let pe=qb(A.location,A.matches,l,f.v7_prependBasename,K,f.v7_relativeSplatPath,ne==null?void 0:ne.fromRouteId,ne==null?void 0:ne.relative),{path:De,submission:it,error:mt}=jL(f.v7_normalizeFormMethod,!1,pe,ne),Ct=A.location,Ye=Ap(A.location,De,ne&&ne.state);Ye=Nn({},Ye,t.history.encodeLocation(Ye));let O=ne&&ne.replace!=null?ne.replace:void 0,G=Yn.Push;O===!0?G=Yn.Replace:O===!1||it!=null&&Rs(it.formMethod)&&it.formAction===A.location.pathname+A.location.search&&(G=Yn.Replace);let Z=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,ae=(ne&&ne.unstable_flushSync)===!0,te=Ve({currentLocation:Ct,nextLocation:Ye,historyAction:G});if(te){Te(te,{state:"blocked",location:Ye,proceed(){Te(te,{state:"proceeding",proceed:void 0,reset:void 0,location:Ye}),Ke(K,ne)},reset(){let Le=new Map(A.blockers);Le.set(te,lh),je({blockers:Le})}});return}return await nt(G,Ye,{submission:it,pendingError:mt,preventScrollReset:Z,replace:ne&&ne.replace,enableViewTransition:ne&&ne.unstable_viewTransition,flushSync:ae})}function _t(){if(Ze(),je({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){nt(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}nt(L||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:V===!0})}}async function nt(K,ne,pe){I&&I.abort(),I=null,L=K,Q=(pe&&pe.startUninterruptedRevalidation)===!0,vi(A.location,A.matches),N=(pe&&pe.preventScrollReset)===!0,V=(pe&&pe.enableViewTransition)===!0;let De=a||o,it=pe&&pe.overrideNavigation,mt=uc(De,ne,l),Ct=(pe&&pe.flushSync)===!0,Ye=po(mt,De,ne.pathname);if(Ye.active&&Ye.matches&&(mt=Ye.matches),!mt){let{error:Ie,notFoundMatches:qe,route:He}=yt(ne.pathname);st(ne,{matches:qe,loaderData:{},errors:{[He.id]:Ie}},{flushSync:Ct});return}if(A.initialized&&!q&&eue(A.location,ne)&&!(pe&&pe.submission&&Rs(pe.submission.formMethod))){st(ne,{matches:mt},{flushSync:Ct});return}I=new AbortController;let O=Bu(t.history,ne,I.signal,pe&&pe.submission),G;if(pe&&pe.pendingError)G=[fd(mt).route.id,{type:hn.error,error:pe.pendingError}];else if(pe&&pe.submission&&Rs(pe.submission.formMethod)){let Ie=await ot(O,ne,pe.submission,mt,Ye.active,{replace:pe.replace,flushSync:Ct});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[qe,He]=Ie.pendingActionResult;if(Pi(He)&&ix(He.error)&&He.error.status===404){I=null,st(ne,{matches:Ie.matches,loaderData:{},errors:{[qe]:He.error}});return}}mt=Ie.matches||mt,G=Ie.pendingActionResult,it=gS(ne,pe.submission),Ct=!1,Ye.active=!1,O=Bu(t.history,O.url,O.signal)}let{shortCircuited:Z,matches:ae,loaderData:te,errors:Le}=await $(O,ne,mt,Ye.active,it,pe&&pe.submission,pe&&pe.fetcherSubmission,pe&&pe.replace,pe&&pe.initialHydration===!0,Ct,G);Z||(I=null,st(ne,Nn({matches:ae||mt},WL(G),{loaderData:te,errors:Le})))}async function ot(K,ne,pe,De,it,mt){mt===void 0&&(mt={}),Ze();let Ct=aue(ne,pe);if(je({navigation:Ct},{flushSync:mt.flushSync===!0}),it){let G=await Sr(De,ne.pathname,K.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){let{boundaryId:Z,error:ae}=Nt(ne.pathname,G);return{matches:G.partialMatches,pendingActionResult:[Z,{type:hn.error,error:ae}]}}else if(G.matches)De=G.matches;else{let{notFoundMatches:Z,error:ae,route:te}=yt(ne.pathname);return{matches:Z,pendingActionResult:[te.id,{type:hn.error,error:ae}]}}}let Ye,O=Mh(De,ne);if(!O.route.action&&!O.route.lazy)Ye={type:hn.error,error:$r(405,{method:K.method,pathname:ne.pathname,routeId:O.route.id})};else if(Ye=(await ye("action",A,K,[O],De,null))[O.route.id],K.signal.aborted)return{shortCircuited:!0};if(yc(Ye)){let G;return mt&&mt.replace!=null?G=mt.replace:G=VL(Ye.response.headers.get("Location"),new URL(K.url),l)===A.location.pathname+A.location.search,await lt(K,Ye,!0,{submission:pe,replace:G}),{shortCircuited:!0}}if(Xa(Ye))throw $r(400,{type:"defer-action"});if(Pi(Ye)){let G=fd(De,O.route.id);return(mt&&mt.replace)!==!0&&(L=Yn.Push),{matches:De,pendingActionResult:[G.route.id,Ye]}}return{matches:De,pendingActionResult:[O.route.id,Ye]}}async function $(K,ne,pe,De,it,mt,Ct,Ye,O,G,Z){let ae=it||gS(ne,mt),te=mt||Ct||qL(ae),Le=!Q&&(!f.v7_partialHydration||!O);if(De){if(Le){let vt=k(Z);je(Nn({navigation:ae},vt!==void 0?{actionData:vt}:{}),{flushSync:G})}let ht=await Sr(pe,ne.pathname,K.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let{boundaryId:vt,error:fn}=Nt(ne.pathname,ht);return{matches:ht.partialMatches,loaderData:{},errors:{[vt]:fn}}}else if(ht.matches)pe=ht.matches;else{let{error:vt,notFoundMatches:fn,route:en}=yt(ne.pathname);return{matches:fn,loaderData:{},errors:{[en.id]:vt}}}}let Ie=a||o,[qe,He]=BL(t.history,A,pe,te,ne,f.v7_partialHydration&&O===!0,f.v7_skipActionErrorRevalidation,q,se,B,me,X,Re,Ie,l,Z);if(dn(ht=>!(pe&&pe.some(vt=>vt.route.id===ht))||qe&&qe.some(vt=>vt.route.id===ht)),ge=++ue,qe.length===0&&He.length===0){let ht=wt();return st(ne,Nn({matches:pe,loaderData:{},errors:Z&&Pi(Z[1])?{[Z[0]]:Z[1].error}:null},WL(Z),ht?{fetchers:new Map(A.fetchers)}:{}),{flushSync:G}),{shortCircuited:!0}}if(Le){let ht={};if(!De){ht.navigation=ae;let vt=k(Z);vt!==void 0&&(ht.actionData=vt)}He.length>0&&(ht.fetchers=de(He)),je(ht,{flushSync:G})}He.forEach(ht=>{J.has(ht.key)&&be(ht.key),ht.controller&&J.set(ht.key,ht.controller)});let xt=()=>He.forEach(ht=>be(ht.key));I&&I.signal.addEventListener("abort",xt);let{loaderResults:gt,fetcherResults:dt}=await Ne(A,pe,qe,He,K);if(K.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",xt),He.forEach(ht=>J.delete(ht.key));let It=gv(gt);if(It)return await lt(K,It.result,!0,{replace:Ye}),{shortCircuited:!0};if(It=gv(dt),It)return Re.add(It.key),await lt(K,It.result,!0,{replace:Ye}),{shortCircuited:!0};let{loaderData:sn,errors:Kt}=HL(A,pe,qe,gt,Z,He,dt,re);re.forEach((ht,vt)=>{ht.subscribe(fn=>{(fn||ht.done)&&re.delete(vt)})}),f.v7_partialHydration&&O&&A.errors&&Object.entries(A.errors).filter(ht=>{let[vt]=ht;return!qe.some(fn=>fn.route.id===vt)}).forEach(ht=>{let[vt,fn]=ht;Kt=Object.assign(Kt||{},{[vt]:fn})});let Kn=wt(),Vt=ee(ge),ft=Kn||Vt||He.length>0;return Nn({matches:pe,loaderData:sn,errors:Kt},ft?{fetchers:new Map(A.fetchers)}:{})}function k(K){if(K&&!Pi(K[1]))return{[K[0]]:K[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function de(K){return K.forEach(ne=>{let pe=A.fetchers.get(ne.key),De=ch(void 0,pe?pe.data:void 0);A.fetchers.set(ne.key,De)}),new Map(A.fetchers)}function _e(K,ne,pe,De){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(K)&&be(K);let it=(De&&De.unstable_flushSync)===!0,mt=a||o,Ct=qb(A.location,A.matches,l,f.v7_prependBasename,pe,f.v7_relativeSplatPath,ne,De==null?void 0:De.relative),Ye=uc(mt,Ct,l),O=po(Ye,mt,Ct);if(O.active&&O.matches&&(Ye=O.matches),!Ye){Oe(K,ne,$r(404,{pathname:Ct}),{flushSync:it});return}let{path:G,submission:Z,error:ae}=jL(f.v7_normalizeFormMethod,!0,Ct,De);if(ae){Oe(K,ne,ae,{flushSync:it});return}let te=Mh(Ye,G);if(N=(De&&De.preventScrollReset)===!0,Z&&Rs(Z.formMethod)){Pe(K,ne,G,te,Ye,O.active,it,Z);return}X.set(K,{routeId:ne,path:G}),Se(K,ne,G,te,Ye,O.active,it,Z)}async function Pe(K,ne,pe,De,it,mt,Ct,Ye){Ze(),X.delete(K);function O(en){if(!en.route.action&&!en.route.lazy){let gn=$r(405,{method:Ye.formMethod,pathname:pe,routeId:ne});return Oe(K,ne,gn,{flushSync:Ct}),!0}return!1}if(!mt&&O(De))return;let G=A.fetchers.get(K);he(K,lue(Ye,G),{flushSync:Ct});let Z=new AbortController,ae=Bu(t.history,pe,Z.signal,Ye);if(mt){let en=await Sr(it,pe,ae.signal);if(en.type==="aborted")return;if(en.type==="error"){let{error:gn}=Nt(pe,en);Oe(K,ne,gn,{flushSync:Ct});return}else if(en.matches){if(it=en.matches,De=Mh(it,pe),O(De))return}else{Oe(K,ne,$r(404,{pathname:pe}),{flushSync:Ct});return}}J.set(K,Z);let te=ue,Ie=(await ye("action",A,ae,[De],it,K))[De.route.id];if(ae.signal.aborted){J.get(K)===Z&&J.delete(K);return}if(f.v7_fetcherPersist&&me.has(K)){if(yc(Ie)||Pi(Ie)){he(K,Da(void 0));return}}else{if(yc(Ie))if(J.delete(K),ge>te){he(K,Da(void 0));return}else return Re.add(K),he(K,ch(Ye)),lt(ae,Ie,!1,{fetcherSubmission:Ye});if(Pi(Ie)){Oe(K,ne,Ie.error);return}}if(Xa(Ie))throw $r(400,{type:"defer-action"});let qe=A.navigation.location||A.location,He=Bu(t.history,qe,Z.signal),xt=a||o,gt=A.navigation.state!=="idle"?uc(xt,A.navigation.location,l):A.matches;Ht(gt,"Didn't find any matches after fetcher action");let dt=++ue;oe.set(K,dt);let It=ch(Ye,Ie.data);A.fetchers.set(K,It);let[sn,Kt]=BL(t.history,A,gt,Ye,qe,!1,f.v7_skipActionErrorRevalidation,q,se,B,me,X,Re,xt,l,[De.route.id,Ie]);Kt.filter(en=>en.key!==K).forEach(en=>{let gn=en.key,ua=A.fetchers.get(gn),wn=ch(void 0,ua?ua.data:void 0);A.fetchers.set(gn,wn),J.has(gn)&&be(gn),en.controller&&J.set(gn,en.controller)}),je({fetchers:new Map(A.fetchers)});let Kn=()=>Kt.forEach(en=>be(en.key));Z.signal.addEventListener("abort",Kn);let{loaderResults:Vt,fetcherResults:ft}=await Ne(A,gt,sn,Kt,He);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",Kn),oe.delete(K),J.delete(K),Kt.forEach(en=>J.delete(en.key));let ht=gv(Vt);if(ht)return lt(He,ht.result,!1);if(ht=gv(ft),ht)return Re.add(ht.key),lt(He,ht.result,!1);let{loaderData:vt,errors:fn}=HL(A,gt,sn,Vt,void 0,Kt,ft,re);if(A.fetchers.has(K)){let en=Da(Ie.data);A.fetchers.set(K,en)}ee(dt),A.navigation.state==="loading"&&dt>ge?(Ht(L,"Expected pending action"),I&&I.abort(),st(A.navigation.location,{matches:gt,loaderData:vt,errors:fn,fetchers:new Map(A.fetchers)})):(je({errors:fn,loaderData:GL(A.loaderData,vt,gt,fn),fetchers:new Map(A.fetchers)}),q=!1)}async function Se(K,ne,pe,De,it,mt,Ct,Ye){let O=A.fetchers.get(K);he(K,ch(Ye,O?O.data:void 0),{flushSync:Ct});let G=new AbortController,Z=Bu(t.history,pe,G.signal);if(mt){let Ie=await Sr(it,pe,Z.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:qe}=Nt(pe,Ie);Oe(K,ne,qe,{flushSync:Ct});return}else if(Ie.matches)it=Ie.matches,De=Mh(it,pe);else{Oe(K,ne,$r(404,{pathname:pe}),{flushSync:Ct});return}}J.set(K,G);let ae=ue,Le=(await ye("loader",A,Z,[De],it,K))[De.route.id];if(Xa(Le)&&(Le=await zM(Le,Z.signal,!0)||Le),J.get(K)===G&&J.delete(K),!Z.signal.aborted){if(me.has(K)){he(K,Da(void 0));return}if(yc(Le))if(ge>ae){he(K,Da(void 0));return}else{Re.add(K),await lt(Z,Le,!1);return}if(Pi(Le)){Oe(K,ne,Le.error);return}Ht(!Xa(Le),"Unhandled fetcher deferred data"),he(K,Da(Le.data))}}async function lt(K,ne,pe,De){let{submission:it,fetcherSubmission:mt,replace:Ct}=De===void 0?{}:De;ne.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Ye=ne.response.headers.get("Location");Ht(Ye,"Expected a Location header on the redirect Response"),Ye=VL(Ye,new URL(K.url),l);let O=Ap(A.location,Ye,{_isRedirect:!0});if(n){let Ie=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(BM.test(Ye)){const qe=t.history.createURL(Ye);Ie=qe.origin!==e.location.origin||Ef(qe.pathname,l)==null}if(Ie){Ct?e.location.replace(Ye):e.location.assign(Ye);return}}I=null;let G=Ct===!0||ne.response.headers.has("X-Remix-Replace")?Yn.Replace:Yn.Push,{formMethod:Z,formAction:ae,formEncType:te}=A.navigation;!it&&!mt&&Z&&ae&&te&&(it=qL(A.navigation));let Le=it||mt;if(jce.has(ne.response.status)&&Le&&Rs(Le.formMethod))await nt(G,O,{submission:Nn({},Le,{formAction:Ye}),preventScrollReset:N,enableViewTransition:pe?V:void 0});else{let Ie=gS(O,it);await nt(G,O,{overrideNavigation:Ie,fetcherSubmission:mt,preventScrollReset:N,enableViewTransition:pe?V:void 0})}}async function ye(K,ne,pe,De,it,mt){let Ct,Ye={};try{Ct=await qce(c,K,ne,pe,De,it,mt,s,i)}catch(O){return De.forEach(G=>{Ye[G.route.id]={type:hn.error,error:O}}),Ye}for(let[O,G]of Object.entries(Ct))if(nue(G)){let Z=G.result;Ye[O]={type:hn.redirect,response:Jce(Z,pe,O,it,l,f.v7_relativeSplatPath)}}else Ye[O]=await Zce(G);return Ye}async function Ne(K,ne,pe,De,it){let mt=K.matches,Ct=ye("loader",K,it,pe,ne,null),Ye=Promise.all(De.map(async Z=>{if(Z.matches&&Z.match&&Z.controller){let te=(await ye("loader",K,Bu(t.history,Z.path,Z.controller.signal),[Z.match],Z.matches,Z.key))[Z.match.route.id];return{[Z.key]:te}}else return Promise.resolve({[Z.key]:{type:hn.error,error:$r(404,{pathname:Z.path})}})})),O=await Ct,G=(await Ye).reduce((Z,ae)=>Object.assign(Z,ae),{});return await Promise.all([sue(ne,O,it.signal,mt,K.loaderData),oue(ne,G,De)]),{loaderResults:O,fetcherResults:G}}function Ze(){q=!0,se.push(...dn()),X.forEach((K,ne)=>{J.has(ne)&&(B.add(ne),be(ne))})}function he(K,ne,pe){pe===void 0&&(pe={}),A.fetchers.set(K,ne),je({fetchers:new Map(A.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Oe(K,ne,pe,De){De===void 0&&(De={});let it=fd(A.matches,ne);Je(K),je({errors:{[it.route.id]:pe},fetchers:new Map(A.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function at(K){return f.v7_fetcherPersist&&(ce.set(K,(ce.get(K)||0)+1),me.has(K)&&me.delete(K)),A.fetchers.get(K)||Bce}function Je(K){let ne=A.fetchers.get(K);J.has(K)&&!(ne&&ne.state==="loading"&&oe.has(K))&&be(K),X.delete(K),oe.delete(K),Re.delete(K),me.delete(K),B.delete(K),A.fetchers.delete(K)}function We(K){if(f.v7_fetcherPersist){let ne=(ce.get(K)||0)-1;ne<=0?(ce.delete(K),me.add(K)):ce.set(K,ne)}else Je(K);je({fetchers:new Map(A.fetchers)})}function be(K){let ne=J.get(K);Ht(ne,"Expected fetch controller: "+K),ne.abort(),J.delete(K)}function rt(K){for(let ne of K){let pe=at(ne),De=Da(pe.data);A.fetchers.set(ne,De)}}function wt(){let K=[],ne=!1;for(let pe of Re){let De=A.fetchers.get(pe);Ht(De,"Expected fetcher: "+pe),De.state==="loading"&&(Re.delete(pe),K.push(pe),ne=!0)}return rt(K),ne}function ee(K){let ne=[];for(let[pe,De]of oe)if(De<K){let it=A.fetchers.get(pe);Ht(it,"Expected fetcher: "+pe),it.state==="loading"&&(be(pe),oe.delete(pe),ne.push(pe))}return rt(ne),ne.length>0}function Ue(K,ne){let pe=A.blockers.get(K)||lh;return we.get(K)!==ne&&we.set(K,ne),pe}function Ee(K){A.blockers.delete(K),we.delete(K)}function Te(K,ne){let pe=A.blockers.get(K)||lh;Ht(pe.state==="unblocked"&&ne.state==="blocked"||pe.state==="blocked"&&ne.state==="blocked"||pe.state==="blocked"&&ne.state==="proceeding"||pe.state==="blocked"&&ne.state==="unblocked"||pe.state==="proceeding"&&ne.state==="unblocked","Invalid blocker state transition: "+pe.state+" -> "+ne.state);let De=new Map(A.blockers);De.set(K,ne),je({blockers:De})}function Ve(K){let{currentLocation:ne,nextLocation:pe,historyAction:De}=K;if(we.size===0)return;we.size>1&&rf(!1,"A router only supports one blocker at a time");let it=Array.from(we.entries()),[mt,Ct]=it[it.length-1],Ye=A.blockers.get(mt);if(!(Ye&&Ye.state==="proceeding")&&Ct({currentLocation:ne,nextLocation:pe,historyAction:De}))return mt}function yt(K){let ne=$r(404,{pathname:K}),pe=a||o,{matches:De,route:it}=XL(pe);return dn(),{notFoundMatches:De,route:it,error:ne}}function Nt(K,ne){return{boundaryId:fd(ne.partialMatches).route.id,error:$r(400,{type:"route-discovery",pathname:K,message:ne.error!=null&&"message"in ne.error?ne.error:String(ne.error)})}}function dn(K){let ne=[];return re.forEach((pe,De)=>{(!K||K(De))&&(pe.cancel(),ne.push(De),re.delete(De))}),ne}function zn(K,ne,pe){if(v=K,S=ne,m=pe||null,!E&&A.navigation===mS){E=!0;let De=Ur(A.location,A.matches);De!=null&&je({restoreScrollPosition:De})}return()=>{v=null,S=null,m=null}}function Wt(K,ne){return m&&m(K,ne.map(De=>vce(De,A.loaderData)))||K.key}function vi(K,ne){if(v&&S){let pe=Wt(K,ne);v[pe]=S()}}function Ur(K,ne){if(v){let pe=Wt(K,ne),De=v[pe];if(typeof De=="number")return De}return null}function po(K,ne,pe){if(d){if(y.has(pe))return{active:!1,matches:K};if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:qv(ne,pe,l,!0)}}else return{active:!0,matches:qv(ne,pe,l,!0)||[]}}return{active:!1,matches:null}}async function Sr(K,ne,pe){let De=K;for(;;){let it=a==null,mt=a||o;try{await Wce(d,ne,De,mt,s,i,Be,pe)}catch(O){return{type:"error",error:O,partialMatches:De}}finally{it&&(o=[...o])}if(pe.aborted)return{type:"aborted"};let Ct=uc(mt,ne,l);if(Ct)return la(ne,y),{type:"success",matches:Ct};let Ye=qv(mt,ne,l,!0);if(!Ye||De.length===Ye.length&&De.every((O,G)=>O.route.id===Ye[G].route.id))return la(ne,y),{type:"success",matches:null};De=Ye}}function la(K,ne){if(ne.size>=_){let pe=ne.values().next().value;ne.delete(pe)}ne.add(K)}function ca(K){s={},a=Rp(K,i,void 0,s)}function Jc(K,ne){let pe=a==null;wj(K,ne,a||o,s,i),pe&&(o=[...o],je({}))}return R={get basename(){return l},get future(){return f},get state(){return A},get routes(){return o},get window(){return e},initialize:$e,subscribe:tt,enableScrollRestoration:zn,navigate:Ke,fetch:_e,revalidate:_t,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:at,deleteFetcher:We,dispose:j,getBlocker:Ue,deleteBlocker:Ee,patchRoutes:Jc,_internalFetchControllers:J,_internalActiveDeferreds:re,_internalSetRoutes:ca},R}function $ce(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function qb(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let d=jM(i||".",FM(l,s),Ef(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!VM(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Wo([n,d.pathname])),Uc(d)}function jL(t,e,n,r){if(!r||!$ce(r))return{path:n};if(r.formMethod&&!iue(r.formMethod))return{path:n,error:$r(405,{method:r.formMethod})};let i=()=>({path:n,error:$r(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Sj(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rs(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,_)=>{let[y,v]=_;return""+g+y+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Rs(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Ht(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Yb(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Yb(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=$L(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=$L(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Rs(d.formMethod))return{path:n,submission:d};let f=Ll(n);return e&&f.search&&VM(f.search)&&l.append("index",""),f.search="?"+l,{path:Uc(f),submission:d}}function Hce(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function BL(t,e,n,r,i,s,o,a,l,c,d,f,p,g,_,y){let v=y?Pi(y[1])?y[1].error:y[1].data:void 0,m=t.createURL(e.location),S=t.createURL(i),E=y&&Pi(y[1])?y[0]:void 0,T=E?Hce(n,E):n,C=y?y[1].statusCode:void 0,P=o&&C&&C>=400,R=T.filter((L,N)=>{let{route:I}=L;if(I.lazy)return!0;if(I.loader==null)return!1;if(s)return typeof I.loader!="function"||I.loader.hydrate?!0:e.loaderData[I.id]===void 0&&(!e.errors||e.errors[I.id]===void 0);if(Gce(e.loaderData,e.matches[N],L)||l.some(z=>z===L.route.id))return!0;let V=e.matches[N],W=L;return zL(L,Nn({currentUrl:m,currentParams:V.params,nextUrl:S,nextParams:W.params},r,{actionResult:v,actionStatus:C,defaultShouldRevalidate:P?!1:a||m.pathname+m.search===S.pathname+S.search||m.search!==S.search||_j(V,W)}))}),A=[];return f.forEach((L,N)=>{if(s||!n.some(Q=>Q.route.id===L.routeId)||d.has(N))return;let I=uc(g,L.path,_);if(!I){A.push({key:N,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(N),W=Mh(I,L.path),z=!1;p.has(N)?z=!1:c.has(N)?(c.delete(N),z=!0):V&&V.state!=="idle"&&V.data===void 0?z=a:z=zL(W,Nn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:C,defaultShouldRevalidate:P?!1:a})),z&&A.push({key:N,routeId:L.routeId,path:L.path,matches:I,match:W,controller:new AbortController})}),[R,A]}function Gce(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function _j(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function zL(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Wce(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(d,f)=>{a.aborted||wj(d,f,r,i,s)}}),o.set(l,c)),c&&tue(c)&&await c}finally{o.delete(l)}}function wj(t,e,n,r,i){if(t){var s;let o=r[t];Ht(o,"No route found to patch children into: routeId = "+t);let a=Rp(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Rp(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Xce(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ht(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";rf(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!mce.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Nn({},e(i),{lazy:void 0}))}async function Kce(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function qce(t,e,n,r,i,s,o,a,l,c){let d=s.map(g=>g.route.lazy?Xce(g.route,l,a):void 0),f=s.map((g,_)=>{let y=d[_],v=i.some(S=>S.route.id===g.route.id);return Nn({},g,{shouldLoad:v,resolve:async S=>(S&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(v=!0),v?Yce(e,r,g,y,S,c):Promise.resolve({type:hn.data,result:void 0}))})}),p=await t({matches:f,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return p}async function Yce(t,e,n,r,i,s){let o,a,l=c=>{let d,f=new Promise((_,y)=>d=y);a=()=>d(),e.signal.addEventListener("abort",a);let p=_=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},..._!==void 0?[_]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(y=>p(y)):p())}}catch(_){return{type:"error",result:_}}})();return Promise.race([g,f])};try{let c=n.route[t];if(r)if(c){let d,[f]=await Promise.all([l(c).catch(p=>{d=p}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw $r(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:hn.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw $r(404,{pathname:f})}Ht(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:hn.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Zce(t){let{result:e,type:n}=t;if(bj(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:hn.error,error:d}}return n===hn.error?{type:hn.error,error:new q0(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:hn.data,data:c,statusCode:e.status,headers:e.headers}}if(n===hn.error){if(KL(e)){var r;if(e.data instanceof Error){var i;return{type:hn.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new q0(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:hn.error,error:e,statusCode:ix(e)?e.status:void 0}}if(rue(e)){var s,o;return{type:hn.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(KL(e)){var a,l;return{type:hn.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:hn.data,data:e}}function Jce(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ht(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!BM.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=qb(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function VL(t,e,n){if(BM.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ef(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Bu(t,e,n,r){let i=t.createURL(Sj(e)).toString(),s={signal:n};if(r&&Rs(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Yb(r.formData):s.body=r.formData}return new Request(i,s)}function Yb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function $L(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Qce(t,e,n,r,i){let s={},o=null,a,l=!1,c={},d=n&&Pi(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let p=f.route.id,g=e[p];if(Ht(!yc(g),"Cannot handle redirect results in processLoaderData"),Pi(g)){let _=g.error;d!==void 0&&(_=d,d=void 0),o=o||{};{let y=fd(t,p);o[y.route.id]==null&&(o[y.route.id]=_)}s[p]=void 0,l||(l=!0,a=ix(g.error)?g.error.status:500),g.headers&&(c[p]=g.headers)}else Xa(g)?(r.set(p,g.deferredData),s[p]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers)):(s[p]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[p]=g.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function HL(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=Qce(e,r,i,a);return s.forEach(d=>{let{key:f,match:p,controller:g}=d,_=o[f];if(Ht(_,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(Pi(_)){let y=fd(t.matches,p==null?void 0:p.route.id);c&&c[y.route.id]||(c=Nn({},c,{[y.route.id]:_.error})),t.fetchers.delete(f)}else if(yc(_))Ht(!1,"Unhandled fetcher revalidation redirect");else if(Xa(_))Ht(!1,"Unhandled fetcher deferred data");else{let y=Da(_.data);t.fetchers.set(f,y)}}),{loaderData:l,errors:c}}function GL(t,e,n,r){let i=Nn({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function WL(t){return t?Pi(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fd(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function XL(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $r(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new q0(t||500,a,new Error(l),!0)}function gv(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(yc(i))return{key:r,result:i}}}function Sj(t){let e=typeof t=="string"?Ll(t):t;return Uc(Nn({},e,{hash:""}))}function eue(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function tue(t){return typeof t=="object"&&t!=null&&"then"in t}function nue(t){return bj(t.result)&&Fce.has(t.result.status)}function Xa(t){return t.type===hn.deferred}function Pi(t){return t.type===hn.error}function yc(t){return(t&&t.type)===hn.redirect}function KL(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rue(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iue(t){return Uce.has(t.toLowerCase())}function Rs(t){return Oce.has(t.toLowerCase())}async function sue(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(p=>(p==null?void 0:p.route.id)===a);if(!c)continue;let d=r.find(p=>p.route.id===c.route.id),f=d!=null&&!_j(d,c)&&(i&&i[c.route.id])!==void 0;Xa(l)&&f&&await zM(l,n,!1).then(p=>{p&&(e[a]=p)})}}async function oue(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Xa(a)&&(Ht(o,"Expected an AbortController for revalidating fetcher deferred result"),await zM(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function zM(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:hn.data,data:t.deferredData.unwrappedData}}catch(i){return{type:hn.error,error:i}}return{type:hn.data,data:t.deferredData.data}}}function VM(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Mh(t,e){let n=typeof e=="string"?Ll(e).search:e.search;if(t[t.length-1].route.index&&VM(n||""))return t[t.length-1];let r=vj(t);return r[r.length-1]}function qL(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function gS(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aue(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ch(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lue(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Da(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cue(t,e){try{let n=t.sessionStorage.getItem(xj);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function uue(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(xj,JSON.stringify(n))}catch(r){rf(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}const sx=w.createContext(null),Ej=w.createContext(null),qc=w.createContext(null),$M=w.createContext(null),Dl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Tj=w.createContext(null);function due(t,e){let{relative:n}=e===void 0?{}:e;xm()||Ht(!1);let{basename:r,navigator:i}=w.useContext(qc),{hash:s,pathname:o,search:a}=Cj(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function xm(){return w.useContext($M)!=null}function ox(){return xm()||Ht(!1),w.useContext($M).location}function Mj(t){w.useContext(qc).static||w.useLayoutEffect(t)}function mi(){let{isDataRoute:t}=w.useContext(Dl);return t?Sue():fue()}function fue(){xm()||Ht(!1);let t=w.useContext(sx),{basename:e,future:n,navigator:r}=w.useContext(qc),{matches:i}=w.useContext(Dl),{pathname:s}=ox(),o=JSON.stringify(FM(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return Mj(()=>{a.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=jM(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function HM(){let{matches:t}=w.useContext(Dl),e=t[t.length-1];return e?e.params:{}}function Cj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(qc),{matches:i}=w.useContext(Dl),{pathname:s}=ox(),o=JSON.stringify(FM(i,r.v7_relativeSplatPath));return w.useMemo(()=>jM(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function hue(t,e,n,r){xm()||Ht(!1);let{navigator:i}=w.useContext(qc),{matches:s}=w.useContext(Dl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ox(),d;d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=uc(t,{pathname:p});return yue(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Wo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Wo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r)}function pue(){let t=Pj(),e=ix(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const mue=w.createElement(pue,null);class gue extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Dl.Provider,{value:this.props.routeContext},w.createElement(Tj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vue(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(sx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Dl.Provider,{value:e},r)}function yue(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,_=!1,y=null,v=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||mue,l&&(c<0&&p===0?(_=!0,v=null):c===p&&(_=!0,v=f.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,p+1)),S=()=>{let E;return g?E=y:_?E=v:f.route.Component?E=w.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,w.createElement(vue,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?w.createElement(gue,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):S()},null)}var Aj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Aj||{}),Z0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Z0||{});function xue(t){let e=w.useContext(sx);return e||Ht(!1),e}function _ue(t){let e=w.useContext(Ej);return e||Ht(!1),e}function wue(t){let e=w.useContext(Dl);return e||Ht(!1),e}function Rj(t){let e=wue(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function Pj(){var t;let e=w.useContext(Tj),n=_ue(Z0.UseRouteError),r=Rj(Z0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Sue(){let{router:t}=xue(Aj.UseNavigateStable),e=Rj(Z0.UseNavigateStable),n=w.useRef(!1);return Mj(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Y0({fromRouteId:e},s)))},[t,e])}function bue(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yn.Pop,navigator:s,static:o=!1,future:a}=t;xm()&&Ht(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:o,future:Y0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ll(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:_="default"}=r,y=w.useMemo(()=>{let v=Ef(d,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:g,key:_},navigationType:i}},[l,d,f,p,g,_,i]);return y==null?null:w.createElement(qc.Provider,{value:c},w.createElement($M.Provider,{children:n,value:y}))}new Promise(()=>{});function Eue(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function Tue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cue(t,e){return t.button===0&&(!e||e==="_self")&&!Mue(t)}const Aue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Rue="6";try{window.__reactRouterVersion=Rue}catch{}function Pue(t,e){return Vce({basename:void 0,future:Pp({},void 0,{v7_prependBasename:!0}),history:fce({window:void 0}),hydrationData:Nue(),routes:t,mapRouteProperties:Eue,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Nue(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Pp({},e,{errors:Lue(e.errors)})),e}function Lue(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new q0(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Due=w.createContext({isTransitioning:!1}),Iue=w.createContext(new Map),Oue="startTransition",YL=ZE[Oue],kue="flushSync",ZL=fq[kue];function Uue(t){YL?YL(t):t()}function uh(t){ZL?ZL(t):t()}class Fue{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function jue(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=w.useState(n.state),[o,a]=w.useState(),[l,c]=w.useState({isTransitioning:!1}),[d,f]=w.useState(),[p,g]=w.useState(),[_,y]=w.useState(),v=w.useRef(new Map),{v7_startTransition:m}=r||{},S=w.useCallback(A=>{m?Uue(A):A()},[m]),E=w.useCallback((A,L)=>{let{deletedFetchers:N,unstable_flushSync:I,unstable_viewTransitionOpts:V}=L;N.forEach(z=>v.current.delete(z)),A.fetchers.forEach((z,Q)=>{z.data!==void 0&&v.current.set(Q,z.data)});let W=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!V||W){I?uh(()=>s(A)):S(()=>s(A));return}if(I){uh(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let z=n.window.document.startViewTransition(()=>{uh(()=>s(A))});z.finished.finally(()=>{uh(()=>{f(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),uh(()=>g(z));return}p?(d&&d.resolve(),p.skipTransition(),y({state:A,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(A),c({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,p,d,v,S]);w.useLayoutEffect(()=>n.subscribe(E),[n,E]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new Fue)},[l]),w.useEffect(()=>{if(d&&o&&n.window){let A=o,L=d.promise,N=n.window.document.startViewTransition(async()=>{S(()=>s(A)),await L});N.finished.finally(()=>{f(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(N)}},[S,o,d,n.window]),w.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),w.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),y(void 0))},[l.isTransitioning,_]),w.useEffect(()=>{},[]);let T=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,L,N)=>n.navigate(A,{state:L,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(A,L,N)=>n.navigate(A,{replace:!0,state:L,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),C=n.basename||"/",P=w.useMemo(()=>({router:n,navigator:T,static:!1,basename:C}),[n,T,C]),R=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.createElement(w.Fragment,null,w.createElement(sx.Provider,{value:P},w.createElement(Ej.Provider,{value:i},w.createElement(Iue.Provider,{value:v.current},w.createElement(Due.Provider,{value:l},w.createElement(bue,{basename:C,location:i.location,navigationType:i.historyAction,navigator:T,future:R},i.initialized||n.future.v7_partialHydration?w.createElement(Bue,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Bue=w.memo(zue);function zue(t){let{routes:e,future:n,state:r}=t;return hue(e,void 0,r,n)}const Vue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Np=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=Tue(e,Aue),{basename:g}=w.useContext(qc),_,y=!1;if(typeof c=="string"&&$ue.test(c)&&(_=c,Vue))try{let E=new URL(window.location.href),T=c.startsWith("//")?new URL(E.protocol+c):new URL(c),C=Ef(T.pathname,g);T.origin===E.origin&&C!=null?c=C+T.search+T.hash:y=!0}catch{}let v=due(c,{relative:i}),m=Hue(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function S(E){r&&r(E),E.defaultPrevented||m(E)}return w.createElement("a",Pp({},p,{href:_||v,onClick:y||s?r:S,ref:n,target:l}))});var JL;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(JL||(JL={}));var QL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QL||(QL={}));function Hue(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=mi(),c=ox(),d=Cj(t,{relative:o});return w.useCallback(f=>{if(Cue(f,n)){f.preventDefault();let p=r!==void 0?r:Uc(c)===Uc(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const Gue=1,Wue=1e6;let vS=0;function Xue(){return vS=(vS+1)%Number.MAX_SAFE_INTEGER,vS.toString()}const yS=new Map,eD=t=>{if(yS.has(t))return;const e=setTimeout(()=>{yS.delete(t),Xh({type:"REMOVE_TOAST",toastId:t})},Wue);yS.set(t,e)},Kue=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Gue)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?eD(n):t.toasts.forEach(r=>{eD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yv=[];let Zv={toasts:[]};function Xh(t){Zv=Kue(Zv,t),Yv.forEach(e=>{e(Zv)})}function to({...t}){const e=Xue(),n=i=>Xh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Xh({type:"DISMISS_TOAST",toastId:e});return Xh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function ax(){const[t,e]=w.useState(Zv);return w.useEffect(()=>(Yv.push(e),()=>{const n=Yv.indexOf(e);n>-1&&Yv.splice(n,1)}),[t]),{...t,toast:to,dismiss:n=>Xh({type:"DISMISS_TOAST",toastId:n})}}function que(t){const{product:e}=t,[n,r]=w.useState(),[i,s]=w.useState([]),{toast:o}=ax(),a=mi();w.useEffect(()=>{l()},[]);async function l(){const{data:d}=await rn.from("items").select("*").eq("product",e.id);d&&s(d)}async function c(){const d=i.find(g=>g.id===Number(n)),f=await rn.auth.getUser();if(!f)return;const{user:p}=f.data;if(!p||!d){a("/login");return}await rn.from("cart-items").insert({item:d.id,name:e.name,price:d.price,profile:p.id}),o({title:"Added to cart",description:`Added ${e.name} to cart successfully.`})}return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"bebas-neue-regular mx-auto w-full max-w-md p-4",children:x.jsxs(xM,{children:[x.jsx(wM,{className:"text-center text-5xl",children:e.name}),x.jsx(SM,{className:"text-center text-lg",children:"BY PRISTIALE"})]})}),x.jsxs("div",{className:"bebas-neue-regular disable-scroll mx-auto h-full w-full max-w-md flex-wrap overflow-y-auto",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 p-4 pb-0",children:[x.jsx("video",{src:e.preview??"",muted:!0,autoPlay:!0,loop:!0,playsInline:!0,poster:e.thumbnail??"",unselectable:"on",controls:!1,disablePictureInPicture:!0,onPointerDown:d=>d.target.pause(),onPointerUp:d=>d.target.play(),className:"flex-shrink"}),x.jsx("p",{className:"self-start text-3xl",children:e.description}),x.jsx("p",{className:"self-start text-2xl",children:Mn(e.price)}),x.jsxs(W0,{value:n,onValueChange:d=>r(d),children:[x.jsx(Ep,{children:x.jsx(X0,{placeholder:"Size"})}),x.jsx(Tp,{children:i.map(d=>x.jsx(Mp,{value:d.id.toString(),disabled:d.quantity<1,children:x.jsx("p",{className:"bebas-neue-regular",children:d.feature})},d.id))})]})]}),x.jsxs(_M,{children:[x.jsx(ln,{disabled:!n,onClick:c,children:"Add to cart"}),x.jsx(OF,{asChild:!0,children:x.jsx(ln,{variant:"outline",children:"Cancel"})})]})]})]})}function Yue(t){const{product:e}=t,[n,r]=w.useState(!1);return x.jsx("div",{children:x.jsxs(vM,{shouldScaleBackground:!0,children:[x.jsx(yM,{className:"max-h-full overflow-hidden",children:x.jsx(que,{product:e})}),x.jsx(IF,{asChild:!0,children:x.jsx(zU,{muted:!0,unselectable:"on",className:Ae("aspect-[1/1.414] overflow-clip rounded-xl"),focused:n,onHoverStart:()=>r(!0),onHoverEnd:()=>r(!1),videoSrc:e.preview??"",controls:!1,pausedOverlay:x.jsx("img",{src:e.thumbnail??"",alt:"thumbnail",className:"aspect-[1/1.414]",style:{width:"100%"}}),hoverOverlay:x.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-end p-12",children:[x.jsx("p",{className:"bebas-neue-regular text-center text-2xl shadow-inner",children:e.name}),x.jsx("p",{className:"bebas-neue-regular text-center text-sm shadow-inner",children:e.description}),x.jsx("p",{className:"bebas-neue-regular text-md text-center shadow-inner",children:Mn(e.price)})]})})})]})})}function Zue(t){return Object.prototype.toString.call(t)==="[object Object]"}function tD(t){return Zue(t)||Array.isArray(t)}function Jue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function GM(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!tD(a)||!tD(l)?a===l:GM(a,l)})}function nD(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Que(t,e){if(t.length!==e.length)return!1;const n=nD(t),r=nD(e);return n.every((i,s)=>{const o=r[s];return GM(i,o)})}function WM(t){return typeof t=="number"}function Zb(t){return typeof t=="string"}function lx(t){return typeof t=="boolean"}function rD(t){return Object.prototype.toString.call(t)==="[object Object]"}function In(t){return Math.abs(t)}function XM(t){return Math.sign(t)}function Kh(t,e){return In(t-e)}function ede(t,e){if(t===0||e===0||In(t)<=In(e))return 0;const n=Kh(In(t),In(e));return In(n/t)}function Lp(t){return Dp(t).map(Number)}function Us(t){return t[_m(t)]}function _m(t){return Math.max(0,t.length-1)}function KM(t,e){return e===_m(t)}function iD(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Dp(t){return Object.keys(t)}function Nj(t,e){return[t,e].reduce((n,r)=>(Dp(r).forEach(i=>{const s=n[i],o=r[i],a=rD(s)&&rD(o);n[i]=a?Nj(s,o):o}),n),{})}function Jb(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function tde(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return Zb(t)?n[t](l):t(e,l,c)}return{measure:o}}function Ip(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function nde(t,e,n,r){const i=Ip(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&_()})}function d(){g(),i.clear()}function f(v){if(!l)return;o||(o=v);const m=v-o;for(o=v,a+=m;a>=s;)n(s),a-=s;const S=a/s;r(S),l&&e.requestAnimationFrame(f)}function p(){l||(l=e.requestAnimationFrame(f))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function _(){o=null,a=0}return{init:c,destroy:d,start:p,stop:g,update:()=>n(s),render:r}}function rde(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),l=f();function c(_){const{height:y,width:v}=_;return r?y:v}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function p(_){return _*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:p}}function Fc(t=0,e=0){const n=In(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function Lj(t,e,n){const{constrain:r}=Fc(0,t),i=t+1;let s=o(e);function o(p){return n?In((i+p)%i):r(p)}function a(){return s}function l(p){return s=o(p),f}function c(p){return d().set(a()+p)}function d(){return Lj(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function ide(t,e,n,r,i,s,o,a,l,c,d,f,p,g,_,y,v,m,S){const{cross:E,direction:T}=t,C=["INPUT","SELECT","TEXTAREA"],P={passive:!1},R=Ip(),A=Ip(),L=Fc(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},I={mouse:500,touch:600},V=_?43:25;let W=!1,z=0,Q=0,q=!1,se=!1,B=!1,J=!1;function ue(j){if(!S)return;function tt(st){(lx(S)||S(j,st))&&me(st)}const je=e;R.add(je,"dragstart",st=>st.preventDefault(),P).add(je,"touchmove",()=>{},P).add(je,"touchend",()=>{}).add(je,"touchstart",tt).add(je,"mousedown",tt).add(je,"touchcancel",we).add(je,"contextmenu",we).add(je,"click",Be,!0)}function ge(){R.clear(),A.clear()}function oe(){const j=J?n:e;A.add(j,"touchmove",re,P).add(j,"touchend",we).add(j,"mousemove",re,P).add(j,"mouseup",we)}function Re(j){const tt=j.nodeName||"";return C.includes(tt)}function X(){return(_?I:N)[J?"mouse":"touch"]}function ce(j,tt){const je=f.add(XM(j)*-1),st=d.byDistance(j,!_).distance;return _||In(j)<L?st:v&&tt?st*.5:d.byIndex(je.get(),0).distance}function me(j){const tt=Jb(j,r);J=tt,B=_&&tt&&!j.buttons&&W,W=Kh(i.get(),o.get())>=2,!(tt&&j.button!==0)&&(Re(j.target)||(q=!0,s.pointerDown(j),c.useFriction(0).useDuration(0),i.set(o),oe(),z=s.readPoint(j),Q=s.readPoint(j,E),p.emit("pointerDown")))}function re(j){if(!Jb(j,r)&&j.touches.length>=2)return we(j);const je=s.readPoint(j),st=s.readPoint(j,E),Ke=Kh(je,z),_t=Kh(st,Q);if(!se&&!J&&(!j.cancelable||(se=Ke>_t,!se)))return we(j);const nt=s.pointerMove(j);Ke>y&&(B=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(T(nt)),j.preventDefault()}function we(j){const je=d.byDistance(0,!1).index!==f.get(),st=s.pointerUp(j)*X(),Ke=ce(T(st),je),_t=ede(st,Ke),nt=V-10*_t,ot=m+_t/50;se=!1,q=!1,A.clear(),c.useDuration(nt).useFriction(ot),l.distance(Ke,!_),J=!1,p.emit("pointerUp")}function Be(j){B&&(j.stopPropagation(),j.preventDefault(),B=!1)}function ke(){return q}return{init:ue,destroy:ge,pointerDown:ke}}function sde(t,e){let r,i;function s(f){return f.timeStamp}function o(f,p){const _=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(Jb(f,e)?f:f.touches[0])[_]}function a(f){return r=f,i=f,o(f)}function l(f){const p=o(f)-o(i),g=s(f)-s(r)>170;return i=f,g&&(r=f),p}function c(f){if(!r||!i)return 0;const p=o(i)-o(r),g=s(f)-s(r),_=s(f)-s(i)>170,y=p/g;return g&&!_&&In(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function ode(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function ade(t){function e(r){return t*(r/100)}return{measure:e}}function lde(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,d=[],f=!1;function p(v){return i.measureSize(o.measure(v))}function g(v){if(!s)return;c=p(t),d=r.map(p);function m(S){for(const E of S){if(f)return;const T=E.target===t,C=r.indexOf(E.target),P=T?c:d[C],R=p(T?t:r[C]);if(In(R-P)>=.5){v.reInit(),e.emit("resize");break}}}l=new ResizeObserver(S=>{(lx(s)||s(v,S))&&m(S)}),n.requestAnimationFrame(()=>{a.forEach(S=>l.observe(S))})}function _(){f=!0,l&&l.disconnect()}return{init:g,destroy:_}}function cde(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,d=t.get(),f=0;function p(P){const R=P/1e3,A=l*R,L=r.get()-t.get(),N=!l;let I=0;return N?(o=0,n.set(r),t.set(r),I=L):(n.set(t),o+=L/A,o*=c,d+=o,t.add(o*R),I=d-f),a=XM(I),f=d,C}function g(){const P=r.get()-e.get();return In(P)<.001}function _(){return l}function y(){return a}function v(){return o}function m(){return E(i)}function S(){return T(s)}function E(P){return l=P,C}function T(P){return c=P,C}const C={direction:y,duration:_,velocity:v,seek:p,settled:g,useBaseFriction:S,useBaseDuration:m,useFriction:T,useDuration:E};return C}function ude(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=Fc(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const _=t.reachedMin(e.get())?"min":"max",y=In(t[_]-e.get()),v=n.get()-e.get(),m=a.constrain(y/o);n.subtract(v*m),!g&&In(v)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:f}}function dde(t,e,n,r,i){const s=Fc(-e+t,0),o=f(),a=d(),l=p();function c(_,y){return Kh(_,y)<1}function d(){const _=o[0],y=Us(o),v=o.lastIndexOf(_),m=o.indexOf(y)+1;return Fc(v,m)}function f(){return n.map((_,y)=>{const{min:v,max:m}=s,S=s.constrain(_),E=!y,T=KM(n,y);return E?m:T||c(v,S)?v:c(m,S)?m:S}).map(_=>parseFloat(_.toFixed(3)))}function p(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:_,max:y}=a;return o.slice(_,y)}return{snapsContained:l,scrollContainLimit:a}}function fde(t,e,n){const r=e[0],i=n?r-t:Us(e);return{limit:Fc(i,r)}}function hde(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Fc(s,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const g=t*(p*-1);r.forEach(_=>_.add(g))}return{loop:d}}function pde(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function mde(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=f().map(e.measure),c=p(),d=g();function f(){return a(r).map(y=>Us(y)[o]-y[0][s]).map(In)}function p(){return r.map(y=>n[s]-y[s]).map(y=>-In(y))}function g(){return a(c).map(y=>y[0]).map((y,v)=>y+l[v])}return{snaps:c,snapsAligned:d}}function gde(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=d();function d(){const p=o(s),g=!t||e==="keepSnaps";return n.length===1?[s]:g?p:p.slice(a,l).map((_,y,v)=>{const m=!y,S=KM(v,y);if(m){const E=Us(v[0])+1;return iD(E)}if(S){const E=_m(s)-Us(v)[0]+1;return iD(E,Us(v)[0])}return _})}return{slideRegistry:c}}function vde(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(_){return _.concat().sort((y,v)=>In(y)-In(v))[0]}function c(_){const y=t?o(_):a(_),v=e.map((S,E)=>({diff:d(S-y,0),index:E})).sort((S,E)=>In(S.diff)-In(E.diff)),{index:m}=v[0];return{index:m,distance:y}}function d(_,y){const v=[_,_+n,_-n];if(!t)return _;if(!y)return l(v);const m=v.filter(S=>XM(S)===y);return m.length?l(m):Us(v)-n}function f(_,y){const v=e[_]-i.get(),m=d(v,y);return{index:_,distance:m}}function p(_,y){const v=i.get()+_,{index:m,distance:S}=c(v),E=!t&&s(v);if(!y||E)return{index:m,distance:_};const T=e[m]-S,C=_+d(T,0);return{index:m,distance:C}}return{byDistance:p,byIndex:f,shortcut:d}}function yde(t,e,n,r,i,s,o){function a(f){const p=f.distance,g=f.index!==e.get();s.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function l(f,p){const g=i.byDistance(f,p);a(g)}function c(f,p){const g=e.clone().set(f),_=i.byIndex(g.get(),p);a(_)}return{distance:l,index:c}}function xde(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function _(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const S=n.findIndex(E=>E.includes(y));WM(S)&&(i.useDuration(0),r.index(S,0),o.emit("slideFocus"))}s.add(document,"keydown",f,!1),e.forEach((y,v)=>{s.add(y,"focus",m=>{(lx(a)||a(g,m))&&_(v)},l)})}function f(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Ch(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return WM(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function Dj(t,e){const n=t.scroll==="x"?s:o,r=e.style;let i=!1;function s(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function a(f){i||(r.transform=n(t.direction(f)))}function l(f){i=!f}function c(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function _de(t,e,n,r,i,s,o,a,l){const d=Lp(i),f=Lp(i).reverse(),p=m().concat(S());function g(R,A){return R.reduce((L,N)=>L-i[N],A)}function _(R,A){return R.reduce((L,N)=>g(L,A)>0?L.concat([N]):L,[])}function y(R){return s.map((A,L)=>({start:A-r[L]+.5+R,end:A+e-.5+R}))}function v(R,A,L){const N=y(A);return R.map(I=>{const V=L?0:-n,W=L?n:0,z=L?"end":"start",Q=N[I][z];return{index:I,loopPoint:Q,slideLocation:Ch(-1),translate:Dj(t,l[I]),target:()=>a.get()>Q?V:W}})}function m(){const R=o[0],A=_(f,R);return v(A,n,!1)}function S(){const R=e-o[0]-1,A=_(d,R);return v(A,-n,!0)}function E(){return p.every(({index:R})=>{const A=d.filter(L=>L!==R);return g(A,e)<=.1})}function T(){p.forEach(R=>{const{target:A,translate:L,slideLocation:N}=R,I=A();I!==N.get()&&(L.to(I),N.set(I))})}function C(){p.forEach(R=>R.translate.clear())}return{canLoop:E,clear:C,loop:T,loopPoints:p}}function wde(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(lx(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function Sde(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(_=>{l||(_.forEach(y=>{const v=e.indexOf(y.target);i[v]=y}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(_=>a.observe(_))}function d(){a&&a.disconnect(),l=!0}function f(_){return Dp(i).reduce((y,v)=>{const m=parseInt(v),{isIntersecting:S}=i[m];return(_&&S||!_&&!S)&&y.push(m),y},[])}function p(_=!0){if(_&&s)return s;if(!_&&o)return o;const y=f(_);return _&&(s=y),_||(o=y),y}return{init:c,destroy:d,get:p}}function bde(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=_(),f=y(),p=n.map(o),g=v();function _(){if(!c)return 0;const S=n[0];return In(e[a]-S[a])}function y(){if(!c)return 0;const S=s.getComputedStyle(Us(r));return parseFloat(S.getPropertyValue(`margin-${l}`))}function v(){return n.map((S,E,T)=>{const C=!E,P=KM(T,E);return C?p[E]+d:P?p[E]+f:T[E+1][a]-S[a]}).map(In)}return{slideSizes:p,slideSizesWithGaps:g,startGap:d,endGap:f}}function Ede(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:d,direction:f}=t,p=WM(n);function g(m,S){return Lp(m).filter(E=>E%S===0).map(E=>m.slice(E,E+S))}function _(m){return m.length?Lp(m).reduce((S,E,T)=>{const C=Us(S)||0,P=C===0,R=E===_m(m),A=i[c]-s[C][c],L=i[c]-s[E][d],N=!r&&P?f(o):0,I=!r&&R?f(a):0,V=In(L-I-(A+N));return T&&V>e+l&&S.push(E),R&&S.push(m.length),S},[]).map((S,E,T)=>{const C=Math.max(T[E-1]||0);return m.slice(C,S)}):[]}function y(m){return p?g(m,n):_(m)}return{groupSlides:y}}function Tde(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:p,dragFree:g,dragThreshold:_,inViewThreshold:y,slidesToScroll:v,skipSnaps:m,containScroll:S,watchResize:E,watchSlides:T,watchDrag:C,watchFocus:P}=s,R=2,A=ode(),L=A.measure(e),N=n.map(A.measure),I=rde(l,c),V=I.measureSize(L),W=ade(V),z=tde(a,V),Q=!f&&!!S,q=f||!!S,{slideSizes:se,slideSizesWithGaps:B,startGap:J,endGap:ue}=bde(I,L,N,n,q,i),ge=Ede(I,V,v,f,L,N,J,ue,R),{snaps:oe,snapsAligned:Re}=mde(I,z,L,N,ge),X=-Us(oe)+Us(B),{snapsContained:ce,scrollContainLimit:me}=dde(V,X,Re,S,R),re=Q?ce:Re,{limit:we}=fde(X,re,f),Be=Lj(_m(re),d,f),ke=Be.clone(),$e=Lp(n),j=({dragHandler:he,scrollBody:Oe,scrollBounds:at,options:{loop:Je}},We)=>{Je||at.constrain(he.pointerDown()),Oe.seek(We)},tt=({scrollBody:he,translate:Oe,location:at,offsetLocation:Je,scrollLooper:We,slideLooper:be,dragHandler:rt,animation:wt,eventHandler:ee,scrollBounds:Ue,options:{loop:Ee}},Te)=>{const Ve=he.settled(),yt=!Ue.shouldConstrain(),Nt=Ee?Ve:Ve&&yt;Nt&&!rt.pointerDown()&&(wt.stop(),ee.emit("settle")),Nt||ee.emit("scroll");const dn=at.get()*Te+nt.get()*(1-Te);Je.set(dn),Ee&&(We.loop(he.direction()),be.loop()),Oe.to(Je.get())},je=nde(r,i,he=>j(Ze,he),he=>tt(Ze,he)),st=.68,Ke=re[Be.get()],_t=Ch(Ke),nt=Ch(Ke),ot=Ch(Ke),$=Ch(Ke),k=cde(_t,ot,nt,$,p,st),de=vde(f,re,X,we,$),_e=yde(je,Be,ke,k,de,$,o),Pe=pde(we),Se=Ip(),lt=Sde(e,n,o,y),{slideRegistry:ye}=gde(Q,S,re,me,ge,$e),Ne=xde(t,n,ye,_e,k,Se,o,P),Ze={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:L,slideRects:N,animation:je,axis:I,dragHandler:ide(I,t,r,i,$,sde(I,i),_t,je,_e,k,de,Be,o,W,g,_,m,st,C),eventStore:Se,percentOfView:W,index:Be,indexPrevious:ke,limit:we,location:_t,offsetLocation:ot,previousLocation:nt,options:s,resizeHandler:lde(e,o,i,n,I,E,A),scrollBody:k,scrollBounds:ude(we,ot,$,k,W),scrollLooper:hde(X,we,ot,[_t,ot,nt,$]),scrollProgress:Pe,scrollSnapList:re.map(Pe.get),scrollSnaps:re,scrollTarget:de,scrollTo:_e,slideLooper:_de(I,V,X,se,B,oe,re,ot,n),slideFocus:Ne,slidesHandler:wde(e,o,T),slidesInView:lt,slideIndexes:$e,slideRegistry:ye,slidesToScroll:ge,target:$,translate:Dj(I,e)};return Ze}function Mde(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function s(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const Cde={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Ade(t){function e(s,o){return Nj(s,o||{})}function n(s){const o=s.breakpoints||{},a=Dp(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>Dp(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Rde(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function J0(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=Ade(i),o=Rde(s),a=Ip(),l=Mde(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=s,{on:p,off:g,emit:_}=l,y=I;let v=!1,m,S=c(Cde,J0.globalOptions),E=c(S),T=[],C,P,R;function A(){const{container:$e,slides:j}=E;P=(Zb($e)?t.querySelector($e):$e)||t.children[0];const je=Zb(j)?P.querySelectorAll(j):j;R=[].slice.call(je||P.children)}function L($e){const j=Tde(t,P,R,r,i,$e,l);if($e.loop&&!j.slideLooper.canLoop()){const tt=Object.assign({},$e,{loop:!1});return L(tt)}return j}function N($e,j){v||(S=c(S,$e),E=d(S),T=j||T,A(),m=L(E),f([S,...T.map(({options:tt})=>tt)]).forEach(tt=>a.add(tt,"change",I)),E.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(ke),m.eventHandler.init(ke),m.resizeHandler.init(ke),m.slidesHandler.init(ke),m.options.loop&&m.slideLooper.loop(),P.offsetParent&&R.length&&m.dragHandler.init(ke),C=o.init(ke,T)))}function I($e,j){const tt=ge();V(),N(c({startIndex:tt},$e),j),l.emit("reInit")}function V(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),o.destroy(),a.clear()}function W(){v||(v=!0,a.clear(),V(),l.emit("destroy"),l.clear())}function z($e,j,tt){!E.active||v||(m.scrollBody.useBaseFriction().useDuration(j===!0?0:E.duration),m.scrollTo.index($e,tt||0))}function Q($e){const j=m.index.add(1).get();z(j,$e,-1)}function q($e){const j=m.index.add(-1).get();z(j,$e,1)}function se(){return m.index.add(1).get()!==ge()}function B(){return m.index.add(-1).get()!==ge()}function J(){return m.scrollSnapList}function ue(){return m.scrollProgress.get(m.location.get())}function ge(){return m.index.get()}function oe(){return m.indexPrevious.get()}function Re(){return m.slidesInView.get()}function X(){return m.slidesInView.get(!1)}function ce(){return C}function me(){return m}function re(){return t}function we(){return P}function Be(){return R}const ke={canScrollNext:se,canScrollPrev:B,containerNode:we,internalEngine:me,destroy:W,off:g,on:p,emit:_,plugins:ce,previousScrollSnap:oe,reInit:y,rootNode:re,scrollNext:Q,scrollPrev:q,scrollProgress:ue,scrollSnapList:J,scrollTo:z,selectedScrollSnap:ge,slideNodes:Be,slidesInView:Re,slidesNotInView:X};return N(e,n),setTimeout(()=>l.emit("init"),0),ke}J0.globalOptions=void 0;function qM(t={},e=[]){const n=w.useRef(t),r=w.useRef(e),[i,s]=w.useState(),[o,a]=w.useState(),l=w.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return w.useEffect(()=>{GM(n.current,t)||(n.current=t,l())},[t,l]),w.useEffect(()=>{Que(r.current,e)||(r.current=e,l())},[e,l]),w.useEffect(()=>{if(Jue()&&o){J0.globalOptions=qM.globalOptions;const c=J0(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}qM.globalOptions=void 0;const Ij=w.createContext(null);function cx(){const t=w.useContext(Ij);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Oj=w.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=qM({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=w.useState(!1),[p,g]=w.useState(!1),_=w.useCallback(S=>{S&&(f(S.canScrollPrev()),g(S.canScrollNext()))},[]),y=w.useCallback(()=>{c==null||c.scrollPrev()},[c]),v=w.useCallback(()=>{c==null||c.scrollNext()},[c]),m=w.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),y()):S.key==="ArrowRight"&&(S.preventDefault(),v())},[y,v]);return w.useEffect(()=>{!c||!n||n(c)},[c,n]),w.useEffect(()=>{if(c)return _(c),c.on("reInit",_),c.on("select",_),()=>{c==null||c.off("select",_)}},[c,_]),x.jsx(Ij.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:v,canScrollPrev:d,canScrollNext:p},children:x.jsx("div",{ref:a,onKeyDownCapture:m,className:Ae("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});Oj.displayName="Carousel";const kj=w.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=cx();return x.jsx("div",{ref:r,className:"overflow-hidden",children:x.jsx("div",{ref:n,className:Ae("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});kj.displayName="CarouselContent";const Uj=w.forwardRef(({className:t,...e},n)=>{const{orientation:r}=cx();return x.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:Ae("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});Uj.displayName="CarouselItem";const Pde=w.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=cx();return x.jsxs(ln,{ref:i,variant:e,size:n,className:Ae("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[x.jsx(sse,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Pde.displayName="CarouselPrevious";const Nde=w.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=cx();return x.jsxs(ln,{ref:i,variant:e,size:n,className:Ae("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[x.jsx(ase,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Next slide"})]})});Nde.displayName="CarouselNext";function Lde({collection:t}){const[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,o]=w.useState(null);return w.useEffect(()=>{async function a(){i(!0),o(null);try{const{data:l,error:c}=await rn.from("products").select("*").eq("collection",t);if(c)throw c;n(l||[])}catch(l){o(l.message||"Failed to fetch products.")}finally{i(!1)}}a()},[t]),{products:e,loading:r,error:s}}function ux(t,e){return Array.from(new Array(t)).map(()=>e)}const Dde={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function YM(t={}){let e,n,r,i=!1,s=!0,o=!1,a=0;function l(T,C){n=T;const{mergeOptions:P,optionsAtMedia:R}=C,A=P(Dde,YM.globalOptions),L=P(A,t);if(e=R(L),n.scrollSnapList().length<=1)return;o=e.jump,r=!1;const{eventStore:N,ownerDocument:I}=n.internalEngine(),V=n.rootNode(),W=e.rootNode&&e.rootNode(V)||V,z=n.containerNode();n.on("pointerDown",f),e.stopOnInteraction||n.on("pointerUp",d),e.stopOnMouseEnter&&(N.add(W,"mouseenter",()=>{s=!1,f()}),e.stopOnInteraction||N.add(W,"mouseleave",()=>{s=!0,d()})),e.stopOnFocusIn&&(n.on("slideFocusStart",f),e.stopOnInteraction||N.add(z,"focusout",d)),N.add(I,"visibilitychange",p),e.playOnInit&&!g()&&d()}function c(){n.off("pointerDown",f).off("pointerUp",d).off("slideFocusStart",f),f(),r=!0,i=!1}function d(){if(r||!s)return;i||n.emit("autoplay:play");const{ownerWindow:T}=n.internalEngine();T.clearInterval(a),a=T.setInterval(S,e.delay),i=!0}function f(){if(r)return;i&&n.emit("autoplay:stop");const{ownerWindow:T}=n.internalEngine();T.clearInterval(a),a=0,i=!1}function p(){if(g())return s=i,f();s&&d()}function g(){const{ownerDocument:T}=n.internalEngine();return T.visibilityState==="hidden"}function _(T){typeof T<"u"&&(o=T),s=!0,d()}function y(){i&&f()}function v(){i&&_()}function m(){return i}function S(){const{index:T}=n.internalEngine(),C=T.clone().add(1).get(),P=n.scrollSnapList().length-1;e.stopOnLastSnap&&C===P&&f(),n.canScrollNext()?n.scrollNext(o):n.scrollTo(0,o)}return{name:"autoplay",options:t,init:l,destroy:c,play:_,stop:y,reset:v,isPlaying:m}}YM.globalOptions=void 0;const Ide=(...t)=>{console!=null&&console.warn&&(Sc(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t))},sD={},Qb=(...t)=>{Sc(t[0])&&sD[t[0]]||(Sc(t[0])&&(sD[t[0]]=new Date),Ide(...t))},Fj=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},oD=(t,e,n)=>{t.loadNamespaces(e,Fj(t,n))},aD=(t,e,n,r)=>{Sc(n)&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Fj(t,r))},Ode=(t,e,n={})=>!e.languages||!e.languages.length?(Qb("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Sc=t=>typeof t=="string",kde=t=>typeof t=="object"&&t!==null,Ude=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Fde={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},jde=t=>Fde[t],Bde=t=>t.replace(Ude,jde);let eE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Bde};const zde=(t={})=>{eE={...eE,...t}},Vde=()=>eE;let jj;const $de=t=>{jj=t},Hde=()=>jj,Gde={type:"3rdParty",init(t){zde(t.options.react),$de(t)}},Wde=w.createContext();class Xde{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Kde=(t,e)=>{const n=w.useRef();return w.useEffect(()=>{n.current=t},[t,e]),n.current},Bj=(t,e,n,r)=>t.getFixedT(e,n,r),qde=(t,e,n,r)=>w.useCallback(Bj(t,e,n,r),[t,e,n,r]),hs=(t,e={})=>{var T,C,P,R;const{i18n:n}=e,{i18n:r,defaultNS:i}=w.useContext(Wde)||{},s=n||r||Hde();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Xde),!s){Qb("You will need to pass in an i18next instance by using initReactI18next");const A=(N,I)=>Sc(I)?I:kde(I)&&Sc(I.defaultValue)?I.defaultValue:Array.isArray(N)?N[N.length-1]:N,L=[A,{},!1];return L.t=A,L.i18n={},L.ready=!1,L}(T=s.options.react)!=null&&T.wait&&Qb("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Vde(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||((C=s.options)==null?void 0:C.defaultNS);c=Sc(c)?[c]:c||["translation"],(R=(P=s.reportNamespaces).addUsedNamespaces)==null||R.call(P,c);const d=(s.isInitialized||s.initializedStoreOnce)&&c.every(A=>Ode(A,s,o)),f=qde(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),p=()=>f,g=()=>Bj(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[_,y]=w.useState(p);let v=c.join();e.lng&&(v=`${e.lng}${v}`);const m=Kde(v),S=w.useRef(!0);w.useEffect(()=>{const{bindI18n:A,bindI18nStore:L}=o;S.current=!0,!d&&!a&&(e.lng?aD(s,e.lng,c,()=>{S.current&&y(g)}):oD(s,c,()=>{S.current&&y(g)})),d&&m&&m!==v&&S.current&&y(g);const N=()=>{S.current&&y(g)};return A&&(s==null||s.on(A,N)),L&&(s==null||s.store.on(L,N)),()=>{S.current=!1,s&&(A==null||A.split(" ").forEach(I=>s.off(I,N))),L&&s&&L.split(" ").forEach(I=>s.store.off(I,N))}},[s,v]),w.useEffect(()=>{S.current&&d&&y(p)},[s,l,d]);const E=[_,s,d];if(E.t=_,E.i18n=s,E.ready=d,d||!d&&!a)return E;throw new Promise(A=>{e.lng?aD(s,e.lng,c,()=>A()):oD(s,c,()=>A())})},ZM="/assets/statue-CZ1rd6zW.svg";function Yde(){const t=w.useRef(YM({delay:2e3,stopOnInteraction:!0})),{products:e,loading:n}=Lde({collection:1}),[r,{language:i}]=hs();return x.jsxs("div",{className:Ae("mb-12 flex w-screen flex-col items-center justify-evenly gap-4 bg-white p-4",i==="en"?"bebas-neue-regular":"alexandria"),children:[x.jsx("p",{className:Ae("text-center text-6xl text-background"),children:r("collections.mensEssentials")}),x.jsx("p",{className:"text-center text-xl text-background",children:r("collections.mensEssentialsDescription")}),x.jsx(Oj,{className:"gap-2 p-2",opts:{align:"center",loop:!0},plugins:[t.current],children:x.jsx(kj,{children:!n&&e?e.map((s,o)=>x.jsx(Uj,{className:"flex justify-center md:basis-1/5",children:x.jsx(Yue,{product:s},o)})):ux(5,x.jsx("img",{src:ZM,alt:"thumbnail",className:"h-[512px] md:basis-1/5 animate-pulse",style:{width:"100%"}}))})})]})}const Q0="/assets/pristiale-black-kYL-X-RH.svg",lD=zy,cD=mM,Zde=Vy,zj=w.forwardRef(({className:t,...e},n)=>x.jsx(gf,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zj.displayName=gf.displayName;const Jde=im("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),JM=w.forwardRef(({side:t="right",className:e,children:n,...r},i)=>x.jsxs(Zde,{children:[x.jsx(zj,{}),x.jsxs(vf,{ref:i,className:Ae(Jde({side:t}),e),...r,children:[x.jsxs(fm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[x.jsx(jF,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));JM.displayName=vf.displayName;const QM=({className:t,...e})=>x.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});QM.displayName="SheetHeader";const eC=w.forwardRef(({className:t,...e},n)=>x.jsx(yf,{ref:n,className:Ae("text-lg font-semibold text-foreground",t),...e}));eC.displayName=yf.displayName;const Vj=w.forwardRef(({className:t,...e},n)=>x.jsx(xf,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));Vj.displayName=xf.displayName;var ey={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ey.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,p=2,g=4,_=1,y=2,v=1,m=2,S=4,E=8,T=16,C=32,P=64,R=128,A=256,L=512,N=30,I="...",V=800,W=16,z=1,Q=2,q=3,se=1/0,B=9007199254740991,J=17976931348623157e292,ue=NaN,ge=4294967295,oe=ge-1,Re=ge>>>1,X=[["ary",R],["bind",v],["bindKey",m],["curry",E],["curryRight",T],["flip",L],["partial",C],["partialRight",P],["rearg",A]],ce="[object Arguments]",me="[object Array]",re="[object AsyncFunction]",we="[object Boolean]",Be="[object Date]",ke="[object DOMException]",$e="[object Error]",j="[object Function]",tt="[object GeneratorFunction]",je="[object Map]",st="[object Number]",Ke="[object Null]",_t="[object Object]",nt="[object Promise]",ot="[object Proxy]",$="[object RegExp]",k="[object Set]",de="[object String]",_e="[object Symbol]",Pe="[object Undefined]",Se="[object WeakMap]",lt="[object WeakSet]",ye="[object ArrayBuffer]",Ne="[object DataView]",Ze="[object Float32Array]",he="[object Float64Array]",Oe="[object Int8Array]",at="[object Int16Array]",Je="[object Int32Array]",We="[object Uint8Array]",be="[object Uint8ClampedArray]",rt="[object Uint16Array]",wt="[object Uint32Array]",ee=/\b__p \+= '';/g,Ue=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,Ve=/[&<>"']/g,yt=RegExp(Te.source),Nt=RegExp(Ve.source),dn=/<%-([\s\S]+?)%>/g,zn=/<%([\s\S]+?)%>/g,Wt=/<%=([\s\S]+?)%>/g,vi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/,po=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sr=/[\\^$.*+?()[\]{}|]/g,la=RegExp(Sr.source),ca=/^\s+/,Jc=/\s/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ne=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,De=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,it=/[()=,{}\[\]\/\s]/,mt=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ye=/\w*$/,O=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,Z=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,te=/^(?:0|[1-9]\d*)$/,Le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,qe=/['\n\r\u2028\u2029\\]/g,He="\\ud800-\\udfff",xt="\\u0300-\\u036f",gt="\\ufe20-\\ufe2f",dt="\\u20d0-\\u20ff",It=xt+gt+dt,sn="\\u2700-\\u27bf",Kt="a-z\\xdf-\\xf6\\xf8-\\xff",Kn="\\xac\\xb1\\xd7\\xf7",Vt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ft="\\u2000-\\u206f",ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vt="A-Z\\xc0-\\xd6\\xd8-\\xde",fn="\\ufe0e\\ufe0f",en=Kn+Vt+ft+ht,gn="['’]",ua="["+He+"]",wn="["+en+"]",yi="["+It+"]",Qc="\\d+",Zr="["+sn+"]",eu="["+Kt+"]",Nm="[^"+He+en+Qc+sn+Kt+vt+"]",tu="\\ud83c[\\udffb-\\udfff]",V8="(?:"+yi+"|"+tu+")",vA="[^"+He+"]",jx="(?:\\ud83c[\\udde6-\\uddff]){2}",Bx="[\\ud800-\\udbff][\\udc00-\\udfff]",nu="["+vt+"]",yA="\\u200d",xA="(?:"+eu+"|"+Nm+")",$8="(?:"+nu+"|"+Nm+")",_A="(?:"+gn+"(?:d|ll|m|re|s|t|ve))?",wA="(?:"+gn+"(?:D|LL|M|RE|S|T|VE))?",SA=V8+"?",bA="["+fn+"]?",H8="(?:"+yA+"(?:"+[vA,jx,Bx].join("|")+")"+bA+SA+")*",G8="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",W8="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",EA=bA+SA+H8,X8="(?:"+[Zr,jx,Bx].join("|")+")"+EA,K8="(?:"+[vA+yi+"?",yi,jx,Bx,ua].join("|")+")",q8=RegExp(gn,"g"),Y8=RegExp(yi,"g"),zx=RegExp(tu+"(?="+tu+")|"+K8+EA,"g"),Z8=RegExp([nu+"?"+eu+"+"+_A+"(?="+[wn,nu,"$"].join("|")+")",$8+"+"+wA+"(?="+[wn,nu+xA,"$"].join("|")+")",nu+"?"+xA+"+"+_A,nu+"+"+wA,W8,G8,Qc,X8].join("|"),"g"),J8=RegExp("["+yA+He+It+fn+"]"),Q8=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,e$=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],t$=-1,Sn={};Sn[Ze]=Sn[he]=Sn[Oe]=Sn[at]=Sn[Je]=Sn[We]=Sn[be]=Sn[rt]=Sn[wt]=!0,Sn[ce]=Sn[me]=Sn[ye]=Sn[we]=Sn[Ne]=Sn[Be]=Sn[$e]=Sn[j]=Sn[je]=Sn[st]=Sn[_t]=Sn[$]=Sn[k]=Sn[de]=Sn[Se]=!1;var yn={};yn[ce]=yn[me]=yn[ye]=yn[Ne]=yn[we]=yn[Be]=yn[Ze]=yn[he]=yn[Oe]=yn[at]=yn[Je]=yn[je]=yn[st]=yn[_t]=yn[$]=yn[k]=yn[de]=yn[_e]=yn[We]=yn[be]=yn[rt]=yn[wt]=!0,yn[$e]=yn[j]=yn[Se]=!1;var n$={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},r$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},s$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},o$=parseFloat,a$=parseInt,TA=typeof yr=="object"&&yr&&yr.Object===Object&&yr,l$=typeof self=="object"&&self&&self.Object===Object&&self,pr=TA||l$||Function("return this")(),Vx=e&&!e.nodeType&&e,kl=Vx&&!0&&t&&!t.nodeType&&t,MA=kl&&kl.exports===Vx,$x=MA&&TA.process,Vi=function(){try{var ie=kl&&kl.require&&kl.require("util").types;return ie||$x&&$x.binding&&$x.binding("util")}catch{}}(),CA=Vi&&Vi.isArrayBuffer,AA=Vi&&Vi.isDate,RA=Vi&&Vi.isMap,PA=Vi&&Vi.isRegExp,NA=Vi&&Vi.isSet,LA=Vi&&Vi.isTypedArray;function xi(ie,xe,ve){switch(ve.length){case 0:return ie.call(xe);case 1:return ie.call(xe,ve[0]);case 2:return ie.call(xe,ve[0],ve[1]);case 3:return ie.call(xe,ve[0],ve[1],ve[2])}return ie.apply(xe,ve)}function c$(ie,xe,ve,ct){for(var Rt=-1,nn=ie==null?0:ie.length;++Rt<nn;){var Qn=ie[Rt];xe(ct,Qn,ve(Qn),ie)}return ct}function $i(ie,xe){for(var ve=-1,ct=ie==null?0:ie.length;++ve<ct&&xe(ie[ve],ve,ie)!==!1;);return ie}function u$(ie,xe){for(var ve=ie==null?0:ie.length;ve--&&xe(ie[ve],ve,ie)!==!1;);return ie}function DA(ie,xe){for(var ve=-1,ct=ie==null?0:ie.length;++ve<ct;)if(!xe(ie[ve],ve,ie))return!1;return!0}function da(ie,xe){for(var ve=-1,ct=ie==null?0:ie.length,Rt=0,nn=[];++ve<ct;){var Qn=ie[ve];xe(Qn,ve,ie)&&(nn[Rt++]=Qn)}return nn}function Lm(ie,xe){var ve=ie==null?0:ie.length;return!!ve&&ru(ie,xe,0)>-1}function Hx(ie,xe,ve){for(var ct=-1,Rt=ie==null?0:ie.length;++ct<Rt;)if(ve(xe,ie[ct]))return!0;return!1}function An(ie,xe){for(var ve=-1,ct=ie==null?0:ie.length,Rt=Array(ct);++ve<ct;)Rt[ve]=xe(ie[ve],ve,ie);return Rt}function fa(ie,xe){for(var ve=-1,ct=xe.length,Rt=ie.length;++ve<ct;)ie[Rt+ve]=xe[ve];return ie}function Gx(ie,xe,ve,ct){var Rt=-1,nn=ie==null?0:ie.length;for(ct&&nn&&(ve=ie[++Rt]);++Rt<nn;)ve=xe(ve,ie[Rt],Rt,ie);return ve}function d$(ie,xe,ve,ct){var Rt=ie==null?0:ie.length;for(ct&&Rt&&(ve=ie[--Rt]);Rt--;)ve=xe(ve,ie[Rt],Rt,ie);return ve}function Wx(ie,xe){for(var ve=-1,ct=ie==null?0:ie.length;++ve<ct;)if(xe(ie[ve],ve,ie))return!0;return!1}var f$=Xx("length");function h$(ie){return ie.split("")}function p$(ie){return ie.match(De)||[]}function IA(ie,xe,ve){var ct;return ve(ie,function(Rt,nn,Qn){if(xe(Rt,nn,Qn))return ct=nn,!1}),ct}function Dm(ie,xe,ve,ct){for(var Rt=ie.length,nn=ve+(ct?1:-1);ct?nn--:++nn<Rt;)if(xe(ie[nn],nn,ie))return nn;return-1}function ru(ie,xe,ve){return xe===xe?M$(ie,xe,ve):Dm(ie,OA,ve)}function m$(ie,xe,ve,ct){for(var Rt=ve-1,nn=ie.length;++Rt<nn;)if(ct(ie[Rt],xe))return Rt;return-1}function OA(ie){return ie!==ie}function kA(ie,xe){var ve=ie==null?0:ie.length;return ve?qx(ie,xe)/ve:ue}function Xx(ie){return function(xe){return xe==null?n:xe[ie]}}function Kx(ie){return function(xe){return ie==null?n:ie[xe]}}function UA(ie,xe,ve,ct,Rt){return Rt(ie,function(nn,Qn,vn){ve=ct?(ct=!1,nn):xe(ve,nn,Qn,vn)}),ve}function g$(ie,xe){var ve=ie.length;for(ie.sort(xe);ve--;)ie[ve]=ie[ve].value;return ie}function qx(ie,xe){for(var ve,ct=-1,Rt=ie.length;++ct<Rt;){var nn=xe(ie[ct]);nn!==n&&(ve=ve===n?nn:ve+nn)}return ve}function Yx(ie,xe){for(var ve=-1,ct=Array(ie);++ve<ie;)ct[ve]=xe(ve);return ct}function v$(ie,xe){return An(xe,function(ve){return[ve,ie[ve]]})}function FA(ie){return ie&&ie.slice(0,VA(ie)+1).replace(ca,"")}function _i(ie){return function(xe){return ie(xe)}}function Zx(ie,xe){return An(xe,function(ve){return ie[ve]})}function Af(ie,xe){return ie.has(xe)}function jA(ie,xe){for(var ve=-1,ct=ie.length;++ve<ct&&ru(xe,ie[ve],0)>-1;);return ve}function BA(ie,xe){for(var ve=ie.length;ve--&&ru(xe,ie[ve],0)>-1;);return ve}function y$(ie,xe){for(var ve=ie.length,ct=0;ve--;)ie[ve]===xe&&++ct;return ct}var x$=Kx(n$),_$=Kx(r$);function w$(ie){return"\\"+s$[ie]}function S$(ie,xe){return ie==null?n:ie[xe]}function iu(ie){return J8.test(ie)}function b$(ie){return Q8.test(ie)}function E$(ie){for(var xe,ve=[];!(xe=ie.next()).done;)ve.push(xe.value);return ve}function Jx(ie){var xe=-1,ve=Array(ie.size);return ie.forEach(function(ct,Rt){ve[++xe]=[Rt,ct]}),ve}function zA(ie,xe){return function(ve){return ie(xe(ve))}}function ha(ie,xe){for(var ve=-1,ct=ie.length,Rt=0,nn=[];++ve<ct;){var Qn=ie[ve];(Qn===xe||Qn===d)&&(ie[ve]=d,nn[Rt++]=ve)}return nn}function Im(ie){var xe=-1,ve=Array(ie.size);return ie.forEach(function(ct){ve[++xe]=ct}),ve}function T$(ie){var xe=-1,ve=Array(ie.size);return ie.forEach(function(ct){ve[++xe]=[ct,ct]}),ve}function M$(ie,xe,ve){for(var ct=ve-1,Rt=ie.length;++ct<Rt;)if(ie[ct]===xe)return ct;return-1}function C$(ie,xe,ve){for(var ct=ve+1;ct--;)if(ie[ct]===xe)return ct;return ct}function su(ie){return iu(ie)?R$(ie):f$(ie)}function ms(ie){return iu(ie)?P$(ie):h$(ie)}function VA(ie){for(var xe=ie.length;xe--&&Jc.test(ie.charAt(xe)););return xe}var A$=Kx(i$);function R$(ie){for(var xe=zx.lastIndex=0;zx.test(ie);)++xe;return xe}function P$(ie){return ie.match(zx)||[]}function N$(ie){return ie.match(Z8)||[]}var L$=function ie(xe){xe=xe==null?pr:ou.defaults(pr.Object(),xe,ou.pick(pr,e$));var ve=xe.Array,ct=xe.Date,Rt=xe.Error,nn=xe.Function,Qn=xe.Math,vn=xe.Object,Qx=xe.RegExp,D$=xe.String,Hi=xe.TypeError,Om=ve.prototype,I$=nn.prototype,au=vn.prototype,km=xe["__core-js_shared__"],Um=I$.toString,cn=au.hasOwnProperty,O$=0,$A=function(){var u=/[^.]+$/.exec(km&&km.keys&&km.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Fm=au.toString,k$=Um.call(vn),U$=pr._,F$=Qx("^"+Um.call(cn).replace(Sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jm=MA?xe.Buffer:n,pa=xe.Symbol,Bm=xe.Uint8Array,HA=jm?jm.allocUnsafe:n,zm=zA(vn.getPrototypeOf,vn),GA=vn.create,WA=au.propertyIsEnumerable,Vm=Om.splice,XA=pa?pa.isConcatSpreadable:n,Rf=pa?pa.iterator:n,Ul=pa?pa.toStringTag:n,$m=function(){try{var u=Vl(vn,"defineProperty");return u({},"",{}),u}catch{}}(),j$=xe.clearTimeout!==pr.clearTimeout&&xe.clearTimeout,B$=ct&&ct.now!==pr.Date.now&&ct.now,z$=xe.setTimeout!==pr.setTimeout&&xe.setTimeout,Hm=Qn.ceil,Gm=Qn.floor,e_=vn.getOwnPropertySymbols,V$=jm?jm.isBuffer:n,KA=xe.isFinite,$$=Om.join,H$=zA(vn.keys,vn),er=Qn.max,br=Qn.min,G$=ct.now,W$=xe.parseInt,qA=Qn.random,X$=Om.reverse,t_=Vl(xe,"DataView"),Pf=Vl(xe,"Map"),n_=Vl(xe,"Promise"),lu=Vl(xe,"Set"),Nf=Vl(xe,"WeakMap"),Lf=Vl(vn,"create"),Wm=Nf&&new Nf,cu={},K$=$l(t_),q$=$l(Pf),Y$=$l(n_),Z$=$l(lu),J$=$l(Nf),Xm=pa?pa.prototype:n,Df=Xm?Xm.valueOf:n,YA=Xm?Xm.toString:n;function U(u){if(Fn(u)&&!Lt(u)&&!(u instanceof Xt)){if(u instanceof Gi)return u;if(cn.call(u,"__wrapped__"))return ZR(u)}return new Gi(u)}var uu=function(){function u(){}return function(h){if(!Pn(h))return{};if(GA)return GA(h);u.prototype=h;var b=new u;return u.prototype=n,b}}();function Km(){}function Gi(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=n}U.templateSettings={escape:dn,evaluate:zn,interpolate:Wt,variable:"",imports:{_:U}},U.prototype=Km.prototype,U.prototype.constructor=U,Gi.prototype=uu(Km.prototype),Gi.prototype.constructor=Gi;function Xt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function Q$(){var u=new Xt(this.__wrapped__);return u.__actions__=Jr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Jr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Jr(this.__views__),u}function e6(){if(this.__filtered__){var u=new Xt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function t6(){var u=this.__wrapped__.value(),h=this.__dir__,b=Lt(u),M=h<0,D=b?u.length:0,F=hH(0,D,this.__views__),H=F.start,Y=F.end,le=Y-H,Me=M?Y:H-1,Ce=this.__iteratees__,Fe=Ce.length,Qe=0,pt=br(le,this.__takeCount__);if(!b||!M&&D==le&&pt==le)return _R(u,this.__actions__);var Et=[];e:for(;le--&&Qe<pt;){Me+=h;for(var Ut=-1,Tt=u[Me];++Ut<Fe;){var $t=Ce[Ut],qt=$t.iteratee,bi=$t.type,Br=qt(Tt);if(bi==Q)Tt=Br;else if(!Br){if(bi==z)continue e;break e}}Et[Qe++]=Tt}return Et}Xt.prototype=uu(Km.prototype),Xt.prototype.constructor=Xt;function Fl(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var M=u[h];this.set(M[0],M[1])}}function n6(){this.__data__=Lf?Lf(null):{},this.size=0}function r6(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function i6(u){var h=this.__data__;if(Lf){var b=h[u];return b===l?n:b}return cn.call(h,u)?h[u]:n}function s6(u){var h=this.__data__;return Lf?h[u]!==n:cn.call(h,u)}function o6(u,h){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Lf&&h===n?l:h,this}Fl.prototype.clear=n6,Fl.prototype.delete=r6,Fl.prototype.get=i6,Fl.prototype.has=s6,Fl.prototype.set=o6;function mo(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var M=u[h];this.set(M[0],M[1])}}function a6(){this.__data__=[],this.size=0}function l6(u){var h=this.__data__,b=qm(h,u);if(b<0)return!1;var M=h.length-1;return b==M?h.pop():Vm.call(h,b,1),--this.size,!0}function c6(u){var h=this.__data__,b=qm(h,u);return b<0?n:h[b][1]}function u6(u){return qm(this.__data__,u)>-1}function d6(u,h){var b=this.__data__,M=qm(b,u);return M<0?(++this.size,b.push([u,h])):b[M][1]=h,this}mo.prototype.clear=a6,mo.prototype.delete=l6,mo.prototype.get=c6,mo.prototype.has=u6,mo.prototype.set=d6;function go(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var M=u[h];this.set(M[0],M[1])}}function f6(){this.size=0,this.__data__={hash:new Fl,map:new(Pf||mo),string:new Fl}}function h6(u){var h=ag(this,u).delete(u);return this.size-=h?1:0,h}function p6(u){return ag(this,u).get(u)}function m6(u){return ag(this,u).has(u)}function g6(u,h){var b=ag(this,u),M=b.size;return b.set(u,h),this.size+=b.size==M?0:1,this}go.prototype.clear=f6,go.prototype.delete=h6,go.prototype.get=p6,go.prototype.has=m6,go.prototype.set=g6;function jl(u){var h=-1,b=u==null?0:u.length;for(this.__data__=new go;++h<b;)this.add(u[h])}function v6(u){return this.__data__.set(u,l),this}function y6(u){return this.__data__.has(u)}jl.prototype.add=jl.prototype.push=v6,jl.prototype.has=y6;function gs(u){var h=this.__data__=new mo(u);this.size=h.size}function x6(){this.__data__=new mo,this.size=0}function _6(u){var h=this.__data__,b=h.delete(u);return this.size=h.size,b}function w6(u){return this.__data__.get(u)}function S6(u){return this.__data__.has(u)}function b6(u,h){var b=this.__data__;if(b instanceof mo){var M=b.__data__;if(!Pf||M.length<i-1)return M.push([u,h]),this.size=++b.size,this;b=this.__data__=new go(M)}return b.set(u,h),this.size=b.size,this}gs.prototype.clear=x6,gs.prototype.delete=_6,gs.prototype.get=w6,gs.prototype.has=S6,gs.prototype.set=b6;function ZA(u,h){var b=Lt(u),M=!b&&Hl(u),D=!b&&!M&&xa(u),F=!b&&!M&&!D&&pu(u),H=b||M||D||F,Y=H?Yx(u.length,D$):[],le=Y.length;for(var Me in u)(h||cn.call(u,Me))&&!(H&&(Me=="length"||D&&(Me=="offset"||Me=="parent")||F&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||_o(Me,le)))&&Y.push(Me);return Y}function JA(u){var h=u.length;return h?u[h_(0,h-1)]:n}function E6(u,h){return lg(Jr(u),Bl(h,0,u.length))}function T6(u){return lg(Jr(u))}function r_(u,h,b){(b!==n&&!vs(u[h],b)||b===n&&!(h in u))&&vo(u,h,b)}function If(u,h,b){var M=u[h];(!(cn.call(u,h)&&vs(M,b))||b===n&&!(h in u))&&vo(u,h,b)}function qm(u,h){for(var b=u.length;b--;)if(vs(u[b][0],h))return b;return-1}function M6(u,h,b,M){return ma(u,function(D,F,H){h(M,D,b(D),H)}),M}function QA(u,h){return u&&Ws(h,cr(h),u)}function C6(u,h){return u&&Ws(h,ei(h),u)}function vo(u,h,b){h=="__proto__"&&$m?$m(u,h,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[h]=b}function i_(u,h){for(var b=-1,M=h.length,D=ve(M),F=u==null;++b<M;)D[b]=F?n:F_(u,h[b]);return D}function Bl(u,h,b){return u===u&&(b!==n&&(u=u<=b?u:b),h!==n&&(u=u>=h?u:h)),u}function Wi(u,h,b,M,D,F){var H,Y=h&f,le=h&p,Me=h&g;if(b&&(H=D?b(u,M,D,F):b(u)),H!==n)return H;if(!Pn(u))return u;var Ce=Lt(u);if(Ce){if(H=mH(u),!Y)return Jr(u,H)}else{var Fe=Er(u),Qe=Fe==j||Fe==tt;if(xa(u))return bR(u,Y);if(Fe==_t||Fe==ce||Qe&&!D){if(H=le||Qe?{}:VR(u),!Y)return le?iH(u,C6(H,u)):rH(u,QA(H,u))}else{if(!yn[Fe])return D?u:{};H=gH(u,Fe,Y)}}F||(F=new gs);var pt=F.get(u);if(pt)return pt;F.set(u,H),vP(u)?u.forEach(function(Tt){H.add(Wi(Tt,h,b,Tt,u,F))}):mP(u)&&u.forEach(function(Tt,$t){H.set($t,Wi(Tt,h,b,$t,u,F))});var Et=Me?le?E_:b_:le?ei:cr,Ut=Ce?n:Et(u);return $i(Ut||u,function(Tt,$t){Ut&&($t=Tt,Tt=u[$t]),If(H,$t,Wi(Tt,h,b,$t,u,F))}),H}function A6(u){var h=cr(u);return function(b){return eR(b,u,h)}}function eR(u,h,b){var M=b.length;if(u==null)return!M;for(u=vn(u);M--;){var D=b[M],F=h[D],H=u[D];if(H===n&&!(D in u)||!F(H))return!1}return!0}function tR(u,h,b){if(typeof u!="function")throw new Hi(o);return zf(function(){u.apply(n,b)},h)}function Of(u,h,b,M){var D=-1,F=Lm,H=!0,Y=u.length,le=[],Me=h.length;if(!Y)return le;b&&(h=An(h,_i(b))),M?(F=Hx,H=!1):h.length>=i&&(F=Af,H=!1,h=new jl(h));e:for(;++D<Y;){var Ce=u[D],Fe=b==null?Ce:b(Ce);if(Ce=M||Ce!==0?Ce:0,H&&Fe===Fe){for(var Qe=Me;Qe--;)if(h[Qe]===Fe)continue e;le.push(Ce)}else F(h,Fe,M)||le.push(Ce)}return le}var ma=AR(Gs),nR=AR(o_,!0);function R6(u,h){var b=!0;return ma(u,function(M,D,F){return b=!!h(M,D,F),b}),b}function Ym(u,h,b){for(var M=-1,D=u.length;++M<D;){var F=u[M],H=h(F);if(H!=null&&(Y===n?H===H&&!Si(H):b(H,Y)))var Y=H,le=F}return le}function P6(u,h,b,M){var D=u.length;for(b=Ot(b),b<0&&(b=-b>D?0:D+b),M=M===n||M>D?D:Ot(M),M<0&&(M+=D),M=b>M?0:xP(M);b<M;)u[b++]=h;return u}function rR(u,h){var b=[];return ma(u,function(M,D,F){h(M,D,F)&&b.push(M)}),b}function mr(u,h,b,M,D){var F=-1,H=u.length;for(b||(b=yH),D||(D=[]);++F<H;){var Y=u[F];h>0&&b(Y)?h>1?mr(Y,h-1,b,M,D):fa(D,Y):M||(D[D.length]=Y)}return D}var s_=RR(),iR=RR(!0);function Gs(u,h){return u&&s_(u,h,cr)}function o_(u,h){return u&&iR(u,h,cr)}function Zm(u,h){return da(h,function(b){return wo(u[b])})}function zl(u,h){h=va(h,u);for(var b=0,M=h.length;u!=null&&b<M;)u=u[Xs(h[b++])];return b&&b==M?u:n}function sR(u,h,b){var M=h(u);return Lt(u)?M:fa(M,b(u))}function Fr(u){return u==null?u===n?Pe:Ke:Ul&&Ul in vn(u)?fH(u):TH(u)}function a_(u,h){return u>h}function N6(u,h){return u!=null&&cn.call(u,h)}function L6(u,h){return u!=null&&h in vn(u)}function D6(u,h,b){return u>=br(h,b)&&u<er(h,b)}function l_(u,h,b){for(var M=b?Hx:Lm,D=u[0].length,F=u.length,H=F,Y=ve(F),le=1/0,Me=[];H--;){var Ce=u[H];H&&h&&(Ce=An(Ce,_i(h))),le=br(Ce.length,le),Y[H]=!b&&(h||D>=120&&Ce.length>=120)?new jl(H&&Ce):n}Ce=u[0];var Fe=-1,Qe=Y[0];e:for(;++Fe<D&&Me.length<le;){var pt=Ce[Fe],Et=h?h(pt):pt;if(pt=b||pt!==0?pt:0,!(Qe?Af(Qe,Et):M(Me,Et,b))){for(H=F;--H;){var Ut=Y[H];if(!(Ut?Af(Ut,Et):M(u[H],Et,b)))continue e}Qe&&Qe.push(Et),Me.push(pt)}}return Me}function I6(u,h,b,M){return Gs(u,function(D,F,H){h(M,b(D),F,H)}),M}function kf(u,h,b){h=va(h,u),u=WR(u,h);var M=u==null?u:u[Xs(Ki(h))];return M==null?n:xi(M,u,b)}function oR(u){return Fn(u)&&Fr(u)==ce}function O6(u){return Fn(u)&&Fr(u)==ye}function k6(u){return Fn(u)&&Fr(u)==Be}function Uf(u,h,b,M,D){return u===h?!0:u==null||h==null||!Fn(u)&&!Fn(h)?u!==u&&h!==h:U6(u,h,b,M,Uf,D)}function U6(u,h,b,M,D,F){var H=Lt(u),Y=Lt(h),le=H?me:Er(u),Me=Y?me:Er(h);le=le==ce?_t:le,Me=Me==ce?_t:Me;var Ce=le==_t,Fe=Me==_t,Qe=le==Me;if(Qe&&xa(u)){if(!xa(h))return!1;H=!0,Ce=!1}if(Qe&&!Ce)return F||(F=new gs),H||pu(u)?jR(u,h,b,M,D,F):uH(u,h,le,b,M,D,F);if(!(b&_)){var pt=Ce&&cn.call(u,"__wrapped__"),Et=Fe&&cn.call(h,"__wrapped__");if(pt||Et){var Ut=pt?u.value():u,Tt=Et?h.value():h;return F||(F=new gs),D(Ut,Tt,b,M,F)}}return Qe?(F||(F=new gs),dH(u,h,b,M,D,F)):!1}function F6(u){return Fn(u)&&Er(u)==je}function c_(u,h,b,M){var D=b.length,F=D,H=!M;if(u==null)return!F;for(u=vn(u);D--;){var Y=b[D];if(H&&Y[2]?Y[1]!==u[Y[0]]:!(Y[0]in u))return!1}for(;++D<F;){Y=b[D];var le=Y[0],Me=u[le],Ce=Y[1];if(H&&Y[2]){if(Me===n&&!(le in u))return!1}else{var Fe=new gs;if(M)var Qe=M(Me,Ce,le,u,h,Fe);if(!(Qe===n?Uf(Ce,Me,_|y,M,Fe):Qe))return!1}}return!0}function aR(u){if(!Pn(u)||_H(u))return!1;var h=wo(u)?F$:Z;return h.test($l(u))}function j6(u){return Fn(u)&&Fr(u)==$}function B6(u){return Fn(u)&&Er(u)==k}function z6(u){return Fn(u)&&pg(u.length)&&!!Sn[Fr(u)]}function lR(u){return typeof u=="function"?u:u==null?ti:typeof u=="object"?Lt(u)?dR(u[0],u[1]):uR(u):PP(u)}function u_(u){if(!Bf(u))return H$(u);var h=[];for(var b in vn(u))cn.call(u,b)&&b!="constructor"&&h.push(b);return h}function V6(u){if(!Pn(u))return EH(u);var h=Bf(u),b=[];for(var M in u)M=="constructor"&&(h||!cn.call(u,M))||b.push(M);return b}function d_(u,h){return u<h}function cR(u,h){var b=-1,M=Qr(u)?ve(u.length):[];return ma(u,function(D,F,H){M[++b]=h(D,F,H)}),M}function uR(u){var h=M_(u);return h.length==1&&h[0][2]?HR(h[0][0],h[0][1]):function(b){return b===u||c_(b,u,h)}}function dR(u,h){return A_(u)&&$R(h)?HR(Xs(u),h):function(b){var M=F_(b,u);return M===n&&M===h?j_(b,u):Uf(h,M,_|y)}}function Jm(u,h,b,M,D){u!==h&&s_(h,function(F,H){if(D||(D=new gs),Pn(F))$6(u,h,H,b,Jm,M,D);else{var Y=M?M(P_(u,H),F,H+"",u,h,D):n;Y===n&&(Y=F),r_(u,H,Y)}},ei)}function $6(u,h,b,M,D,F,H){var Y=P_(u,b),le=P_(h,b),Me=H.get(le);if(Me){r_(u,b,Me);return}var Ce=F?F(Y,le,b+"",u,h,H):n,Fe=Ce===n;if(Fe){var Qe=Lt(le),pt=!Qe&&xa(le),Et=!Qe&&!pt&&pu(le);Ce=le,Qe||pt||Et?Lt(Y)?Ce=Y:Vn(Y)?Ce=Jr(Y):pt?(Fe=!1,Ce=bR(le,!0)):Et?(Fe=!1,Ce=ER(le,!0)):Ce=[]:Vf(le)||Hl(le)?(Ce=Y,Hl(Y)?Ce=_P(Y):(!Pn(Y)||wo(Y))&&(Ce=VR(le))):Fe=!1}Fe&&(H.set(le,Ce),D(Ce,le,M,F,H),H.delete(le)),r_(u,b,Ce)}function fR(u,h){var b=u.length;if(b)return h+=h<0?b:0,_o(h,b)?u[h]:n}function hR(u,h,b){h.length?h=An(h,function(F){return Lt(F)?function(H){return zl(H,F.length===1?F[0]:F)}:F}):h=[ti];var M=-1;h=An(h,_i(St()));var D=cR(u,function(F,H,Y){var le=An(h,function(Me){return Me(F)});return{criteria:le,index:++M,value:F}});return g$(D,function(F,H){return nH(F,H,b)})}function H6(u,h){return pR(u,h,function(b,M){return j_(u,M)})}function pR(u,h,b){for(var M=-1,D=h.length,F={};++M<D;){var H=h[M],Y=zl(u,H);b(Y,H)&&Ff(F,va(H,u),Y)}return F}function G6(u){return function(h){return zl(h,u)}}function f_(u,h,b,M){var D=M?m$:ru,F=-1,H=h.length,Y=u;for(u===h&&(h=Jr(h)),b&&(Y=An(u,_i(b)));++F<H;)for(var le=0,Me=h[F],Ce=b?b(Me):Me;(le=D(Y,Ce,le,M))>-1;)Y!==u&&Vm.call(Y,le,1),Vm.call(u,le,1);return u}function mR(u,h){for(var b=u?h.length:0,M=b-1;b--;){var D=h[b];if(b==M||D!==F){var F=D;_o(D)?Vm.call(u,D,1):g_(u,D)}}return u}function h_(u,h){return u+Gm(qA()*(h-u+1))}function W6(u,h,b,M){for(var D=-1,F=er(Hm((h-u)/(b||1)),0),H=ve(F);F--;)H[M?F:++D]=u,u+=b;return H}function p_(u,h){var b="";if(!u||h<1||h>B)return b;do h%2&&(b+=u),h=Gm(h/2),h&&(u+=u);while(h);return b}function Bt(u,h){return N_(GR(u,h,ti),u+"")}function X6(u){return JA(mu(u))}function K6(u,h){var b=mu(u);return lg(b,Bl(h,0,b.length))}function Ff(u,h,b,M){if(!Pn(u))return u;h=va(h,u);for(var D=-1,F=h.length,H=F-1,Y=u;Y!=null&&++D<F;){var le=Xs(h[D]),Me=b;if(le==="__proto__"||le==="constructor"||le==="prototype")return u;if(D!=H){var Ce=Y[le];Me=M?M(Ce,le,Y):n,Me===n&&(Me=Pn(Ce)?Ce:_o(h[D+1])?[]:{})}If(Y,le,Me),Y=Y[le]}return u}var gR=Wm?function(u,h){return Wm.set(u,h),u}:ti,q6=$m?function(u,h){return $m(u,"toString",{configurable:!0,enumerable:!1,value:z_(h),writable:!0})}:ti;function Y6(u){return lg(mu(u))}function Xi(u,h,b){var M=-1,D=u.length;h<0&&(h=-h>D?0:D+h),b=b>D?D:b,b<0&&(b+=D),D=h>b?0:b-h>>>0,h>>>=0;for(var F=ve(D);++M<D;)F[M]=u[M+h];return F}function Z6(u,h){var b;return ma(u,function(M,D,F){return b=h(M,D,F),!b}),!!b}function Qm(u,h,b){var M=0,D=u==null?M:u.length;if(typeof h=="number"&&h===h&&D<=Re){for(;M<D;){var F=M+D>>>1,H=u[F];H!==null&&!Si(H)&&(b?H<=h:H<h)?M=F+1:D=F}return D}return m_(u,h,ti,b)}function m_(u,h,b,M){var D=0,F=u==null?0:u.length;if(F===0)return 0;h=b(h);for(var H=h!==h,Y=h===null,le=Si(h),Me=h===n;D<F;){var Ce=Gm((D+F)/2),Fe=b(u[Ce]),Qe=Fe!==n,pt=Fe===null,Et=Fe===Fe,Ut=Si(Fe);if(H)var Tt=M||Et;else Me?Tt=Et&&(M||Qe):Y?Tt=Et&&Qe&&(M||!pt):le?Tt=Et&&Qe&&!pt&&(M||!Ut):pt||Ut?Tt=!1:Tt=M?Fe<=h:Fe<h;Tt?D=Ce+1:F=Ce}return br(F,oe)}function vR(u,h){for(var b=-1,M=u.length,D=0,F=[];++b<M;){var H=u[b],Y=h?h(H):H;if(!b||!vs(Y,le)){var le=Y;F[D++]=H===0?0:H}}return F}function yR(u){return typeof u=="number"?u:Si(u)?ue:+u}function wi(u){if(typeof u=="string")return u;if(Lt(u))return An(u,wi)+"";if(Si(u))return YA?YA.call(u):"";var h=u+"";return h=="0"&&1/u==-se?"-0":h}function ga(u,h,b){var M=-1,D=Lm,F=u.length,H=!0,Y=[],le=Y;if(b)H=!1,D=Hx;else if(F>=i){var Me=h?null:lH(u);if(Me)return Im(Me);H=!1,D=Af,le=new jl}else le=h?[]:Y;e:for(;++M<F;){var Ce=u[M],Fe=h?h(Ce):Ce;if(Ce=b||Ce!==0?Ce:0,H&&Fe===Fe){for(var Qe=le.length;Qe--;)if(le[Qe]===Fe)continue e;h&&le.push(Fe),Y.push(Ce)}else D(le,Fe,b)||(le!==Y&&le.push(Fe),Y.push(Ce))}return Y}function g_(u,h){return h=va(h,u),u=WR(u,h),u==null||delete u[Xs(Ki(h))]}function xR(u,h,b,M){return Ff(u,h,b(zl(u,h)),M)}function eg(u,h,b,M){for(var D=u.length,F=M?D:-1;(M?F--:++F<D)&&h(u[F],F,u););return b?Xi(u,M?0:F,M?F+1:D):Xi(u,M?F+1:0,M?D:F)}function _R(u,h){var b=u;return b instanceof Xt&&(b=b.value()),Gx(h,function(M,D){return D.func.apply(D.thisArg,fa([M],D.args))},b)}function v_(u,h,b){var M=u.length;if(M<2)return M?ga(u[0]):[];for(var D=-1,F=ve(M);++D<M;)for(var H=u[D],Y=-1;++Y<M;)Y!=D&&(F[D]=Of(F[D]||H,u[Y],h,b));return ga(mr(F,1),h,b)}function wR(u,h,b){for(var M=-1,D=u.length,F=h.length,H={};++M<D;){var Y=M<F?h[M]:n;b(H,u[M],Y)}return H}function y_(u){return Vn(u)?u:[]}function x_(u){return typeof u=="function"?u:ti}function va(u,h){return Lt(u)?u:A_(u,h)?[u]:YR(on(u))}var J6=Bt;function ya(u,h,b){var M=u.length;return b=b===n?M:b,!h&&b>=M?u:Xi(u,h,b)}var SR=j$||function(u){return pr.clearTimeout(u)};function bR(u,h){if(h)return u.slice();var b=u.length,M=HA?HA(b):new u.constructor(b);return u.copy(M),M}function __(u){var h=new u.constructor(u.byteLength);return new Bm(h).set(new Bm(u)),h}function Q6(u,h){var b=h?__(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function eH(u){var h=new u.constructor(u.source,Ye.exec(u));return h.lastIndex=u.lastIndex,h}function tH(u){return Df?vn(Df.call(u)):{}}function ER(u,h){var b=h?__(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function TR(u,h){if(u!==h){var b=u!==n,M=u===null,D=u===u,F=Si(u),H=h!==n,Y=h===null,le=h===h,Me=Si(h);if(!Y&&!Me&&!F&&u>h||F&&H&&le&&!Y&&!Me||M&&H&&le||!b&&le||!D)return 1;if(!M&&!F&&!Me&&u<h||Me&&b&&D&&!M&&!F||Y&&b&&D||!H&&D||!le)return-1}return 0}function nH(u,h,b){for(var M=-1,D=u.criteria,F=h.criteria,H=D.length,Y=b.length;++M<H;){var le=TR(D[M],F[M]);if(le){if(M>=Y)return le;var Me=b[M];return le*(Me=="desc"?-1:1)}}return u.index-h.index}function MR(u,h,b,M){for(var D=-1,F=u.length,H=b.length,Y=-1,le=h.length,Me=er(F-H,0),Ce=ve(le+Me),Fe=!M;++Y<le;)Ce[Y]=h[Y];for(;++D<H;)(Fe||D<F)&&(Ce[b[D]]=u[D]);for(;Me--;)Ce[Y++]=u[D++];return Ce}function CR(u,h,b,M){for(var D=-1,F=u.length,H=-1,Y=b.length,le=-1,Me=h.length,Ce=er(F-Y,0),Fe=ve(Ce+Me),Qe=!M;++D<Ce;)Fe[D]=u[D];for(var pt=D;++le<Me;)Fe[pt+le]=h[le];for(;++H<Y;)(Qe||D<F)&&(Fe[pt+b[H]]=u[D++]);return Fe}function Jr(u,h){var b=-1,M=u.length;for(h||(h=ve(M));++b<M;)h[b]=u[b];return h}function Ws(u,h,b,M){var D=!b;b||(b={});for(var F=-1,H=h.length;++F<H;){var Y=h[F],le=M?M(b[Y],u[Y],Y,b,u):n;le===n&&(le=u[Y]),D?vo(b,Y,le):If(b,Y,le)}return b}function rH(u,h){return Ws(u,C_(u),h)}function iH(u,h){return Ws(u,BR(u),h)}function tg(u,h){return function(b,M){var D=Lt(b)?c$:M6,F=h?h():{};return D(b,u,St(M,2),F)}}function du(u){return Bt(function(h,b){var M=-1,D=b.length,F=D>1?b[D-1]:n,H=D>2?b[2]:n;for(F=u.length>3&&typeof F=="function"?(D--,F):n,H&&jr(b[0],b[1],H)&&(F=D<3?n:F,D=1),h=vn(h);++M<D;){var Y=b[M];Y&&u(h,Y,M,F)}return h})}function AR(u,h){return function(b,M){if(b==null)return b;if(!Qr(b))return u(b,M);for(var D=b.length,F=h?D:-1,H=vn(b);(h?F--:++F<D)&&M(H[F],F,H)!==!1;);return b}}function RR(u){return function(h,b,M){for(var D=-1,F=vn(h),H=M(h),Y=H.length;Y--;){var le=H[u?Y:++D];if(b(F[le],le,F)===!1)break}return h}}function sH(u,h,b){var M=h&v,D=jf(u);function F(){var H=this&&this!==pr&&this instanceof F?D:u;return H.apply(M?b:this,arguments)}return F}function PR(u){return function(h){h=on(h);var b=iu(h)?ms(h):n,M=b?b[0]:h.charAt(0),D=b?ya(b,1).join(""):h.slice(1);return M[u]()+D}}function fu(u){return function(h){return Gx(AP(CP(h).replace(q8,"")),u,"")}}function jf(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var b=uu(u.prototype),M=u.apply(b,h);return Pn(M)?M:b}}function oH(u,h,b){var M=jf(u);function D(){for(var F=arguments.length,H=ve(F),Y=F,le=hu(D);Y--;)H[Y]=arguments[Y];var Me=F<3&&H[0]!==le&&H[F-1]!==le?[]:ha(H,le);if(F-=Me.length,F<b)return OR(u,h,ng,D.placeholder,n,H,Me,n,n,b-F);var Ce=this&&this!==pr&&this instanceof D?M:u;return xi(Ce,this,H)}return D}function NR(u){return function(h,b,M){var D=vn(h);if(!Qr(h)){var F=St(b,3);h=cr(h),b=function(Y){return F(D[Y],Y,D)}}var H=u(h,b,M);return H>-1?D[F?h[H]:H]:n}}function LR(u){return xo(function(h){var b=h.length,M=b,D=Gi.prototype.thru;for(u&&h.reverse();M--;){var F=h[M];if(typeof F!="function")throw new Hi(o);if(D&&!H&&og(F)=="wrapper")var H=new Gi([],!0)}for(M=H?M:b;++M<b;){F=h[M];var Y=og(F),le=Y=="wrapper"?T_(F):n;le&&R_(le[0])&&le[1]==(R|E|C|A)&&!le[4].length&&le[9]==1?H=H[og(le[0])].apply(H,le[3]):H=F.length==1&&R_(F)?H[Y]():H.thru(F)}return function(){var Me=arguments,Ce=Me[0];if(H&&Me.length==1&&Lt(Ce))return H.plant(Ce).value();for(var Fe=0,Qe=b?h[Fe].apply(this,Me):Ce;++Fe<b;)Qe=h[Fe].call(this,Qe);return Qe}})}function ng(u,h,b,M,D,F,H,Y,le,Me){var Ce=h&R,Fe=h&v,Qe=h&m,pt=h&(E|T),Et=h&L,Ut=Qe?n:jf(u);function Tt(){for(var $t=arguments.length,qt=ve($t),bi=$t;bi--;)qt[bi]=arguments[bi];if(pt)var Br=hu(Tt),Ei=y$(qt,Br);if(M&&(qt=MR(qt,M,D,pt)),F&&(qt=CR(qt,F,H,pt)),$t-=Ei,pt&&$t<Me){var $n=ha(qt,Br);return OR(u,h,ng,Tt.placeholder,b,qt,$n,Y,le,Me-$t)}var ys=Fe?b:this,bo=Qe?ys[u]:u;return $t=qt.length,Y?qt=MH(qt,Y):Et&&$t>1&&qt.reverse(),Ce&&le<$t&&(qt.length=le),this&&this!==pr&&this instanceof Tt&&(bo=Ut||jf(bo)),bo.apply(ys,qt)}return Tt}function DR(u,h){return function(b,M){return I6(b,u,h(M),{})}}function rg(u,h){return function(b,M){var D;if(b===n&&M===n)return h;if(b!==n&&(D=b),M!==n){if(D===n)return M;typeof b=="string"||typeof M=="string"?(b=wi(b),M=wi(M)):(b=yR(b),M=yR(M)),D=u(b,M)}return D}}function w_(u){return xo(function(h){return h=An(h,_i(St())),Bt(function(b){var M=this;return u(h,function(D){return xi(D,M,b)})})})}function ig(u,h){h=h===n?" ":wi(h);var b=h.length;if(b<2)return b?p_(h,u):h;var M=p_(h,Hm(u/su(h)));return iu(h)?ya(ms(M),0,u).join(""):M.slice(0,u)}function aH(u,h,b,M){var D=h&v,F=jf(u);function H(){for(var Y=-1,le=arguments.length,Me=-1,Ce=M.length,Fe=ve(Ce+le),Qe=this&&this!==pr&&this instanceof H?F:u;++Me<Ce;)Fe[Me]=M[Me];for(;le--;)Fe[Me++]=arguments[++Y];return xi(Qe,D?b:this,Fe)}return H}function IR(u){return function(h,b,M){return M&&typeof M!="number"&&jr(h,b,M)&&(b=M=n),h=So(h),b===n?(b=h,h=0):b=So(b),M=M===n?h<b?1:-1:So(M),W6(h,b,M,u)}}function sg(u){return function(h,b){return typeof h=="string"&&typeof b=="string"||(h=qi(h),b=qi(b)),u(h,b)}}function OR(u,h,b,M,D,F,H,Y,le,Me){var Ce=h&E,Fe=Ce?H:n,Qe=Ce?n:H,pt=Ce?F:n,Et=Ce?n:F;h|=Ce?C:P,h&=~(Ce?P:C),h&S||(h&=~(v|m));var Ut=[u,h,D,pt,Fe,Et,Qe,Y,le,Me],Tt=b.apply(n,Ut);return R_(u)&&XR(Tt,Ut),Tt.placeholder=M,KR(Tt,u,h)}function S_(u){var h=Qn[u];return function(b,M){if(b=qi(b),M=M==null?0:br(Ot(M),292),M&&KA(b)){var D=(on(b)+"e").split("e"),F=h(D[0]+"e"+(+D[1]+M));return D=(on(F)+"e").split("e"),+(D[0]+"e"+(+D[1]-M))}return h(b)}}var lH=lu&&1/Im(new lu([,-0]))[1]==se?function(u){return new lu(u)}:H_;function kR(u){return function(h){var b=Er(h);return b==je?Jx(h):b==k?T$(h):v$(h,u(h))}}function yo(u,h,b,M,D,F,H,Y){var le=h&m;if(!le&&typeof u!="function")throw new Hi(o);var Me=M?M.length:0;if(Me||(h&=~(C|P),M=D=n),H=H===n?H:er(Ot(H),0),Y=Y===n?Y:Ot(Y),Me-=D?D.length:0,h&P){var Ce=M,Fe=D;M=D=n}var Qe=le?n:T_(u),pt=[u,h,b,M,D,Ce,Fe,F,H,Y];if(Qe&&bH(pt,Qe),u=pt[0],h=pt[1],b=pt[2],M=pt[3],D=pt[4],Y=pt[9]=pt[9]===n?le?0:u.length:er(pt[9]-Me,0),!Y&&h&(E|T)&&(h&=~(E|T)),!h||h==v)var Et=sH(u,h,b);else h==E||h==T?Et=oH(u,h,Y):(h==C||h==(v|C))&&!D.length?Et=aH(u,h,b,M):Et=ng.apply(n,pt);var Ut=Qe?gR:XR;return KR(Ut(Et,pt),u,h)}function UR(u,h,b,M){return u===n||vs(u,au[b])&&!cn.call(M,b)?h:u}function FR(u,h,b,M,D,F){return Pn(u)&&Pn(h)&&(F.set(h,u),Jm(u,h,n,FR,F),F.delete(h)),u}function cH(u){return Vf(u)?n:u}function jR(u,h,b,M,D,F){var H=b&_,Y=u.length,le=h.length;if(Y!=le&&!(H&&le>Y))return!1;var Me=F.get(u),Ce=F.get(h);if(Me&&Ce)return Me==h&&Ce==u;var Fe=-1,Qe=!0,pt=b&y?new jl:n;for(F.set(u,h),F.set(h,u);++Fe<Y;){var Et=u[Fe],Ut=h[Fe];if(M)var Tt=H?M(Ut,Et,Fe,h,u,F):M(Et,Ut,Fe,u,h,F);if(Tt!==n){if(Tt)continue;Qe=!1;break}if(pt){if(!Wx(h,function($t,qt){if(!Af(pt,qt)&&(Et===$t||D(Et,$t,b,M,F)))return pt.push(qt)})){Qe=!1;break}}else if(!(Et===Ut||D(Et,Ut,b,M,F))){Qe=!1;break}}return F.delete(u),F.delete(h),Qe}function uH(u,h,b,M,D,F,H){switch(b){case Ne:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case ye:return!(u.byteLength!=h.byteLength||!F(new Bm(u),new Bm(h)));case we:case Be:case st:return vs(+u,+h);case $e:return u.name==h.name&&u.message==h.message;case $:case de:return u==h+"";case je:var Y=Jx;case k:var le=M&_;if(Y||(Y=Im),u.size!=h.size&&!le)return!1;var Me=H.get(u);if(Me)return Me==h;M|=y,H.set(u,h);var Ce=jR(Y(u),Y(h),M,D,F,H);return H.delete(u),Ce;case _e:if(Df)return Df.call(u)==Df.call(h)}return!1}function dH(u,h,b,M,D,F){var H=b&_,Y=b_(u),le=Y.length,Me=b_(h),Ce=Me.length;if(le!=Ce&&!H)return!1;for(var Fe=le;Fe--;){var Qe=Y[Fe];if(!(H?Qe in h:cn.call(h,Qe)))return!1}var pt=F.get(u),Et=F.get(h);if(pt&&Et)return pt==h&&Et==u;var Ut=!0;F.set(u,h),F.set(h,u);for(var Tt=H;++Fe<le;){Qe=Y[Fe];var $t=u[Qe],qt=h[Qe];if(M)var bi=H?M(qt,$t,Qe,h,u,F):M($t,qt,Qe,u,h,F);if(!(bi===n?$t===qt||D($t,qt,b,M,F):bi)){Ut=!1;break}Tt||(Tt=Qe=="constructor")}if(Ut&&!Tt){var Br=u.constructor,Ei=h.constructor;Br!=Ei&&"constructor"in u&&"constructor"in h&&!(typeof Br=="function"&&Br instanceof Br&&typeof Ei=="function"&&Ei instanceof Ei)&&(Ut=!1)}return F.delete(u),F.delete(h),Ut}function xo(u){return N_(GR(u,n,eP),u+"")}function b_(u){return sR(u,cr,C_)}function E_(u){return sR(u,ei,BR)}var T_=Wm?function(u){return Wm.get(u)}:H_;function og(u){for(var h=u.name+"",b=cu[h],M=cn.call(cu,h)?b.length:0;M--;){var D=b[M],F=D.func;if(F==null||F==u)return D.name}return h}function hu(u){var h=cn.call(U,"placeholder")?U:u;return h.placeholder}function St(){var u=U.iteratee||V_;return u=u===V_?lR:u,arguments.length?u(arguments[0],arguments[1]):u}function ag(u,h){var b=u.__data__;return xH(h)?b[typeof h=="string"?"string":"hash"]:b.map}function M_(u){for(var h=cr(u),b=h.length;b--;){var M=h[b],D=u[M];h[b]=[M,D,$R(D)]}return h}function Vl(u,h){var b=S$(u,h);return aR(b)?b:n}function fH(u){var h=cn.call(u,Ul),b=u[Ul];try{u[Ul]=n;var M=!0}catch{}var D=Fm.call(u);return M&&(h?u[Ul]=b:delete u[Ul]),D}var C_=e_?function(u){return u==null?[]:(u=vn(u),da(e_(u),function(h){return WA.call(u,h)}))}:G_,BR=e_?function(u){for(var h=[];u;)fa(h,C_(u)),u=zm(u);return h}:G_,Er=Fr;(t_&&Er(new t_(new ArrayBuffer(1)))!=Ne||Pf&&Er(new Pf)!=je||n_&&Er(n_.resolve())!=nt||lu&&Er(new lu)!=k||Nf&&Er(new Nf)!=Se)&&(Er=function(u){var h=Fr(u),b=h==_t?u.constructor:n,M=b?$l(b):"";if(M)switch(M){case K$:return Ne;case q$:return je;case Y$:return nt;case Z$:return k;case J$:return Se}return h});function hH(u,h,b){for(var M=-1,D=b.length;++M<D;){var F=b[M],H=F.size;switch(F.type){case"drop":u+=H;break;case"dropRight":h-=H;break;case"take":h=br(h,u+H);break;case"takeRight":u=er(u,h-H);break}}return{start:u,end:h}}function pH(u){var h=u.match(ne);return h?h[1].split(pe):[]}function zR(u,h,b){h=va(h,u);for(var M=-1,D=h.length,F=!1;++M<D;){var H=Xs(h[M]);if(!(F=u!=null&&b(u,H)))break;u=u[H]}return F||++M!=D?F:(D=u==null?0:u.length,!!D&&pg(D)&&_o(H,D)&&(Lt(u)||Hl(u)))}function mH(u){var h=u.length,b=new u.constructor(h);return h&&typeof u[0]=="string"&&cn.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function VR(u){return typeof u.constructor=="function"&&!Bf(u)?uu(zm(u)):{}}function gH(u,h,b){var M=u.constructor;switch(h){case ye:return __(u);case we:case Be:return new M(+u);case Ne:return Q6(u,b);case Ze:case he:case Oe:case at:case Je:case We:case be:case rt:case wt:return ER(u,b);case je:return new M;case st:case de:return new M(u);case $:return eH(u);case k:return new M;case _e:return tH(u)}}function vH(u,h){var b=h.length;if(!b)return u;var M=b-1;return h[M]=(b>1?"& ":"")+h[M],h=h.join(b>2?", ":" "),u.replace(K,`{
/* [wrapped with `+h+`] */
`)}function yH(u){return Lt(u)||Hl(u)||!!(XA&&u&&u[XA])}function _o(u,h){var b=typeof u;return h=h??B,!!h&&(b=="number"||b!="symbol"&&te.test(u))&&u>-1&&u%1==0&&u<h}function jr(u,h,b){if(!Pn(b))return!1;var M=typeof h;return(M=="number"?Qr(b)&&_o(h,b.length):M=="string"&&h in b)?vs(b[h],u):!1}function A_(u,h){if(Lt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||Si(u)?!0:Ur.test(u)||!vi.test(u)||h!=null&&u in vn(h)}function xH(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function R_(u){var h=og(u),b=U[h];if(typeof b!="function"||!(h in Xt.prototype))return!1;if(u===b)return!0;var M=T_(b);return!!M&&u===M[0]}function _H(u){return!!$A&&$A in u}var wH=km?wo:W_;function Bf(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||au;return u===b}function $R(u){return u===u&&!Pn(u)}function HR(u,h){return function(b){return b==null?!1:b[u]===h&&(h!==n||u in vn(b))}}function SH(u){var h=fg(u,function(M){return b.size===c&&b.clear(),M}),b=h.cache;return h}function bH(u,h){var b=u[1],M=h[1],D=b|M,F=D<(v|m|R),H=M==R&&b==E||M==R&&b==A&&u[7].length<=h[8]||M==(R|A)&&h[7].length<=h[8]&&b==E;if(!(F||H))return u;M&v&&(u[2]=h[2],D|=b&v?0:S);var Y=h[3];if(Y){var le=u[3];u[3]=le?MR(le,Y,h[4]):Y,u[4]=le?ha(u[3],d):h[4]}return Y=h[5],Y&&(le=u[5],u[5]=le?CR(le,Y,h[6]):Y,u[6]=le?ha(u[5],d):h[6]),Y=h[7],Y&&(u[7]=Y),M&R&&(u[8]=u[8]==null?h[8]:br(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=D,u}function EH(u){var h=[];if(u!=null)for(var b in vn(u))h.push(b);return h}function TH(u){return Fm.call(u)}function GR(u,h,b){return h=er(h===n?u.length-1:h,0),function(){for(var M=arguments,D=-1,F=er(M.length-h,0),H=ve(F);++D<F;)H[D]=M[h+D];D=-1;for(var Y=ve(h+1);++D<h;)Y[D]=M[D];return Y[h]=b(H),xi(u,this,Y)}}function WR(u,h){return h.length<2?u:zl(u,Xi(h,0,-1))}function MH(u,h){for(var b=u.length,M=br(h.length,b),D=Jr(u);M--;){var F=h[M];u[M]=_o(F,b)?D[F]:n}return u}function P_(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var XR=qR(gR),zf=z$||function(u,h){return pr.setTimeout(u,h)},N_=qR(q6);function KR(u,h,b){var M=h+"";return N_(u,vH(M,CH(pH(M),b)))}function qR(u){var h=0,b=0;return function(){var M=G$(),D=W-(M-b);if(b=M,D>0){if(++h>=V)return arguments[0]}else h=0;return u.apply(n,arguments)}}function lg(u,h){var b=-1,M=u.length,D=M-1;for(h=h===n?M:h;++b<h;){var F=h_(b,D),H=u[F];u[F]=u[b],u[b]=H}return u.length=h,u}var YR=SH(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(po,function(b,M,D,F){h.push(D?F.replace(mt,"$1"):M||b)}),h});function Xs(u){if(typeof u=="string"||Si(u))return u;var h=u+"";return h=="0"&&1/u==-se?"-0":h}function $l(u){if(u!=null){try{return Um.call(u)}catch{}try{return u+""}catch{}}return""}function CH(u,h){return $i(X,function(b){var M="_."+b[0];h&b[1]&&!Lm(u,M)&&u.push(M)}),u.sort()}function ZR(u){if(u instanceof Xt)return u.clone();var h=new Gi(u.__wrapped__,u.__chain__);return h.__actions__=Jr(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function AH(u,h,b){(b?jr(u,h,b):h===n)?h=1:h=er(Ot(h),0);var M=u==null?0:u.length;if(!M||h<1)return[];for(var D=0,F=0,H=ve(Hm(M/h));D<M;)H[F++]=Xi(u,D,D+=h);return H}function RH(u){for(var h=-1,b=u==null?0:u.length,M=0,D=[];++h<b;){var F=u[h];F&&(D[M++]=F)}return D}function PH(){var u=arguments.length;if(!u)return[];for(var h=ve(u-1),b=arguments[0],M=u;M--;)h[M-1]=arguments[M];return fa(Lt(b)?Jr(b):[b],mr(h,1))}var NH=Bt(function(u,h){return Vn(u)?Of(u,mr(h,1,Vn,!0)):[]}),LH=Bt(function(u,h){var b=Ki(h);return Vn(b)&&(b=n),Vn(u)?Of(u,mr(h,1,Vn,!0),St(b,2)):[]}),DH=Bt(function(u,h){var b=Ki(h);return Vn(b)&&(b=n),Vn(u)?Of(u,mr(h,1,Vn,!0),n,b):[]});function IH(u,h,b){var M=u==null?0:u.length;return M?(h=b||h===n?1:Ot(h),Xi(u,h<0?0:h,M)):[]}function OH(u,h,b){var M=u==null?0:u.length;return M?(h=b||h===n?1:Ot(h),h=M-h,Xi(u,0,h<0?0:h)):[]}function kH(u,h){return u&&u.length?eg(u,St(h,3),!0,!0):[]}function UH(u,h){return u&&u.length?eg(u,St(h,3),!0):[]}function FH(u,h,b,M){var D=u==null?0:u.length;return D?(b&&typeof b!="number"&&jr(u,h,b)&&(b=0,M=D),P6(u,h,b,M)):[]}function JR(u,h,b){var M=u==null?0:u.length;if(!M)return-1;var D=b==null?0:Ot(b);return D<0&&(D=er(M+D,0)),Dm(u,St(h,3),D)}function QR(u,h,b){var M=u==null?0:u.length;if(!M)return-1;var D=M-1;return b!==n&&(D=Ot(b),D=b<0?er(M+D,0):br(D,M-1)),Dm(u,St(h,3),D,!0)}function eP(u){var h=u==null?0:u.length;return h?mr(u,1):[]}function jH(u){var h=u==null?0:u.length;return h?mr(u,se):[]}function BH(u,h){var b=u==null?0:u.length;return b?(h=h===n?1:Ot(h),mr(u,h)):[]}function zH(u){for(var h=-1,b=u==null?0:u.length,M={};++h<b;){var D=u[h];M[D[0]]=D[1]}return M}function tP(u){return u&&u.length?u[0]:n}function VH(u,h,b){var M=u==null?0:u.length;if(!M)return-1;var D=b==null?0:Ot(b);return D<0&&(D=er(M+D,0)),ru(u,h,D)}function $H(u){var h=u==null?0:u.length;return h?Xi(u,0,-1):[]}var HH=Bt(function(u){var h=An(u,y_);return h.length&&h[0]===u[0]?l_(h):[]}),GH=Bt(function(u){var h=Ki(u),b=An(u,y_);return h===Ki(b)?h=n:b.pop(),b.length&&b[0]===u[0]?l_(b,St(h,2)):[]}),WH=Bt(function(u){var h=Ki(u),b=An(u,y_);return h=typeof h=="function"?h:n,h&&b.pop(),b.length&&b[0]===u[0]?l_(b,n,h):[]});function XH(u,h){return u==null?"":$$.call(u,h)}function Ki(u){var h=u==null?0:u.length;return h?u[h-1]:n}function KH(u,h,b){var M=u==null?0:u.length;if(!M)return-1;var D=M;return b!==n&&(D=Ot(b),D=D<0?er(M+D,0):br(D,M-1)),h===h?C$(u,h,D):Dm(u,OA,D,!0)}function qH(u,h){return u&&u.length?fR(u,Ot(h)):n}var YH=Bt(nP);function nP(u,h){return u&&u.length&&h&&h.length?f_(u,h):u}function ZH(u,h,b){return u&&u.length&&h&&h.length?f_(u,h,St(b,2)):u}function JH(u,h,b){return u&&u.length&&h&&h.length?f_(u,h,n,b):u}var QH=xo(function(u,h){var b=u==null?0:u.length,M=i_(u,h);return mR(u,An(h,function(D){return _o(D,b)?+D:D}).sort(TR)),M});function e9(u,h){var b=[];if(!(u&&u.length))return b;var M=-1,D=[],F=u.length;for(h=St(h,3);++M<F;){var H=u[M];h(H,M,u)&&(b.push(H),D.push(M))}return mR(u,D),b}function L_(u){return u==null?u:X$.call(u)}function t9(u,h,b){var M=u==null?0:u.length;return M?(b&&typeof b!="number"&&jr(u,h,b)?(h=0,b=M):(h=h==null?0:Ot(h),b=b===n?M:Ot(b)),Xi(u,h,b)):[]}function n9(u,h){return Qm(u,h)}function r9(u,h,b){return m_(u,h,St(b,2))}function i9(u,h){var b=u==null?0:u.length;if(b){var M=Qm(u,h);if(M<b&&vs(u[M],h))return M}return-1}function s9(u,h){return Qm(u,h,!0)}function o9(u,h,b){return m_(u,h,St(b,2),!0)}function a9(u,h){var b=u==null?0:u.length;if(b){var M=Qm(u,h,!0)-1;if(vs(u[M],h))return M}return-1}function l9(u){return u&&u.length?vR(u):[]}function c9(u,h){return u&&u.length?vR(u,St(h,2)):[]}function u9(u){var h=u==null?0:u.length;return h?Xi(u,1,h):[]}function d9(u,h,b){return u&&u.length?(h=b||h===n?1:Ot(h),Xi(u,0,h<0?0:h)):[]}function f9(u,h,b){var M=u==null?0:u.length;return M?(h=b||h===n?1:Ot(h),h=M-h,Xi(u,h<0?0:h,M)):[]}function h9(u,h){return u&&u.length?eg(u,St(h,3),!1,!0):[]}function p9(u,h){return u&&u.length?eg(u,St(h,3)):[]}var m9=Bt(function(u){return ga(mr(u,1,Vn,!0))}),g9=Bt(function(u){var h=Ki(u);return Vn(h)&&(h=n),ga(mr(u,1,Vn,!0),St(h,2))}),v9=Bt(function(u){var h=Ki(u);return h=typeof h=="function"?h:n,ga(mr(u,1,Vn,!0),n,h)});function y9(u){return u&&u.length?ga(u):[]}function x9(u,h){return u&&u.length?ga(u,St(h,2)):[]}function _9(u,h){return h=typeof h=="function"?h:n,u&&u.length?ga(u,n,h):[]}function D_(u){if(!(u&&u.length))return[];var h=0;return u=da(u,function(b){if(Vn(b))return h=er(b.length,h),!0}),Yx(h,function(b){return An(u,Xx(b))})}function rP(u,h){if(!(u&&u.length))return[];var b=D_(u);return h==null?b:An(b,function(M){return xi(h,n,M)})}var w9=Bt(function(u,h){return Vn(u)?Of(u,h):[]}),S9=Bt(function(u){return v_(da(u,Vn))}),b9=Bt(function(u){var h=Ki(u);return Vn(h)&&(h=n),v_(da(u,Vn),St(h,2))}),E9=Bt(function(u){var h=Ki(u);return h=typeof h=="function"?h:n,v_(da(u,Vn),n,h)}),T9=Bt(D_);function M9(u,h){return wR(u||[],h||[],If)}function C9(u,h){return wR(u||[],h||[],Ff)}var A9=Bt(function(u){var h=u.length,b=h>1?u[h-1]:n;return b=typeof b=="function"?(u.pop(),b):n,rP(u,b)});function iP(u){var h=U(u);return h.__chain__=!0,h}function R9(u,h){return h(u),u}function cg(u,h){return h(u)}var P9=xo(function(u){var h=u.length,b=h?u[0]:0,M=this.__wrapped__,D=function(F){return i_(F,u)};return h>1||this.__actions__.length||!(M instanceof Xt)||!_o(b)?this.thru(D):(M=M.slice(b,+b+(h?1:0)),M.__actions__.push({func:cg,args:[D],thisArg:n}),new Gi(M,this.__chain__).thru(function(F){return h&&!F.length&&F.push(n),F}))});function N9(){return iP(this)}function L9(){return new Gi(this.value(),this.__chain__)}function D9(){this.__values__===n&&(this.__values__=yP(this.value()));var u=this.__index__>=this.__values__.length,h=u?n:this.__values__[this.__index__++];return{done:u,value:h}}function I9(){return this}function O9(u){for(var h,b=this;b instanceof Km;){var M=ZR(b);M.__index__=0,M.__values__=n,h?D.__wrapped__=M:h=M;var D=M;b=b.__wrapped__}return D.__wrapped__=u,h}function k9(){var u=this.__wrapped__;if(u instanceof Xt){var h=u;return this.__actions__.length&&(h=new Xt(this)),h=h.reverse(),h.__actions__.push({func:cg,args:[L_],thisArg:n}),new Gi(h,this.__chain__)}return this.thru(L_)}function U9(){return _R(this.__wrapped__,this.__actions__)}var F9=tg(function(u,h,b){cn.call(u,b)?++u[b]:vo(u,b,1)});function j9(u,h,b){var M=Lt(u)?DA:R6;return b&&jr(u,h,b)&&(h=n),M(u,St(h,3))}function B9(u,h){var b=Lt(u)?da:rR;return b(u,St(h,3))}var z9=NR(JR),V9=NR(QR);function $9(u,h){return mr(ug(u,h),1)}function H9(u,h){return mr(ug(u,h),se)}function G9(u,h,b){return b=b===n?1:Ot(b),mr(ug(u,h),b)}function sP(u,h){var b=Lt(u)?$i:ma;return b(u,St(h,3))}function oP(u,h){var b=Lt(u)?u$:nR;return b(u,St(h,3))}var W9=tg(function(u,h,b){cn.call(u,b)?u[b].push(h):vo(u,b,[h])});function X9(u,h,b,M){u=Qr(u)?u:mu(u),b=b&&!M?Ot(b):0;var D=u.length;return b<0&&(b=er(D+b,0)),mg(u)?b<=D&&u.indexOf(h,b)>-1:!!D&&ru(u,h,b)>-1}var K9=Bt(function(u,h,b){var M=-1,D=typeof h=="function",F=Qr(u)?ve(u.length):[];return ma(u,function(H){F[++M]=D?xi(h,H,b):kf(H,h,b)}),F}),q9=tg(function(u,h,b){vo(u,b,h)});function ug(u,h){var b=Lt(u)?An:cR;return b(u,St(h,3))}function Y9(u,h,b,M){return u==null?[]:(Lt(h)||(h=h==null?[]:[h]),b=M?n:b,Lt(b)||(b=b==null?[]:[b]),hR(u,h,b))}var Z9=tg(function(u,h,b){u[b?0:1].push(h)},function(){return[[],[]]});function J9(u,h,b){var M=Lt(u)?Gx:UA,D=arguments.length<3;return M(u,St(h,4),b,D,ma)}function Q9(u,h,b){var M=Lt(u)?d$:UA,D=arguments.length<3;return M(u,St(h,4),b,D,nR)}function e7(u,h){var b=Lt(u)?da:rR;return b(u,hg(St(h,3)))}function t7(u){var h=Lt(u)?JA:X6;return h(u)}function n7(u,h,b){(b?jr(u,h,b):h===n)?h=1:h=Ot(h);var M=Lt(u)?E6:K6;return M(u,h)}function r7(u){var h=Lt(u)?T6:Y6;return h(u)}function i7(u){if(u==null)return 0;if(Qr(u))return mg(u)?su(u):u.length;var h=Er(u);return h==je||h==k?u.size:u_(u).length}function s7(u,h,b){var M=Lt(u)?Wx:Z6;return b&&jr(u,h,b)&&(h=n),M(u,St(h,3))}var o7=Bt(function(u,h){if(u==null)return[];var b=h.length;return b>1&&jr(u,h[0],h[1])?h=[]:b>2&&jr(h[0],h[1],h[2])&&(h=[h[0]]),hR(u,mr(h,1),[])}),dg=B$||function(){return pr.Date.now()};function a7(u,h){if(typeof h!="function")throw new Hi(o);return u=Ot(u),function(){if(--u<1)return h.apply(this,arguments)}}function aP(u,h,b){return h=b?n:h,h=u&&h==null?u.length:h,yo(u,R,n,n,n,n,h)}function lP(u,h){var b;if(typeof h!="function")throw new Hi(o);return u=Ot(u),function(){return--u>0&&(b=h.apply(this,arguments)),u<=1&&(h=n),b}}var I_=Bt(function(u,h,b){var M=v;if(b.length){var D=ha(b,hu(I_));M|=C}return yo(u,M,h,b,D)}),cP=Bt(function(u,h,b){var M=v|m;if(b.length){var D=ha(b,hu(cP));M|=C}return yo(h,M,u,b,D)});function uP(u,h,b){h=b?n:h;var M=yo(u,E,n,n,n,n,n,h);return M.placeholder=uP.placeholder,M}function dP(u,h,b){h=b?n:h;var M=yo(u,T,n,n,n,n,n,h);return M.placeholder=dP.placeholder,M}function fP(u,h,b){var M,D,F,H,Y,le,Me=0,Ce=!1,Fe=!1,Qe=!0;if(typeof u!="function")throw new Hi(o);h=qi(h)||0,Pn(b)&&(Ce=!!b.leading,Fe="maxWait"in b,F=Fe?er(qi(b.maxWait)||0,h):F,Qe="trailing"in b?!!b.trailing:Qe);function pt($n){var ys=M,bo=D;return M=D=n,Me=$n,H=u.apply(bo,ys),H}function Et($n){return Me=$n,Y=zf($t,h),Ce?pt($n):H}function Ut($n){var ys=$n-le,bo=$n-Me,NP=h-ys;return Fe?br(NP,F-bo):NP}function Tt($n){var ys=$n-le,bo=$n-Me;return le===n||ys>=h||ys<0||Fe&&bo>=F}function $t(){var $n=dg();if(Tt($n))return qt($n);Y=zf($t,Ut($n))}function qt($n){return Y=n,Qe&&M?pt($n):(M=D=n,H)}function bi(){Y!==n&&SR(Y),Me=0,M=le=D=Y=n}function Br(){return Y===n?H:qt(dg())}function Ei(){var $n=dg(),ys=Tt($n);if(M=arguments,D=this,le=$n,ys){if(Y===n)return Et(le);if(Fe)return SR(Y),Y=zf($t,h),pt(le)}return Y===n&&(Y=zf($t,h)),H}return Ei.cancel=bi,Ei.flush=Br,Ei}var l7=Bt(function(u,h){return tR(u,1,h)}),c7=Bt(function(u,h,b){return tR(u,qi(h)||0,b)});function u7(u){return yo(u,L)}function fg(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new Hi(o);var b=function(){var M=arguments,D=h?h.apply(this,M):M[0],F=b.cache;if(F.has(D))return F.get(D);var H=u.apply(this,M);return b.cache=F.set(D,H)||F,H};return b.cache=new(fg.Cache||go),b}fg.Cache=go;function hg(u){if(typeof u!="function")throw new Hi(o);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function d7(u){return lP(2,u)}var f7=J6(function(u,h){h=h.length==1&&Lt(h[0])?An(h[0],_i(St())):An(mr(h,1),_i(St()));var b=h.length;return Bt(function(M){for(var D=-1,F=br(M.length,b);++D<F;)M[D]=h[D].call(this,M[D]);return xi(u,this,M)})}),O_=Bt(function(u,h){var b=ha(h,hu(O_));return yo(u,C,n,h,b)}),hP=Bt(function(u,h){var b=ha(h,hu(hP));return yo(u,P,n,h,b)}),h7=xo(function(u,h){return yo(u,A,n,n,n,h)});function p7(u,h){if(typeof u!="function")throw new Hi(o);return h=h===n?h:Ot(h),Bt(u,h)}function m7(u,h){if(typeof u!="function")throw new Hi(o);return h=h==null?0:er(Ot(h),0),Bt(function(b){var M=b[h],D=ya(b,0,h);return M&&fa(D,M),xi(u,this,D)})}function g7(u,h,b){var M=!0,D=!0;if(typeof u!="function")throw new Hi(o);return Pn(b)&&(M="leading"in b?!!b.leading:M,D="trailing"in b?!!b.trailing:D),fP(u,h,{leading:M,maxWait:h,trailing:D})}function v7(u){return aP(u,1)}function y7(u,h){return O_(x_(h),u)}function x7(){if(!arguments.length)return[];var u=arguments[0];return Lt(u)?u:[u]}function _7(u){return Wi(u,g)}function w7(u,h){return h=typeof h=="function"?h:n,Wi(u,g,h)}function S7(u){return Wi(u,f|g)}function b7(u,h){return h=typeof h=="function"?h:n,Wi(u,f|g,h)}function E7(u,h){return h==null||eR(u,h,cr(h))}function vs(u,h){return u===h||u!==u&&h!==h}var T7=sg(a_),M7=sg(function(u,h){return u>=h}),Hl=oR(function(){return arguments}())?oR:function(u){return Fn(u)&&cn.call(u,"callee")&&!WA.call(u,"callee")},Lt=ve.isArray,C7=CA?_i(CA):O6;function Qr(u){return u!=null&&pg(u.length)&&!wo(u)}function Vn(u){return Fn(u)&&Qr(u)}function A7(u){return u===!0||u===!1||Fn(u)&&Fr(u)==we}var xa=V$||W_,R7=AA?_i(AA):k6;function P7(u){return Fn(u)&&u.nodeType===1&&!Vf(u)}function N7(u){if(u==null)return!0;if(Qr(u)&&(Lt(u)||typeof u=="string"||typeof u.splice=="function"||xa(u)||pu(u)||Hl(u)))return!u.length;var h=Er(u);if(h==je||h==k)return!u.size;if(Bf(u))return!u_(u).length;for(var b in u)if(cn.call(u,b))return!1;return!0}function L7(u,h){return Uf(u,h)}function D7(u,h,b){b=typeof b=="function"?b:n;var M=b?b(u,h):n;return M===n?Uf(u,h,n,b):!!M}function k_(u){if(!Fn(u))return!1;var h=Fr(u);return h==$e||h==ke||typeof u.message=="string"&&typeof u.name=="string"&&!Vf(u)}function I7(u){return typeof u=="number"&&KA(u)}function wo(u){if(!Pn(u))return!1;var h=Fr(u);return h==j||h==tt||h==re||h==ot}function pP(u){return typeof u=="number"&&u==Ot(u)}function pg(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=B}function Pn(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function Fn(u){return u!=null&&typeof u=="object"}var mP=RA?_i(RA):F6;function O7(u,h){return u===h||c_(u,h,M_(h))}function k7(u,h,b){return b=typeof b=="function"?b:n,c_(u,h,M_(h),b)}function U7(u){return gP(u)&&u!=+u}function F7(u){if(wH(u))throw new Rt(s);return aR(u)}function j7(u){return u===null}function B7(u){return u==null}function gP(u){return typeof u=="number"||Fn(u)&&Fr(u)==st}function Vf(u){if(!Fn(u)||Fr(u)!=_t)return!1;var h=zm(u);if(h===null)return!0;var b=cn.call(h,"constructor")&&h.constructor;return typeof b=="function"&&b instanceof b&&Um.call(b)==k$}var U_=PA?_i(PA):j6;function z7(u){return pP(u)&&u>=-B&&u<=B}var vP=NA?_i(NA):B6;function mg(u){return typeof u=="string"||!Lt(u)&&Fn(u)&&Fr(u)==de}function Si(u){return typeof u=="symbol"||Fn(u)&&Fr(u)==_e}var pu=LA?_i(LA):z6;function V7(u){return u===n}function $7(u){return Fn(u)&&Er(u)==Se}function H7(u){return Fn(u)&&Fr(u)==lt}var G7=sg(d_),W7=sg(function(u,h){return u<=h});function yP(u){if(!u)return[];if(Qr(u))return mg(u)?ms(u):Jr(u);if(Rf&&u[Rf])return E$(u[Rf]());var h=Er(u),b=h==je?Jx:h==k?Im:mu;return b(u)}function So(u){if(!u)return u===0?u:0;if(u=qi(u),u===se||u===-se){var h=u<0?-1:1;return h*J}return u===u?u:0}function Ot(u){var h=So(u),b=h%1;return h===h?b?h-b:h:0}function xP(u){return u?Bl(Ot(u),0,ge):0}function qi(u){if(typeof u=="number")return u;if(Si(u))return ue;if(Pn(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=Pn(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=FA(u);var b=G.test(u);return b||ae.test(u)?a$(u.slice(2),b?2:8):O.test(u)?ue:+u}function _P(u){return Ws(u,ei(u))}function X7(u){return u?Bl(Ot(u),-B,B):u===0?u:0}function on(u){return u==null?"":wi(u)}var K7=du(function(u,h){if(Bf(h)||Qr(h)){Ws(h,cr(h),u);return}for(var b in h)cn.call(h,b)&&If(u,b,h[b])}),wP=du(function(u,h){Ws(h,ei(h),u)}),gg=du(function(u,h,b,M){Ws(h,ei(h),u,M)}),q7=du(function(u,h,b,M){Ws(h,cr(h),u,M)}),Y7=xo(i_);function Z7(u,h){var b=uu(u);return h==null?b:QA(b,h)}var J7=Bt(function(u,h){u=vn(u);var b=-1,M=h.length,D=M>2?h[2]:n;for(D&&jr(h[0],h[1],D)&&(M=1);++b<M;)for(var F=h[b],H=ei(F),Y=-1,le=H.length;++Y<le;){var Me=H[Y],Ce=u[Me];(Ce===n||vs(Ce,au[Me])&&!cn.call(u,Me))&&(u[Me]=F[Me])}return u}),Q7=Bt(function(u){return u.push(n,FR),xi(SP,n,u)});function eG(u,h){return IA(u,St(h,3),Gs)}function tG(u,h){return IA(u,St(h,3),o_)}function nG(u,h){return u==null?u:s_(u,St(h,3),ei)}function rG(u,h){return u==null?u:iR(u,St(h,3),ei)}function iG(u,h){return u&&Gs(u,St(h,3))}function sG(u,h){return u&&o_(u,St(h,3))}function oG(u){return u==null?[]:Zm(u,cr(u))}function aG(u){return u==null?[]:Zm(u,ei(u))}function F_(u,h,b){var M=u==null?n:zl(u,h);return M===n?b:M}function lG(u,h){return u!=null&&zR(u,h,N6)}function j_(u,h){return u!=null&&zR(u,h,L6)}var cG=DR(function(u,h,b){h!=null&&typeof h.toString!="function"&&(h=Fm.call(h)),u[h]=b},z_(ti)),uG=DR(function(u,h,b){h!=null&&typeof h.toString!="function"&&(h=Fm.call(h)),cn.call(u,h)?u[h].push(b):u[h]=[b]},St),dG=Bt(kf);function cr(u){return Qr(u)?ZA(u):u_(u)}function ei(u){return Qr(u)?ZA(u,!0):V6(u)}function fG(u,h){var b={};return h=St(h,3),Gs(u,function(M,D,F){vo(b,h(M,D,F),M)}),b}function hG(u,h){var b={};return h=St(h,3),Gs(u,function(M,D,F){vo(b,D,h(M,D,F))}),b}var pG=du(function(u,h,b){Jm(u,h,b)}),SP=du(function(u,h,b,M){Jm(u,h,b,M)}),mG=xo(function(u,h){var b={};if(u==null)return b;var M=!1;h=An(h,function(F){return F=va(F,u),M||(M=F.length>1),F}),Ws(u,E_(u),b),M&&(b=Wi(b,f|p|g,cH));for(var D=h.length;D--;)g_(b,h[D]);return b});function gG(u,h){return bP(u,hg(St(h)))}var vG=xo(function(u,h){return u==null?{}:H6(u,h)});function bP(u,h){if(u==null)return{};var b=An(E_(u),function(M){return[M]});return h=St(h),pR(u,b,function(M,D){return h(M,D[0])})}function yG(u,h,b){h=va(h,u);var M=-1,D=h.length;for(D||(D=1,u=n);++M<D;){var F=u==null?n:u[Xs(h[M])];F===n&&(M=D,F=b),u=wo(F)?F.call(u):F}return u}function xG(u,h,b){return u==null?u:Ff(u,h,b)}function _G(u,h,b,M){return M=typeof M=="function"?M:n,u==null?u:Ff(u,h,b,M)}var EP=kR(cr),TP=kR(ei);function wG(u,h,b){var M=Lt(u),D=M||xa(u)||pu(u);if(h=St(h,4),b==null){var F=u&&u.constructor;D?b=M?new F:[]:Pn(u)?b=wo(F)?uu(zm(u)):{}:b={}}return(D?$i:Gs)(u,function(H,Y,le){return h(b,H,Y,le)}),b}function SG(u,h){return u==null?!0:g_(u,h)}function bG(u,h,b){return u==null?u:xR(u,h,x_(b))}function EG(u,h,b,M){return M=typeof M=="function"?M:n,u==null?u:xR(u,h,x_(b),M)}function mu(u){return u==null?[]:Zx(u,cr(u))}function TG(u){return u==null?[]:Zx(u,ei(u))}function MG(u,h,b){return b===n&&(b=h,h=n),b!==n&&(b=qi(b),b=b===b?b:0),h!==n&&(h=qi(h),h=h===h?h:0),Bl(qi(u),h,b)}function CG(u,h,b){return h=So(h),b===n?(b=h,h=0):b=So(b),u=qi(u),D6(u,h,b)}function AG(u,h,b){if(b&&typeof b!="boolean"&&jr(u,h,b)&&(h=b=n),b===n&&(typeof h=="boolean"?(b=h,h=n):typeof u=="boolean"&&(b=u,u=n)),u===n&&h===n?(u=0,h=1):(u=So(u),h===n?(h=u,u=0):h=So(h)),u>h){var M=u;u=h,h=M}if(b||u%1||h%1){var D=qA();return br(u+D*(h-u+o$("1e-"+((D+"").length-1))),h)}return h_(u,h)}var RG=fu(function(u,h,b){return h=h.toLowerCase(),u+(b?MP(h):h)});function MP(u){return B_(on(u).toLowerCase())}function CP(u){return u=on(u),u&&u.replace(Le,x$).replace(Y8,"")}function PG(u,h,b){u=on(u),h=wi(h);var M=u.length;b=b===n?M:Bl(Ot(b),0,M);var D=b;return b-=h.length,b>=0&&u.slice(b,D)==h}function NG(u){return u=on(u),u&&Nt.test(u)?u.replace(Ve,_$):u}function LG(u){return u=on(u),u&&la.test(u)?u.replace(Sr,"\\$&"):u}var DG=fu(function(u,h,b){return u+(b?"-":"")+h.toLowerCase()}),IG=fu(function(u,h,b){return u+(b?" ":"")+h.toLowerCase()}),OG=PR("toLowerCase");function kG(u,h,b){u=on(u),h=Ot(h);var M=h?su(u):0;if(!h||M>=h)return u;var D=(h-M)/2;return ig(Gm(D),b)+u+ig(Hm(D),b)}function UG(u,h,b){u=on(u),h=Ot(h);var M=h?su(u):0;return h&&M<h?u+ig(h-M,b):u}function FG(u,h,b){u=on(u),h=Ot(h);var M=h?su(u):0;return h&&M<h?ig(h-M,b)+u:u}function jG(u,h,b){return b||h==null?h=0:h&&(h=+h),W$(on(u).replace(ca,""),h||0)}function BG(u,h,b){return(b?jr(u,h,b):h===n)?h=1:h=Ot(h),p_(on(u),h)}function zG(){var u=arguments,h=on(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var VG=fu(function(u,h,b){return u+(b?"_":"")+h.toLowerCase()});function $G(u,h,b){return b&&typeof b!="number"&&jr(u,h,b)&&(h=b=n),b=b===n?ge:b>>>0,b?(u=on(u),u&&(typeof h=="string"||h!=null&&!U_(h))&&(h=wi(h),!h&&iu(u))?ya(ms(u),0,b):u.split(h,b)):[]}var HG=fu(function(u,h,b){return u+(b?" ":"")+B_(h)});function GG(u,h,b){return u=on(u),b=b==null?0:Bl(Ot(b),0,u.length),h=wi(h),u.slice(b,b+h.length)==h}function WG(u,h,b){var M=U.templateSettings;b&&jr(u,h,b)&&(h=n),u=on(u),h=gg({},h,M,UR);var D=gg({},h.imports,M.imports,UR),F=cr(D),H=Zx(D,F),Y,le,Me=0,Ce=h.interpolate||Ie,Fe="__p += '",Qe=Qx((h.escape||Ie).source+"|"+Ce.source+"|"+(Ce===Wt?Ct:Ie).source+"|"+(h.evaluate||Ie).source+"|$","g"),pt="//# sourceURL="+(cn.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++t$+"]")+`
`;u.replace(Qe,function(Tt,$t,qt,bi,Br,Ei){return qt||(qt=bi),Fe+=u.slice(Me,Ei).replace(qe,w$),$t&&(Y=!0,Fe+=`' +
__e(`+$t+`) +
'`),Br&&(le=!0,Fe+=`';
`+Br+`;
__p += '`),qt&&(Fe+=`' +
((__t = (`+qt+`)) == null ? '' : __t) +
'`),Me=Ei+Tt.length,Tt}),Fe+=`';
`;var Et=cn.call(h,"variable")&&h.variable;if(!Et)Fe=`with (obj) {
`+Fe+`
}
`;else if(it.test(Et))throw new Rt(a);Fe=(le?Fe.replace(ee,""):Fe).replace(Ue,"$1").replace(Ee,"$1;"),Fe="function("+(Et||"obj")+`) {
`+(Et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Fe+`return __p
}`;var Ut=RP(function(){return nn(F,pt+"return "+Fe).apply(n,H)});if(Ut.source=Fe,k_(Ut))throw Ut;return Ut}function XG(u){return on(u).toLowerCase()}function KG(u){return on(u).toUpperCase()}function qG(u,h,b){if(u=on(u),u&&(b||h===n))return FA(u);if(!u||!(h=wi(h)))return u;var M=ms(u),D=ms(h),F=jA(M,D),H=BA(M,D)+1;return ya(M,F,H).join("")}function YG(u,h,b){if(u=on(u),u&&(b||h===n))return u.slice(0,VA(u)+1);if(!u||!(h=wi(h)))return u;var M=ms(u),D=BA(M,ms(h))+1;return ya(M,0,D).join("")}function ZG(u,h,b){if(u=on(u),u&&(b||h===n))return u.replace(ca,"");if(!u||!(h=wi(h)))return u;var M=ms(u),D=jA(M,ms(h));return ya(M,D).join("")}function JG(u,h){var b=N,M=I;if(Pn(h)){var D="separator"in h?h.separator:D;b="length"in h?Ot(h.length):b,M="omission"in h?wi(h.omission):M}u=on(u);var F=u.length;if(iu(u)){var H=ms(u);F=H.length}if(b>=F)return u;var Y=b-su(M);if(Y<1)return M;var le=H?ya(H,0,Y).join(""):u.slice(0,Y);if(D===n)return le+M;if(H&&(Y+=le.length-Y),U_(D)){if(u.slice(Y).search(D)){var Me,Ce=le;for(D.global||(D=Qx(D.source,on(Ye.exec(D))+"g")),D.lastIndex=0;Me=D.exec(Ce);)var Fe=Me.index;le=le.slice(0,Fe===n?Y:Fe)}}else if(u.indexOf(wi(D),Y)!=Y){var Qe=le.lastIndexOf(D);Qe>-1&&(le=le.slice(0,Qe))}return le+M}function QG(u){return u=on(u),u&&yt.test(u)?u.replace(Te,A$):u}var eW=fu(function(u,h,b){return u+(b?" ":"")+h.toUpperCase()}),B_=PR("toUpperCase");function AP(u,h,b){return u=on(u),h=b?n:h,h===n?b$(u)?N$(u):p$(u):u.match(h)||[]}var RP=Bt(function(u,h){try{return xi(u,n,h)}catch(b){return k_(b)?b:new Rt(b)}}),tW=xo(function(u,h){return $i(h,function(b){b=Xs(b),vo(u,b,I_(u[b],u))}),u});function nW(u){var h=u==null?0:u.length,b=St();return u=h?An(u,function(M){if(typeof M[1]!="function")throw new Hi(o);return[b(M[0]),M[1]]}):[],Bt(function(M){for(var D=-1;++D<h;){var F=u[D];if(xi(F[0],this,M))return xi(F[1],this,M)}})}function rW(u){return A6(Wi(u,f))}function z_(u){return function(){return u}}function iW(u,h){return u==null||u!==u?h:u}var sW=LR(),oW=LR(!0);function ti(u){return u}function V_(u){return lR(typeof u=="function"?u:Wi(u,f))}function aW(u){return uR(Wi(u,f))}function lW(u,h){return dR(u,Wi(h,f))}var cW=Bt(function(u,h){return function(b){return kf(b,u,h)}}),uW=Bt(function(u,h){return function(b){return kf(u,b,h)}});function $_(u,h,b){var M=cr(h),D=Zm(h,M);b==null&&!(Pn(h)&&(D.length||!M.length))&&(b=h,h=u,u=this,D=Zm(h,cr(h)));var F=!(Pn(b)&&"chain"in b)||!!b.chain,H=wo(u);return $i(D,function(Y){var le=h[Y];u[Y]=le,H&&(u.prototype[Y]=function(){var Me=this.__chain__;if(F||Me){var Ce=u(this.__wrapped__),Fe=Ce.__actions__=Jr(this.__actions__);return Fe.push({func:le,args:arguments,thisArg:u}),Ce.__chain__=Me,Ce}return le.apply(u,fa([this.value()],arguments))})}),u}function dW(){return pr._===this&&(pr._=U$),this}function H_(){}function fW(u){return u=Ot(u),Bt(function(h){return fR(h,u)})}var hW=w_(An),pW=w_(DA),mW=w_(Wx);function PP(u){return A_(u)?Xx(Xs(u)):G6(u)}function gW(u){return function(h){return u==null?n:zl(u,h)}}var vW=IR(),yW=IR(!0);function G_(){return[]}function W_(){return!1}function xW(){return{}}function _W(){return""}function wW(){return!0}function SW(u,h){if(u=Ot(u),u<1||u>B)return[];var b=ge,M=br(u,ge);h=St(h),u-=ge;for(var D=Yx(M,h);++b<u;)h(b);return D}function bW(u){return Lt(u)?An(u,Xs):Si(u)?[u]:Jr(YR(on(u)))}function EW(u){var h=++O$;return on(u)+h}var TW=rg(function(u,h){return u+h},0),MW=S_("ceil"),CW=rg(function(u,h){return u/h},1),AW=S_("floor");function RW(u){return u&&u.length?Ym(u,ti,a_):n}function PW(u,h){return u&&u.length?Ym(u,St(h,2),a_):n}function NW(u){return kA(u,ti)}function LW(u,h){return kA(u,St(h,2))}function DW(u){return u&&u.length?Ym(u,ti,d_):n}function IW(u,h){return u&&u.length?Ym(u,St(h,2),d_):n}var OW=rg(function(u,h){return u*h},1),kW=S_("round"),UW=rg(function(u,h){return u-h},0);function FW(u){return u&&u.length?qx(u,ti):0}function jW(u,h){return u&&u.length?qx(u,St(h,2)):0}return U.after=a7,U.ary=aP,U.assign=K7,U.assignIn=wP,U.assignInWith=gg,U.assignWith=q7,U.at=Y7,U.before=lP,U.bind=I_,U.bindAll=tW,U.bindKey=cP,U.castArray=x7,U.chain=iP,U.chunk=AH,U.compact=RH,U.concat=PH,U.cond=nW,U.conforms=rW,U.constant=z_,U.countBy=F9,U.create=Z7,U.curry=uP,U.curryRight=dP,U.debounce=fP,U.defaults=J7,U.defaultsDeep=Q7,U.defer=l7,U.delay=c7,U.difference=NH,U.differenceBy=LH,U.differenceWith=DH,U.drop=IH,U.dropRight=OH,U.dropRightWhile=kH,U.dropWhile=UH,U.fill=FH,U.filter=B9,U.flatMap=$9,U.flatMapDeep=H9,U.flatMapDepth=G9,U.flatten=eP,U.flattenDeep=jH,U.flattenDepth=BH,U.flip=u7,U.flow=sW,U.flowRight=oW,U.fromPairs=zH,U.functions=oG,U.functionsIn=aG,U.groupBy=W9,U.initial=$H,U.intersection=HH,U.intersectionBy=GH,U.intersectionWith=WH,U.invert=cG,U.invertBy=uG,U.invokeMap=K9,U.iteratee=V_,U.keyBy=q9,U.keys=cr,U.keysIn=ei,U.map=ug,U.mapKeys=fG,U.mapValues=hG,U.matches=aW,U.matchesProperty=lW,U.memoize=fg,U.merge=pG,U.mergeWith=SP,U.method=cW,U.methodOf=uW,U.mixin=$_,U.negate=hg,U.nthArg=fW,U.omit=mG,U.omitBy=gG,U.once=d7,U.orderBy=Y9,U.over=hW,U.overArgs=f7,U.overEvery=pW,U.overSome=mW,U.partial=O_,U.partialRight=hP,U.partition=Z9,U.pick=vG,U.pickBy=bP,U.property=PP,U.propertyOf=gW,U.pull=YH,U.pullAll=nP,U.pullAllBy=ZH,U.pullAllWith=JH,U.pullAt=QH,U.range=vW,U.rangeRight=yW,U.rearg=h7,U.reject=e7,U.remove=e9,U.rest=p7,U.reverse=L_,U.sampleSize=n7,U.set=xG,U.setWith=_G,U.shuffle=r7,U.slice=t9,U.sortBy=o7,U.sortedUniq=l9,U.sortedUniqBy=c9,U.split=$G,U.spread=m7,U.tail=u9,U.take=d9,U.takeRight=f9,U.takeRightWhile=h9,U.takeWhile=p9,U.tap=R9,U.throttle=g7,U.thru=cg,U.toArray=yP,U.toPairs=EP,U.toPairsIn=TP,U.toPath=bW,U.toPlainObject=_P,U.transform=wG,U.unary=v7,U.union=m9,U.unionBy=g9,U.unionWith=v9,U.uniq=y9,U.uniqBy=x9,U.uniqWith=_9,U.unset=SG,U.unzip=D_,U.unzipWith=rP,U.update=bG,U.updateWith=EG,U.values=mu,U.valuesIn=TG,U.without=w9,U.words=AP,U.wrap=y7,U.xor=S9,U.xorBy=b9,U.xorWith=E9,U.zip=T9,U.zipObject=M9,U.zipObjectDeep=C9,U.zipWith=A9,U.entries=EP,U.entriesIn=TP,U.extend=wP,U.extendWith=gg,$_(U,U),U.add=TW,U.attempt=RP,U.camelCase=RG,U.capitalize=MP,U.ceil=MW,U.clamp=MG,U.clone=_7,U.cloneDeep=S7,U.cloneDeepWith=b7,U.cloneWith=w7,U.conformsTo=E7,U.deburr=CP,U.defaultTo=iW,U.divide=CW,U.endsWith=PG,U.eq=vs,U.escape=NG,U.escapeRegExp=LG,U.every=j9,U.find=z9,U.findIndex=JR,U.findKey=eG,U.findLast=V9,U.findLastIndex=QR,U.findLastKey=tG,U.floor=AW,U.forEach=sP,U.forEachRight=oP,U.forIn=nG,U.forInRight=rG,U.forOwn=iG,U.forOwnRight=sG,U.get=F_,U.gt=T7,U.gte=M7,U.has=lG,U.hasIn=j_,U.head=tP,U.identity=ti,U.includes=X9,U.indexOf=VH,U.inRange=CG,U.invoke=dG,U.isArguments=Hl,U.isArray=Lt,U.isArrayBuffer=C7,U.isArrayLike=Qr,U.isArrayLikeObject=Vn,U.isBoolean=A7,U.isBuffer=xa,U.isDate=R7,U.isElement=P7,U.isEmpty=N7,U.isEqual=L7,U.isEqualWith=D7,U.isError=k_,U.isFinite=I7,U.isFunction=wo,U.isInteger=pP,U.isLength=pg,U.isMap=mP,U.isMatch=O7,U.isMatchWith=k7,U.isNaN=U7,U.isNative=F7,U.isNil=B7,U.isNull=j7,U.isNumber=gP,U.isObject=Pn,U.isObjectLike=Fn,U.isPlainObject=Vf,U.isRegExp=U_,U.isSafeInteger=z7,U.isSet=vP,U.isString=mg,U.isSymbol=Si,U.isTypedArray=pu,U.isUndefined=V7,U.isWeakMap=$7,U.isWeakSet=H7,U.join=XH,U.kebabCase=DG,U.last=Ki,U.lastIndexOf=KH,U.lowerCase=IG,U.lowerFirst=OG,U.lt=G7,U.lte=W7,U.max=RW,U.maxBy=PW,U.mean=NW,U.meanBy=LW,U.min=DW,U.minBy=IW,U.stubArray=G_,U.stubFalse=W_,U.stubObject=xW,U.stubString=_W,U.stubTrue=wW,U.multiply=OW,U.nth=qH,U.noConflict=dW,U.noop=H_,U.now=dg,U.pad=kG,U.padEnd=UG,U.padStart=FG,U.parseInt=jG,U.random=AG,U.reduce=J9,U.reduceRight=Q9,U.repeat=BG,U.replace=zG,U.result=yG,U.round=kW,U.runInContext=ie,U.sample=t7,U.size=i7,U.snakeCase=VG,U.some=s7,U.sortedIndex=n9,U.sortedIndexBy=r9,U.sortedIndexOf=i9,U.sortedLastIndex=s9,U.sortedLastIndexBy=o9,U.sortedLastIndexOf=a9,U.startCase=HG,U.startsWith=GG,U.subtract=UW,U.sum=FW,U.sumBy=jW,U.template=WG,U.times=SW,U.toFinite=So,U.toInteger=Ot,U.toLength=xP,U.toLower=XG,U.toNumber=qi,U.toSafeInteger=X7,U.toString=on,U.toUpper=KG,U.trim=qG,U.trimEnd=YG,U.trimStart=ZG,U.truncate=JG,U.unescape=QG,U.uniqueId=EW,U.upperCase=eW,U.upperFirst=B_,U.each=sP,U.eachRight=oP,U.first=tP,$_(U,function(){var u={};return Gs(U,function(h,b){cn.call(U.prototype,b)||(u[b]=h)}),u}(),{chain:!1}),U.VERSION=r,$i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){U[u].placeholder=U}),$i(["drop","take"],function(u,h){Xt.prototype[u]=function(b){b=b===n?1:er(Ot(b),0);var M=this.__filtered__&&!h?new Xt(this):this.clone();return M.__filtered__?M.__takeCount__=br(b,M.__takeCount__):M.__views__.push({size:br(b,ge),type:u+(M.__dir__<0?"Right":"")}),M},Xt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),$i(["filter","map","takeWhile"],function(u,h){var b=h+1,M=b==z||b==q;Xt.prototype[u]=function(D){var F=this.clone();return F.__iteratees__.push({iteratee:St(D,3),type:b}),F.__filtered__=F.__filtered__||M,F}}),$i(["head","last"],function(u,h){var b="take"+(h?"Right":"");Xt.prototype[u]=function(){return this[b](1).value()[0]}}),$i(["initial","tail"],function(u,h){var b="drop"+(h?"":"Right");Xt.prototype[u]=function(){return this.__filtered__?new Xt(this):this[b](1)}}),Xt.prototype.compact=function(){return this.filter(ti)},Xt.prototype.find=function(u){return this.filter(u).head()},Xt.prototype.findLast=function(u){return this.reverse().find(u)},Xt.prototype.invokeMap=Bt(function(u,h){return typeof u=="function"?new Xt(this):this.map(function(b){return kf(b,u,h)})}),Xt.prototype.reject=function(u){return this.filter(hg(St(u)))},Xt.prototype.slice=function(u,h){u=Ot(u);var b=this;return b.__filtered__&&(u>0||h<0)?new Xt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),h!==n&&(h=Ot(h),b=h<0?b.dropRight(-h):b.take(h-u)),b)},Xt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Xt.prototype.toArray=function(){return this.take(ge)},Gs(Xt.prototype,function(u,h){var b=/^(?:filter|find|map|reject)|While$/.test(h),M=/^(?:head|last)$/.test(h),D=U[M?"take"+(h=="last"?"Right":""):h],F=M||/^find/.test(h);D&&(U.prototype[h]=function(){var H=this.__wrapped__,Y=M?[1]:arguments,le=H instanceof Xt,Me=Y[0],Ce=le||Lt(H),Fe=function($t){var qt=D.apply(U,fa([$t],Y));return M&&Qe?qt[0]:qt};Ce&&b&&typeof Me=="function"&&Me.length!=1&&(le=Ce=!1);var Qe=this.__chain__,pt=!!this.__actions__.length,Et=F&&!Qe,Ut=le&&!pt;if(!F&&Ce){H=Ut?H:new Xt(this);var Tt=u.apply(H,Y);return Tt.__actions__.push({func:cg,args:[Fe],thisArg:n}),new Gi(Tt,Qe)}return Et&&Ut?u.apply(this,Y):(Tt=this.thru(Fe),Et?M?Tt.value()[0]:Tt.value():Tt)})}),$i(["pop","push","shift","sort","splice","unshift"],function(u){var h=Om[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",M=/^(?:pop|shift)$/.test(u);U.prototype[u]=function(){var D=arguments;if(M&&!this.__chain__){var F=this.value();return h.apply(Lt(F)?F:[],D)}return this[b](function(H){return h.apply(Lt(H)?H:[],D)})}}),Gs(Xt.prototype,function(u,h){var b=U[h];if(b){var M=b.name+"";cn.call(cu,M)||(cu[M]=[]),cu[M].push({name:h,func:b})}}),cu[ng(n,m).name]=[{name:"wrapper",func:n}],Xt.prototype.clone=Q$,Xt.prototype.reverse=e6,Xt.prototype.value=t6,U.prototype.at=P9,U.prototype.chain=N9,U.prototype.commit=L9,U.prototype.next=D9,U.prototype.plant=O9,U.prototype.reverse=k9,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=U9,U.prototype.first=U.prototype.head,Rf&&(U.prototype[Rf]=I9),U},ou=L$();kl?((kl.exports=ou)._=ou,Vx._=ou):pr._=ou}).call(yr)})(ey,ey.exports);var ds=ey.exports,$j="AlertDialog",[Qde,WSe]=fo($j,[oF]),sa=oF(),Hj=t=>{const{__scopeAlertDialog:e,...n}=t,r=sa(e);return x.jsx(zy,{...r,...n,modal:!0})};Hj.displayName=$j;var efe="AlertDialogTrigger",Gj=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=sa(n);return x.jsx(mM,{...i,...r,ref:e})});Gj.displayName=efe;var tfe="AlertDialogPortal",Wj=t=>{const{__scopeAlertDialog:e,...n}=t,r=sa(e);return x.jsx(Vy,{...r,...n})};Wj.displayName=tfe;var nfe="AlertDialogOverlay",Xj=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=sa(n);return x.jsx(gf,{...i,...r,ref:e})});Xj.displayName=nfe;var Dd="AlertDialogContent",[rfe,ife]=Qde(Dd),Kj=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=sa(n),o=w.useRef(null),a=tn(e,o),l=w.useRef(null);return x.jsx(Lie,{contentName:Dd,titleName:qj,docsSlug:"alert-dialog",children:x.jsx(rfe,{scope:n,cancelRef:l,children:x.jsxs(vf,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:bt(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[x.jsx($T,{children:r}),x.jsx(ofe,{contentRef:o})]})})})});Kj.displayName=Dd;var qj="AlertDialogTitle",Yj=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=sa(n);return x.jsx(yf,{...i,...r,ref:e})});Yj.displayName=qj;var Zj="AlertDialogDescription",Jj=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=sa(n);return x.jsx(xf,{...i,...r,ref:e})});Jj.displayName=Zj;var sfe="AlertDialogAction",Qj=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=sa(n);return x.jsx(fm,{...i,...r,ref:e})});Qj.displayName=sfe;var e5="AlertDialogCancel",t5=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=ife(e5,n),s=sa(n),o=tn(e,i);return x.jsx(fm,{...s,...r,ref:o})});t5.displayName=e5;var ofe=({contentRef:t})=>{const e=`\`${Dd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dd}\` by passing a \`${Zj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},afe=Hj,lfe=Gj,cfe=Wj,n5=Xj,r5=Kj,i5=Qj,s5=t5,o5=Yj,a5=Jj;const ufe=afe,dfe=lfe,ffe=cfe,l5=w.forwardRef(({className:t,...e},n)=>x.jsx(n5,{className:Ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));l5.displayName=n5.displayName;const c5=w.forwardRef(({className:t,...e},n)=>x.jsxs(ffe,{children:[x.jsx(l5,{}),x.jsx(r5,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));c5.displayName=r5.displayName;const u5=({className:t,...e})=>x.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});u5.displayName="AlertDialogHeader";const d5=({className:t,...e})=>x.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});d5.displayName="AlertDialogFooter";const f5=w.forwardRef(({className:t,...e},n)=>x.jsx(o5,{ref:n,className:Ae("text-lg font-semibold",t),...e}));f5.displayName=o5.displayName;const h5=w.forwardRef(({className:t,...e},n)=>x.jsx(a5,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));h5.displayName=a5.displayName;const p5=w.forwardRef(({className:t,...e},n)=>x.jsx(i5,{ref:n,className:Ae(GT(),t),...e}));p5.displayName=i5.displayName;const m5=w.forwardRef(({className:t,...e},n)=>x.jsx(s5,{ref:n,className:Ae(GT({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));m5.displayName=s5.displayName;function hfe(t){const{cartItem:e,refetch:n}=t,r=async()=>{await rn.from("cart-items").delete().eq("id",e.id),to({title:"Removed to cart",description:`Removed ${e.name} to cart successfully.`}),n()};return x.jsxs(ufe,{children:[x.jsx(dfe,{asChild:!0,children:x.jsxs("a",{className:"flex select-none items-center justify-between space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[x.jsx("div",{className:"bebas-neue-regular text-2xl font-medium leading-none text-foreground",children:e==null?void 0:e.name}),x.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:Mn(e.price)})]})}),x.jsxs(c5,{className:"helvetica",children:[x.jsxs(u5,{children:[x.jsx(f5,{children:"Remove item from cart?"}),x.jsxs(h5,{children:['Are you sure you want to remove item from cart, "',e.name,'" will be removed from your cart.']})]}),x.jsxs(d5,{children:[x.jsx(m5,{children:"Cancel"}),x.jsx(p5,{onClick:r,children:"Continue"})]})]})]})}function pfe(){const[t,e]=w.useState(!1),[n,r]=w.useState([]),i=mi();async function s(){const a=await rn.auth.getUser();if(!a){e(!1);return}const{user:l}=a.data;if(!l){e(!1);return}e(!0);const{data:c}=await rn.from("cart-items").select("*").eq("profile",l.id).is("order-id",null);c&&r(c)}const{t:o}=hs();return x.jsxs(JM,{className:"helvetica flex min-h-full w-screen flex-col",onFocus:s,children:[x.jsx(QM,{children:x.jsx(eC,{children:o("cart.yourCart")})}),t?x.jsxs(x.Fragment,{children:[x.jsx(Vj,{className:"flex-1 overflow-y-auto",children:x.jsx("div",{className:"space-y-2",children:ds.map(n,(a,l)=>x.jsx(hfe,{cartItem:a,refetch:s},l))})}),x.jsxs("div",{className:"sticky bottom-0 bg-inherit",children:[x.jsx(Go,{}),x.jsxs("div",{className:"flex items-center justify-between p-3",children:[x.jsx("div",{className:"bebas-neue-regular text-2xl font-medium leading-none text-foreground",children:o("cart.total")}),x.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:Mn(ds.sumBy(n,a=>a.price))})]}),x.jsx(ln,{className:"w-full",disabled:!n.length,onClick:()=>i("/checkout"),children:o("cart.continueToCheckout")})]})]}):null]})}/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g5=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...gfe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:g5("lucide",i),...a},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(vfe,{ref:s,iconNode:e,className:g5(`lucide-${mfe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=oa("BaggageClaim",[["path",{d:"M22 18H6a2 2 0 0 1-2-2V7a2 2 0 0 0-2-2",key:"4irg2o"}],["path",{d:"M17 14V4a2 2 0 0 0-2-2h-1a2 2 0 0 0-2 2v10",key:"14fcyx"}],["rect",{width:"13",height:"8",x:"8",y:"6",rx:"1",key:"o6oiis"}],["circle",{cx:"18",cy:"20",r:"2",key:"t9985n"}],["circle",{cx:"9",cy:"20",r:"2",key:"e5v82j"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=oa("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=oa("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=oa("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=oa("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=oa("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=oa("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=oa("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=oa("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var uD=1,Mfe=.9,Cfe=.8,Afe=.17,xS=.1,_S=.999,Rfe=.9999,Pfe=.99,Nfe=/[\\\/_+.#"@\[\(\{&]/,Lfe=/[\\\/_+.#"@\[\(\{&]/g,Dfe=/[\s-]/,v5=/[\s-]/g;function nE(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?uD:Pfe;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),d=0,f,p,g,_;c>=0;)f=nE(t,e,n,r,c+1,s+1,o),f>d&&(c===i?f*=uD:Nfe.test(t.charAt(c-1))?(f*=Cfe,g=t.slice(i,c-1).match(Lfe),g&&i>0&&(f*=Math.pow(_S,g.length))):Dfe.test(t.charAt(c-1))?(f*=Mfe,_=t.slice(i,c-1).match(v5),_&&i>0&&(f*=Math.pow(_S,_.length))):(f*=Afe,i>0&&(f*=Math.pow(_S,c-i))),t.charAt(c)!==e.charAt(s)&&(f*=Rfe)),(f<xS&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(p=nE(t,e,n,r,c+1,s+2,o),p*xS>f&&(f=p*xS)),f>d&&(d=f),c=n.indexOf(l,c+1);return o[a]=d,d}function dD(t){return t.toLowerCase().replace(v5," ")}function Ife(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,nE(t,e,dD(t),dD(e),0,0,{})}function Kr(){return Kr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kr.apply(null,arguments)}function Id(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ofe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function y5(...t){return e=>t.forEach(n=>Ofe(n,e))}function wm(...t){return w.useCallback(y5(...t),t)}function kfe(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,..._}=f,y=(p==null?void 0:p[t][l])||a,v=w.useMemo(()=>_,Object.values(_));return w.createElement(y.Provider,{value:v},g)}function d(f,p){const g=(p==null?void 0:p[t][l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Ufe(i,...e)]}function Ufe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const rE=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Ffe=ZE.useId||(()=>{});let jfe=0;function wS(t){const[e,n]=w.useState(Ffe());return rE(()=>{t||n(r=>r??String(jfe++))},[t]),t||(e?`radix-${e}`:"")}function jc(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Bfe({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=zfe({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=jc(n),l=w.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function zfe({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=jc(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const tC=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find($fe);if(s){const o=s.props.children,a=i.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return w.createElement(iE,Kr({},r,{ref:e}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(iE,Kr({},r,{ref:e}),n)});tC.displayName="Slot";const iE=w.forwardRef((t,e)=>{const{children:n,...r}=t;return w.isValidElement(n)?w.cloneElement(n,{...Hfe(r,n.props),ref:e?y5(e,n.ref):n.ref}):w.Children.count(n)>1?w.Children.only(null):null});iE.displayName="SlotClone";const Vfe=({children:t})=>w.createElement(w.Fragment,null,t);function $fe(t){return w.isValidElement(t)&&t.type===Vfe}function Hfe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Gfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ps=Gfe.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?tC:e;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,Kr({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Wfe(t,e){t&&fs.flushSync(()=>t.dispatchEvent(e))}function Xfe(t,e=globalThis==null?void 0:globalThis.document){const n=jc(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const sE="dismissableLayer.update",Kfe="dismissableLayer.pointerDownOutside",qfe="dismissableLayer.focusOutside";let fD;const Yfe=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zfe=w.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=w.useContext(Yfe),[f,p]=w.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,_]=w.useState({}),y=wm(e,A=>p(A)),v=Array.from(d.layers),[m]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=v.indexOf(m),E=f?v.indexOf(f):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,C=E>=S,P=Jfe(A=>{const L=A.target,N=[...d.branches].some(I=>I.contains(L));!C||N||(s==null||s(A),a==null||a(A),A.defaultPrevented||l==null||l())},g),R=Qfe(A=>{const L=A.target;[...d.branches].some(I=>I.contains(L))||(o==null||o(A),a==null||a(A),A.defaultPrevented||l==null||l())},g);return Xfe(A=>{E===d.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},g),w.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(fD=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),hD(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=fD)}},[f,g,r,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),hD())},[f,d]),w.useEffect(()=>{const A=()=>_({});return document.addEventListener(sE,A),()=>document.removeEventListener(sE,A)},[]),w.createElement(ps.div,Kr({},c,{ref:y,style:{pointerEvents:T?C?"auto":"none":void 0,...t.style},onFocusCapture:Id(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Id(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Id(t.onPointerDownCapture,P.onPointerDownCapture)}))});function Jfe(t,e=globalThis==null?void 0:globalThis.document){const n=jc(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){x5(Kfe,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qfe(t,e=globalThis==null?void 0:globalThis.document){const n=jc(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&x5(qfe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hD(){const t=new CustomEvent(sE);document.dispatchEvent(t)}function x5(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Wfe(i,s):i.dispatchEvent(s)}const SS="focusScope.autoFocusOnMount",bS="focusScope.autoFocusOnUnmount",pD={bubbles:!1,cancelable:!0},ehe=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=w.useState(null),c=jc(i),d=jc(s),f=w.useRef(null),p=wm(e,y=>l(y)),g=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const T=E.target;a.contains(T)?f.current=T:Ia(f.current,{select:!0})},v=function(E){if(g.paused||!a)return;const T=E.relatedTarget;T!==null&&(a.contains(T)||Ia(f.current,{select:!0}))},m=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&Ia(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const S=new MutationObserver(m);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),S.disconnect()}}},[r,a,g.paused]),w.useEffect(()=>{if(a){gD.add(g);const y=document.activeElement;if(!a.contains(y)){const m=new CustomEvent(SS,pD);a.addEventListener(SS,c),a.dispatchEvent(m),m.defaultPrevented||(the(ohe(_5(a)),{select:!0}),document.activeElement===y&&Ia(a))}return()=>{a.removeEventListener(SS,c),setTimeout(()=>{const m=new CustomEvent(bS,pD);a.addEventListener(bS,d),a.dispatchEvent(m),m.defaultPrevented||Ia(y??document.body,{select:!0}),a.removeEventListener(bS,d),gD.remove(g)},0)}}},[a,c,d,g]);const _=w.useCallback(y=>{if(!n&&!r||g.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,m=document.activeElement;if(v&&m){const S=y.currentTarget,[E,T]=nhe(S);E&&T?!y.shiftKey&&m===T?(y.preventDefault(),n&&Ia(E,{select:!0})):y.shiftKey&&m===E&&(y.preventDefault(),n&&Ia(T,{select:!0})):m===S&&y.preventDefault()}},[n,r,g.paused]);return w.createElement(ps.div,Kr({tabIndex:-1},o,{ref:p,onKeyDown:_}))});function the(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ia(r,{select:e}),document.activeElement!==n)return}function nhe(t){const e=_5(t),n=mD(e,t),r=mD(e.reverse(),t);return[n,r]}function _5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mD(t,e){for(const n of t)if(!rhe(n,{upTo:e}))return n}function rhe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ihe(t){return t instanceof HTMLInputElement&&"select"in t}function Ia(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ihe(t)&&e&&t.select()}}const gD=she();function she(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vD(t,e),t.unshift(e)},remove(e){var n;t=vD(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function vD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ohe(t){return t.filter(e=>e.tagName!=="A")}const ahe=w.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?VT.createPortal(w.createElement(ps.div,Kr({},i,{ref:e})),r):null});function lhe(t,e){return w.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const dx=t=>{const{present:e,children:n}=t,r=che(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=wm(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};dx.displayName="Presence";function che(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=vv(r.current);s.current=a==="mounted"?c:"none"},[a]),rE(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,g=vv(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),rE(()=>{if(e){const c=f=>{const g=vv(r.current).includes(f.animationName);f.target===e&&g&&fs.flushSync(()=>l("ANIMATION_END"))},d=f=>{f.target===e&&(s.current=vv(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function vv(t){return(t==null?void 0:t.animationName)||"none"}let ES=0;function uhe(){w.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:yD()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:yD()),ES++,()=>{ES===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ES--}},[])}function yD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var w5=YU(),TS=function(){},fx=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:TS,onWheelCapture:TS,onTouchMoveCapture:TS}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,_=t.inert,y=t.allowPinchZoom,v=t.as,m=v===void 0?"div":v,S=aM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=p,T=qU([n,e]),C=Dr(Dr({},S),i);return w.createElement(w.Fragment,null,d&&w.createElement(E,{sideCar:w5,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:s,allowPinchZoom:!!y,lockRef:n}),o?w.cloneElement(w.Children.only(a),Dr(Dr({},C),{ref:T})):w.createElement(m,Dr({},C,{className:l,ref:T}),a))});fx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fx.classNames={fullWidth:Hh,zeroRight:$h};var oE=!1;if(typeof window<"u")try{var yv=Object.defineProperty({},"passive",{get:function(){return oE=!0,!0}});window.addEventListener("test",yv,yv),window.removeEventListener("test",yv,yv)}catch{oE=!1}var zu=oE?{passive:!1}:!1,dhe=function(t){return t.tagName==="TEXTAREA"},S5=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dhe(t)&&n[e]==="visible")},fhe=function(t){return S5(t,"overflowY")},hhe=function(t){return S5(t,"overflowX")},xD=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=b5(t,n);if(r){var i=E5(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},phe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mhe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},b5=function(t,e){return t==="v"?fhe(e):hhe(e)},E5=function(t,e){return t==="v"?phe(e):mhe(e)},ghe=function(t,e){return t==="h"&&e==="rtl"?-1:1},vhe=function(t,e,n,r,i){var s=ghe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=E5(t,a),_=g[0],y=g[1],v=g[2],m=y-v-s*_;(_||m)&&b5(t,a)&&(f+=m,p+=_),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(f===0||!i)||!d&&(p===0||!i))&&(c=!0),c},xv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_D=function(t){return[t.deltaX,t.deltaY]},wD=function(t){return t&&"current"in t?t.current:t},yhe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xhe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_he=0,Vu=[];function whe(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(_he++)[0],s=w.useState(function(){return lM()})[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=KU([t.lockRef.current],(t.shards||[]).map(wD),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(y,v){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var m=xv(y),S=n.current,E="deltaX"in y?y.deltaX:S[0]-m[0],T="deltaY"in y?y.deltaY:S[1]-m[1],C,P=y.target,R=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in y&&R==="h"&&P.type==="range")return!1;var A=xD(R,P);if(!A)return!0;if(A?C=R:(C=R==="v"?"h":"v",A=xD(R,P)),!A)return!1;if(!r.current&&"changedTouches"in y&&(E||T)&&(r.current=C),!C)return!0;var L=r.current||C;return vhe(L,v,y,L==="h"?E:T,!0)},[]),l=w.useCallback(function(y){var v=y;if(!(!Vu.length||Vu[Vu.length-1]!==s)){var m="deltaY"in v?_D(v):xv(v),S=e.current.filter(function(C){return C.name===v.type&&C.target===v.target&&yhe(C.delta,m)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var E=(o.current.shards||[]).map(wD).filter(Boolean).filter(function(C){return C.contains(v.target)}),T=E.length>0?a(v,E[0]):!o.current.noIsolation;T&&v.cancelable&&v.preventDefault()}}},[]),c=w.useCallback(function(y,v,m,S){var E={name:y,delta:v,target:m,should:S};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(T){return T!==E})},1)},[]),d=w.useCallback(function(y){n.current=xv(y),r.current=void 0},[]),f=w.useCallback(function(y){c(y.type,_D(y),y.target,a(y,t.lockRef.current))},[]),p=w.useCallback(function(y){c(y.type,xv(y),y.target,a(y,t.lockRef.current))},[]);w.useEffect(function(){return Vu.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,zu),document.addEventListener("touchmove",l,zu),document.addEventListener("touchstart",d,zu),function(){Vu=Vu.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,zu),document.removeEventListener("touchmove",l,zu),document.removeEventListener("touchstart",d,zu)}},[]);var g=t.removeScrollBar,_=t.inert;return w.createElement(w.Fragment,null,_?w.createElement(s,{styles:xhe(i)}):null,g?w.createElement(eF,{gapMode:"margin"}):null)}const She=JU(w5,whe);var T5=w.forwardRef(function(t,e){return w.createElement(fx,Dr({},t,{ref:e,sideCar:She}))});T5.classNames=fx.classNames;const M5="Dialog",[C5,XSe]=kfe(M5),[bhe,Yc]=C5(M5),Ehe=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[c=!1,d]=Bfe({prop:r,defaultProp:i,onChange:s});return w.createElement(bhe,{scope:e,triggerRef:a,contentRef:l,contentId:wS(),titleId:wS(),descriptionId:wS(),open:c,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o},n)},A5="DialogPortal",[The,R5]=C5(A5,{forceMount:void 0}),Mhe=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Yc(A5,e);return w.createElement(The,{scope:e,forceMount:n},w.Children.map(r,o=>w.createElement(dx,{present:n||s.open},w.createElement(ahe,{asChild:!0,container:i},o))))},aE="DialogOverlay",Che=w.forwardRef((t,e)=>{const n=R5(aE,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Yc(aE,t.__scopeDialog);return s.modal?w.createElement(dx,{present:r||s.open},w.createElement(Ahe,Kr({},i,{ref:e}))):null}),Ahe=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Yc(aE,n);return w.createElement(T5,{as:tC,allowPinchZoom:!0,shards:[i.contentRef]},w.createElement(ps.div,Kr({"data-state":N5(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Op="DialogContent",Rhe=w.forwardRef((t,e)=>{const n=R5(Op,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Yc(Op,t.__scopeDialog);return w.createElement(dx,{present:r||s.open},s.modal?w.createElement(Phe,Kr({},i,{ref:e})):w.createElement(Nhe,Kr({},i,{ref:e})))}),Phe=w.forwardRef((t,e)=>{const n=Yc(Op,t.__scopeDialog),r=w.useRef(null),i=wm(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return uM(s)},[]),w.createElement(P5,Kr({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Id(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:Id(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Id(t.onFocusOutside,s=>s.preventDefault())}))}),Nhe=w.forwardRef((t,e)=>{const n=Yc(Op,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return w.createElement(P5,Kr({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,s),!s.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),s.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:s=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),P5=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Yc(Op,n),l=w.useRef(null),c=wm(e,l);return uhe(),w.createElement(w.Fragment,null,w.createElement(ehe,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},w.createElement(Zfe,Kr({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":N5(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function N5(t){return t?"open":"closed"}const Lhe=Ehe,Dhe=Mhe,Ihe=Che,Ohe=Rhe;var dh='[cmdk-group=""]',MS='[cmdk-group-items=""]',khe='[cmdk-group-heading=""]',nC='[cmdk-item=""]',SD=`${nC}:not([aria-disabled="true"])`,lE="cmdk-item-select",dc="data-value",Uhe=(t,e,n)=>Ife(t,e,n),L5=w.createContext(void 0),Sm=()=>w.useContext(L5),D5=w.createContext(void 0),rC=()=>w.useContext(D5),I5=w.createContext(void 0),O5=w.forwardRef((t,e)=>{let n=Yu(()=>{var oe,Re;return{search:"",value:(Re=(oe=t.value)!=null?oe:t.defaultValue)!=null?Re:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Yu(()=>new Set),i=Yu(()=>new Map),s=Yu(()=>new Map),o=Yu(()=>new Set),a=k5(t),{label:l,children:c,value:d,onValueChange:f,filter:p,shouldFilter:g,loop:_,disablePointerSelection:y=!1,vimBindings:v=!0,...m}=t,S=w.useId(),E=w.useId(),T=w.useId(),C=w.useRef(null),P=Khe();Bc(()=>{if(d!==void 0){let oe=d.trim();n.current.value=oe,R.emit()}},[d]),Bc(()=>{P(6,W)},[]);let R=w.useMemo(()=>({subscribe:oe=>(o.current.add(oe),()=>o.current.delete(oe)),snapshot:()=>n.current,setState:(oe,Re,X)=>{var ce,me,re;if(!Object.is(n.current[oe],Re)){if(n.current[oe]=Re,oe==="search")V(),N(),P(1,I);else if(oe==="value"&&(X||P(5,W),((ce=a.current)==null?void 0:ce.value)!==void 0)){let we=Re??"";(re=(me=a.current).onValueChange)==null||re.call(me,we);return}R.emit()}},emit:()=>{o.current.forEach(oe=>oe())}}),[]),A=w.useMemo(()=>({value:(oe,Re,X)=>{var ce;Re!==((ce=s.current.get(oe))==null?void 0:ce.value)&&(s.current.set(oe,{value:Re,keywords:X}),n.current.filtered.items.set(oe,L(Re,X)),P(2,()=>{N(),R.emit()}))},item:(oe,Re)=>(r.current.add(oe),Re&&(i.current.has(Re)?i.current.get(Re).add(oe):i.current.set(Re,new Set([oe]))),P(3,()=>{V(),N(),n.current.value||I(),R.emit()}),()=>{s.current.delete(oe),r.current.delete(oe),n.current.filtered.items.delete(oe);let X=z();P(4,()=>{V(),(X==null?void 0:X.getAttribute("id"))===oe&&I(),R.emit()})}),group:oe=>(i.current.has(oe)||i.current.set(oe,new Set),()=>{s.current.delete(oe),i.current.delete(oe)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],disablePointerSelection:y,listId:S,inputId:T,labelId:E,listInnerRef:C}),[]);function L(oe,Re){var X,ce;let me=(ce=(X=a.current)==null?void 0:X.filter)!=null?ce:Uhe;return oe?me(oe,n.current.search,Re):0}function N(){if(!n.current.search||a.current.shouldFilter===!1)return;let oe=n.current.filtered.items,Re=[];n.current.filtered.groups.forEach(ce=>{let me=i.current.get(ce),re=0;me.forEach(we=>{let Be=oe.get(we);re=Math.max(Be,re)}),Re.push([ce,re])});let X=C.current;Q().sort((ce,me)=>{var re,we;let Be=ce.getAttribute("id"),ke=me.getAttribute("id");return((re=oe.get(ke))!=null?re:0)-((we=oe.get(Be))!=null?we:0)}).forEach(ce=>{let me=ce.closest(MS);me?me.appendChild(ce.parentElement===me?ce:ce.closest(`${MS} > *`)):X.appendChild(ce.parentElement===X?ce:ce.closest(`${MS} > *`))}),Re.sort((ce,me)=>me[1]-ce[1]).forEach(ce=>{let me=C.current.querySelector(`${dh}[${dc}="${encodeURIComponent(ce[0])}"]`);me==null||me.parentElement.appendChild(me)})}function I(){let oe=Q().find(X=>X.getAttribute("aria-disabled")!=="true"),Re=oe==null?void 0:oe.getAttribute(dc);R.setState("value",Re||void 0)}function V(){var oe,Re,X,ce;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let me=0;for(let re of r.current){let we=(Re=(oe=s.current.get(re))==null?void 0:oe.value)!=null?Re:"",Be=(ce=(X=s.current.get(re))==null?void 0:X.keywords)!=null?ce:[],ke=L(we,Be);n.current.filtered.items.set(re,ke),ke>0&&me++}for(let[re,we]of i.current)for(let Be of we)if(n.current.filtered.items.get(Be)>0){n.current.filtered.groups.add(re);break}n.current.filtered.count=me}function W(){var oe,Re,X;let ce=z();ce&&(((oe=ce.parentElement)==null?void 0:oe.firstChild)===ce&&((X=(Re=ce.closest(dh))==null?void 0:Re.querySelector(khe))==null||X.scrollIntoView({block:"nearest"})),ce.scrollIntoView({block:"nearest"}))}function z(){var oe;return(oe=C.current)==null?void 0:oe.querySelector(`${nC}[aria-selected="true"]`)}function Q(){var oe;return Array.from((oe=C.current)==null?void 0:oe.querySelectorAll(SD))}function q(oe){let Re=Q()[oe];Re&&R.setState("value",Re.getAttribute(dc))}function se(oe){var Re;let X=z(),ce=Q(),me=ce.findIndex(we=>we===X),re=ce[me+oe];(Re=a.current)!=null&&Re.loop&&(re=me+oe<0?ce[ce.length-1]:me+oe===ce.length?ce[0]:ce[me+oe]),re&&R.setState("value",re.getAttribute(dc))}function B(oe){let Re=z(),X=Re==null?void 0:Re.closest(dh),ce;for(;X&&!ce;)X=oe>0?Whe(X,dh):Xhe(X,dh),ce=X==null?void 0:X.querySelector(SD);ce?R.setState("value",ce.getAttribute(dc)):se(oe)}let J=()=>q(Q().length-1),ue=oe=>{oe.preventDefault(),oe.metaKey?J():oe.altKey?B(1):se(1)},ge=oe=>{oe.preventDefault(),oe.metaKey?q(0):oe.altKey?B(-1):se(-1)};return w.createElement(ps.div,{ref:e,tabIndex:-1,...m,"cmdk-root":"",onKeyDown:oe=>{var Re;if((Re=m.onKeyDown)==null||Re.call(m,oe),!oe.defaultPrevented)switch(oe.key){case"n":case"j":{v&&oe.ctrlKey&&ue(oe);break}case"ArrowDown":{ue(oe);break}case"p":case"k":{v&&oe.ctrlKey&&ge(oe);break}case"ArrowUp":{ge(oe);break}case"Home":{oe.preventDefault(),q(0);break}case"End":{oe.preventDefault(),J();break}case"Enter":if(!oe.nativeEvent.isComposing&&oe.keyCode!==229){oe.preventDefault();let X=z();if(X){let ce=new Event(lE);X.dispatchEvent(ce)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:Yhe},l),hx(t,oe=>w.createElement(D5.Provider,{value:R},w.createElement(L5.Provider,{value:A},oe))))}),Fhe=w.forwardRef((t,e)=>{var n,r;let i=w.useId(),s=w.useRef(null),o=w.useContext(I5),a=Sm(),l=k5(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Bc(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let d=U5(i,s,[t.value,t.children,s],t.keywords),f=rC(),p=zc(P=>P.value&&P.value===d.current),g=zc(P=>c||a.filter()===!1?!0:P.search?P.filtered.items.get(i)>0:!0);w.useEffect(()=>{let P=s.current;if(!(!P||t.disabled))return P.addEventListener(lE,_),()=>P.removeEventListener(lE,_)},[g,t.onSelect,t.disabled]);function _(){var P,R;y(),(R=(P=l.current).onSelect)==null||R.call(P,d.current)}function y(){f.setState("value",d.current,!0)}if(!g)return null;let{disabled:v,value:m,onSelect:S,forceMount:E,keywords:T,...C}=t;return w.createElement(ps.div,{ref:kp([s,e]),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||a.disablePointerSelection?void 0:y,onClick:v?void 0:_},t.children)}),jhe=w.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=w.useId(),a=w.useRef(null),l=w.useRef(null),c=w.useId(),d=Sm(),f=zc(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Bc(()=>d.group(o),[]),U5(o,a,[t.value,t.heading,l]);let p=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(ps.div,{ref:kp([a,e]),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),hx(t,g=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},w.createElement(I5.Provider,{value:p},g))))}),Bhe=w.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=w.useRef(null),s=zc(o=>!o.search);return!n&&!s?null:w.createElement(ps.div,{ref:kp([i,e]),...r,"cmdk-separator":"",role:"separator"})}),zhe=w.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=rC(),o=zc(d=>d.search),a=zc(d=>d.value),l=Sm(),c=w.useMemo(()=>{var d;let f=(d=l.listInnerRef.current)==null?void 0:d.querySelector(`${nC}[${dc}="${encodeURIComponent(a)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return w.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),w.createElement(ps.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:i?t.value:o,onChange:d=>{i||s.setState("search",d.target.value),n==null||n(d.target.value)}})}),Vhe=w.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=w.useRef(null),o=w.useRef(null),a=Sm();return w.useEffect(()=>{if(o.current&&s.current){let l=o.current,c=s.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=l.offsetHeight;c.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(l),()=>{cancelAnimationFrame(d),f.unobserve(l)}}},[]),w.createElement(ps.div,{ref:kp([s,e]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:a.listId},hx(t,l=>w.createElement("div",{ref:kp([o,a.listInnerRef]),"cmdk-list-sizer":""},l)))}),$he=w.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return w.createElement(Lhe,{open:n,onOpenChange:r},w.createElement(Dhe,{container:o},w.createElement(Ihe,{"cmdk-overlay":"",className:i}),w.createElement(Ohe,{"aria-label":t.label,"cmdk-dialog":"",className:s},w.createElement(O5,{ref:e,...a}))))}),Hhe=w.forwardRef((t,e)=>zc(n=>n.filtered.count===0)?w.createElement(ps.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Ghe=w.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return w.createElement(ps.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},hx(t,o=>w.createElement("div",{"aria-hidden":!0},o)))}),gi=Object.assign(O5,{List:Vhe,Item:Fhe,Input:zhe,Group:jhe,Separator:Bhe,Dialog:$he,Empty:Hhe,Loading:Ghe});function Whe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Xhe(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function k5(t){let e=w.useRef(t);return Bc(()=>{e.current=t}),e}var Bc=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Yu(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function kp(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function zc(t){let e=rC(),n=()=>t(e.snapshot());return w.useSyncExternalStore(e.subscribe,n,n)}function U5(t,e,n,r=[]){let i=w.useRef(),s=Sm();return Bc(()=>{var o;let a=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(dc,a),i.current=a}),i}var Khe=()=>{let[t,e]=w.useState(),n=Yu(()=>new Map);return Bc(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function qhe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function hx({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(qhe(e),{ref:e.ref},n(e.props.children)):n(e)}var Yhe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zhe=zy,Jhe=Vy,F5=w.forwardRef(({className:t,...e},n)=>x.jsx(gf,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));F5.displayName=gf.displayName;const j5=w.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(Jhe,{children:[x.jsx(F5,{}),x.jsxs(vf,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-sm translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg lg:max-w-[75%]",t),...n,children:[e,x.jsxs(fm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[x.jsx(Tfe,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));j5.displayName=vf.displayName;const Qhe=w.forwardRef(({className:t,...e},n)=>x.jsx(yf,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Qhe.displayName=yf.displayName;const epe=w.forwardRef(({className:t,...e},n)=>x.jsx(xf,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));epe.displayName=xf.displayName;const B5=w.forwardRef(({className:t,...e},n)=>x.jsx(gi,{ref:n,className:Ae("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));B5.displayName=gi.displayName;const tpe=({children:t,...e})=>x.jsx(Zhe,{...e,children:x.jsx(j5,{className:"overflow-hidden p-0 shadow-lg",children:x.jsx(B5,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),z5=w.forwardRef(({className:t,...e},n)=>x.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[x.jsx(Sfe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),x.jsx(gi.Input,{ref:n,className:Ae("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));z5.displayName=gi.Input.displayName;const V5=w.forwardRef(({className:t,...e},n)=>x.jsx(gi.List,{ref:n,className:Ae("max-h-[500px] overflow-y-auto overflow-x-hidden lg:max-h-[600px]",t),...e}));V5.displayName=gi.List.displayName;const $5=w.forwardRef((t,e)=>x.jsx(gi.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));$5.displayName=gi.Empty.displayName;const cE=w.forwardRef(({className:t,...e},n)=>x.jsx(gi.Group,{ref:n,className:Ae("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));cE.displayName=gi.Group.displayName;const H5=w.forwardRef(({className:t,...e},n)=>x.jsx(gi.Separator,{ref:n,className:Ae("-mx-1 h-px bg-border",t),...e}));H5.displayName=gi.Separator.displayName;const Zu=w.forwardRef(({className:t,...e},n)=>x.jsx(gi.Item,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Zu.displayName=gi.Item.displayName;const npe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ty{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||npe,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ty(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ty(this.logger,e)}}var no=new ty;class px{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}const fh=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},bD=t=>t==null?"":""+t,rpe=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},ipe=/###/g,ED=t=>t&&t.indexOf("###")>-1?t.replace(ipe,"."):t,TD=t=>!t||typeof t=="string",qh=(t,e,n)=>{const r=typeof e!="string"?e:e.split(".");let i=0;for(;i<r.length-1;){if(TD(t))return{};const s=ED(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return TD(t)?{}:{obj:t,k:ED(r[i])}},MD=(t,e,n)=>{const{obj:r,k:i}=qh(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=qh(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=qh(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},spe=(t,e,n,r)=>{const{obj:i,k:s}=qh(t,e,Object);i[s]=i[s]||[],i[s].push(n)},ny=(t,e)=>{const{obj:n,k:r}=qh(t,e);if(n)return n[r]},ope=(t,e,n)=>{const r=ny(t,n);return r!==void 0?r:ny(e,n)},G5=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):G5(t[r],e[r],n):t[r]=e[r]);return t},$u=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const lpe=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>ape[e]):t;class cpe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const upe=[" ",",","?","!",";"],dpe=new cpe(20),fpe=(t,e,n)=>{e=e||"",n=n||"";const r=upe.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=dpe.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},uE=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},ry=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t;class CD extends px{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&s?a.push(...r.split(s)):a.push(r)));const l=ny(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||typeof r!="string"?l:uE(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),MD(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=ny(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?G5(l,r,s):l={...l,...r},MD(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var W5={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const AD={};class iy extends px{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),rpe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=no.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!fpe(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const T=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${T}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${T}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(e,n);let p=f&&f.res;const g=f&&f.usedKey||o,_=f&&f.exactUsedKey||o,y=Object.prototype.toString.apply(p),v=["[object Number]","[object Function]","[object RegExp]"],m=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject;if(S&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&v.indexOf(y)<0&&!(typeof m=="string"&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,p,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=T,f.usedParams=this.getUsedParamsDetails(n),f):T}if(s){const T=Array.isArray(p),C=T?[]:{},P=T?_:g;for(const R in p)if(Object.prototype.hasOwnProperty.call(p,R)){const A=`${P}${s}${R}`;C[R]=this.translate(A,{...n,joinArrays:!1,ns:a}),C[R]===A&&(C[R]=p[R])}p=C}}else if(S&&typeof m=="string"&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,e,n,r));else{let T=!1,C=!1;const P=n.count!==void 0&&typeof n.count!="string",R=iy.hasDefaultValue(n),A=P?this.pluralResolver.getSuffix(c,n.count,n):"",L=n.ordinal&&P?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",N=P&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),I=N&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${A}`]||n[`defaultValue${L}`]||n.defaultValue;!this.isValidLookup(p)&&R&&(T=!0,p=I),this.isValidLookup(p)||(C=!0,p=o);const W=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:p,z=R&&I!==p&&this.options.updateMissing;if(C||T||z){if(this.logger.log(z?"updateKey":"missingKey",c,l,o,z?I:p),s){const B=this.resolve(o,{...n,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(let B=0;B<q.length;B++)Q.push(q[B]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(n.lng||this.language):Q.push(n.lng||this.language);const se=(B,J,ue)=>{const ge=R&&ue!==p?ue:W;this.options.missingKeyHandler?this.options.missingKeyHandler(B,l,J,ge,z,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(B,l,J,ge,z,n),this.emit("missingKey",B,l,J,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?Q.forEach(B=>{const J=this.pluralResolver.getSuffixes(B,n);N&&n[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(ue=>{se([B],o+ue,n[`defaultValue${ue}`]||I)})}):se(Q,o,I))}p=this.extendTranslation(p,e,n,f,r),C&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),(C||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,T?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(n),f):p}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),c){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,g=new Array(p),_=0;_<p;_++)g[_]=arguments[_];return s&&s[0]===g[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):o.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=W5.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",g=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),_=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(v=>{this.isValidLookup(r)||(a=v,!AD[`${y[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(AD[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(m=>{if(this.isValidLookup(r))return;o=m;const S=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,m,v,n);else{let T;p&&(T=this.pluralResolver.getSuffix(m,n.count,n));const C=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(S.push(d+T),n.ordinal&&T.indexOf(P)===0&&S.push(d+T.replace(P,this.options.pluralSeparator)),g&&S.push(d+C)),_){const R=`${d}${this.options.contextSeparator}${n.context}`;S.push(R),p&&(S.push(R+T),n.ordinal&&T.indexOf(P)===0&&S.push(R+T.replace(P,this.options.pluralSeparator)),g&&S.push(R+C))}}let E;for(;E=S.pop();)this.isValidLookup(r)||(s=E,r=this.getResource(m,v,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const CS=t=>t.charAt(0).toUpperCase()+t.slice(1);class RD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=no.create("languageUtils")}getScriptPartFromCode(e){if(e=ry(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ry(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=CS(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=CS(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=CS(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let hpe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ppe={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const mpe=["v1","v2","v3"],gpe=["v4"],PD={zero:0,one:1,two:2,few:3,many:4,other:5},vpe=()=>{const t={};return hpe.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:ppe[e.fc]}})}),t};class ype{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=no.create("pluralResolver"),(!this.options.compatibilityJSON||gpe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vpe(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=ry(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];const o=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[s]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>PD[i]-PD[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!mpe.includes(this.options.compatibilityJSON)}}const ND=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=ope(t,e,n);return!s&&i&&typeof n=="string"&&(s=uE(t,n,r),s===void 0&&(s=uE(e,n,r))),s},AS=t=>t.replace(/\$/g,"$$$$");class xpe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=no.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:_,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:m,alwaysFormat:S}=e.interpolation;this.escape=n!==void 0?n:lpe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?$u(s):o||"{{",this.suffix=a?$u(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?$u(p):g||$u("$t("),this.nestingSuffix=_?$u(_):y||$u(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=m||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const m=ND(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...n,interpolationkey:g}):m}const _=g.split(this.formatSeparator),y=_.shift().trim(),v=_.join(this.formatSeparator).trim();return this.format(ND(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>AS(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?AS(this.escape(g)):AS(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const _=s[1].trim();if(o=c(_),o===void 0)if(typeof d=="function"){const v=d(e,s,i);o=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,_))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=bD(o));const y=g.safeValue(o);if(e=e.replace(s[0],y),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,o);const g=p.match(/'/g),_=p.match(/"/g);(g&&g.length%2===0&&!_||_.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),l=d,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=bD(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const _pe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},Hu=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(ry(r),i),e[o]=a),a(n)}};class wpe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=no.create("formatter"),this.options=e,this.formats={number:Hu((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Hu((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Hu((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Hu((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Hu((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Hu(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:c,formatOptions:d}=_pe(l);if(this.formats[c]){let f=a;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[c](a,g,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const Spe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class bpe extends px{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=no.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let d=!0;n.forEach(f=>{const p=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{spe(l.loaded,[s],o),Spe(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,n,r,i,l):d=c(e,n,r,i),d&&typeof d.then=="function"?d.then(f=>a(null,f)).catch(a):a(null,d)}catch(d){a(d)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const LD=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),DD=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),_v=()=>{},Epe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Up extends px{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=DD(e),this.services={},this.logger=no,this.modules={external:[]},Epe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=LD();this.options={...i,...this.options,...DD(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?no.init(s(this.modules.logger),this.options):no.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=wpe);const f=new RD(this.options);this.store=new CD(this.options.resources,this.options);const p=this.services;p.logger=no,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new ype(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=s(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new xpe(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new bpe(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),v=1;v<_;v++)y[v-1]=arguments[v];e.emit(g,...y)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new iy(this.services,this.options),this.translator.on("*",function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),v=1;v<_;v++)y[v-1]=arguments[v];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=_v),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=fh(),c=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(f,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_v;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=fh();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=_v),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&W5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=fh();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{o(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const p=i.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(o)?g=o.map(_=>`${l.keyPrefix}${p}${_}`):g=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,i.t(g,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=fh();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=fh();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new RD(LD());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Up(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_v;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Up(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new CD(this.store.data,i),s.services.resourceStore=s.store),s.translator=new iy(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xn=Up.createInstance();Xn.createInstance=Up.createInstance;Xn.createInstance;Xn.dir;Xn.init;Xn.loadResources;Xn.reloadResources;Xn.use;Xn.changeLanguage;Xn.getFixedT;Xn.t;Xn.exists;Xn.setDefaultNamespace;Xn.hasLoadedNamespace;Xn.loadNamespaces;Xn.loadLanguages;function Tpe(t){const{alternateColors:e}=t,[n,r]=w.useState(!1),[i,s]=w.useState([]);w.useEffect(()=>{l()},[]);const[o,{language:a}]=hs();async function l(){const{data:f}=await rn.from("products").select("*").eq("collection","1");if(!f)return;const p=f.length,g=2;let _=f;p<5&&(_=Array.from(new Array(p*g)).map((y,v)=>f[v%p])),s(_)}w.useEffect(()=>{const f=p=>{p.key==="k"&&(p.metaKey||p.ctrlKey)&&(p.preventDefault(),r(g=>!g))};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[]);const c=w.useCallback(()=>{a==="en"?Xn.changeLanguage("ar"):Xn.changeLanguage("en"),r(!1)},[a,Xn,r]),d=mi();return x.jsxs(x.Fragment,{children:[x.jsx(ln,{variant:"ghost",className:Ae(e?"text-black":""),onClick:()=>r(!0),children:x.jsx(Sse,{})}),x.jsxs(tpe,{open:n,onOpenChange:r,children:[x.jsx(z5,{className:Ae(a==="en"?"helvetica":"tajawal-medium"),placeholder:o("menu.typeToSearch")}),x.jsxs(V5,{className:Ae(a==="en"?"helvetica":"tajawal-medium"),children:[x.jsx($5,{children:o("menu.noResults")}),x.jsx(cE,{heading:o("menu.items"),children:i.map(f=>x.jsx(Zu,{onSelect:()=>{d("/product/"+f.id),r(!1)},children:x.jsxs("div",{className:"bebas-neue-regular flex items-center justify-center gap-4",children:[x.jsx("img",{src:f.thumbnail??"",width:128,height:128,alt:"thumbnail",className:"rounded"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-2xl lg:text-4xl",children:f.name}),x.jsx("p",{className:"text-lg text-muted-foreground lg:text-xl",children:f.description}),x.jsx("p",{className:"text-lg text-muted-foreground lg:text-xl",children:Mn(f.price)})]})]})}))}),x.jsx(H5,{}),x.jsxs(cE,{heading:o("menu.settings"),children:[x.jsxs(Zu,{onSelect:c,children:[x.jsx(_fe,{className:"mr-2 h-4 w-4"}),x.jsx("span",{children:o("menu.switchLanguage")})]}),x.jsxs(Zu,{children:[x.jsx(Efe,{className:"mr-2 h-4 w-4"}),x.jsx("span",{children:o("menu.profile")})]}),x.jsxs(Zu,{children:[x.jsx(xfe,{className:"mr-2 h-4 w-4"}),x.jsx("span",{children:o("menu.billing")})]}),x.jsxs(Zu,{children:[x.jsx(bfe,{className:"mr-2 h-4 w-4"}),x.jsx("span",{children:o("menu.settings")})]})]})]})]})]})}const wl="/assets/statue-white-B02FvBvf.svg";var Mpe="Separator",ID="horizontal",Cpe=["horizontal","vertical"],X5=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=ID,...i}=t,s=Ape(r)?r:ID,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return x.jsx(At.div,{"data-orientation":s,...a,...i,ref:e})});X5.displayName=Mpe;function Ape(t){return Cpe.includes(t)}var K5=X5;const bc=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>x.jsx(K5,{ref:i,decorative:n,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));bc.displayName=K5.displayName;let RS;function bm(){return w.useEffect(()=>{RS||(async()=>{var n;RS=((n=(await rn.auth.getSession()).data.session)==null?void 0:n.user)??null})()},[]),RS}const Rpe=[{title:"Aurelius",description:"Inspired by Marcus Aurelius, the philosopher-king known for his wisdom and stoic demeanor. Aurelius is a scent that embodies calm introspection and inner strength, perfect for those who seek balance and clarity in life."},{title:"Caligula",description:"Named after Caligula, the controversial emperor known for his erratic behavior and audacity. This fragrance is for those who embrace their wild side and aren’t afraid to stand out, a scent that challenges norms and defies expectations."},{title:"Augustus",description:" Inspired by Augustus, the founder of the Roman Empire and its first emperor. Augustus represents leadership, vision, and the drive to build something great. This scent is for the natural leader who commands attention and inspires others."},{title:"Livia",description:"Inspired by Livia Drusilla, the wife of Augustus and one of the most powerful women in Roman history. Livia is known for her elegance, intelligence, and subtle influence on Roman politics."},{title:"Theodora",description:"Named after Theodora, the Byzantine empress who rose from humble beginnings to become one of the most powerful women in the empire. Theodora is remembered for her intelligence, charisma, and determination. This scent is for those who are driven and unafraid to make their mark on the world."},{title:"Helena",description:" Inspired by Helena, the mother of Constantine the Great and a significant figure in early Christianity. Helena is known for her piety, compassion, and wisdom. This fragrance is for those who value spirituality and kindness, embodying a deep sense of inner peace."}],Ppe=[{title:"أوريليوس",description:"مستوحى من ماركوس أوريليوس، الملك الفيلسوف المعروف بحكمته وهدوئه الرزين. أوريليوس هو عطر يجسد التأمل الهادئ والقوة الداخلية، مثالي لأولئك الذين يسعون لتحقيق التوازن والوضوح في الحياة."},{title:"كاليغولا",description:"سُمي على اسم كاليغولا، الإمبراطور المثير للجدل المعروف بسلوكه المتقلب وجرأته. هذا العطر مخصص لأولئك الذين يحتضنون جانبهم الجامح ولا يخشون التميز، وهو عطر يتحدى الأعراف ويتجاوز التوقعات."},{title:"أغسطس",description:"مستوحى من أغسطس، مؤسس الإمبراطورية الرومانية وأول إمبراطور لها. يمثل أغسطس القيادة والرؤية والدافع لبناء شيء عظيم. هذا العطر مخصص للقائد الطبيعي الذي يجذب الانتباه ويلهم الآخرين."},{title:"ليفيا",description:"مستوحى من ليفيا دروسيلا، زوجة أغسطس وإحدى أقوى النساء في التاريخ الروماني. ليفيا معروفة بأناقتها وذكائها وتأثيرها الخفي على السياسة الرومانية."},{title:"ثيودورا",description:"سُمي على اسم ثيودورا، الإمبراطورة البيزنطية التي ارتقت من أصول متواضعة لتصبح واحدة من أقوى النساء في الإمبراطورية. ثيودورا معروفة بذكائها وجاذبيتها وإصرارها. هذا العطر مخصص لأولئك الذين يملكون العزيمة ولا يخشون ترك بصمتهم على العالم."},{title:"هيلينا",description:"مستوحى من هيلينا، والدة قسطنطين الكبير وشخصية بارزة في المسيحية المبكرة. هيلينا معروفة بتقواها وتعاطفها وحكمتها. هذا العطر مخصص لأولئك الذين يقدرون الروحانية واللطف، ويجسد شعورًا عميقًا بالسلام الداخلي."}];function Zc(t){const{alternateColors:e}=t,[n,{language:r}]=hs(),i=bm(),s=mi();return x.jsxs("div",{className:Ae("helvetica sticky top-0 z-50 flex w-screen p-2",r==="en"?"helvetica":"tajawal-medium",e?"bg-transparent":"bg-black"),children:[e?null:x.jsx("div",{className:"flex flex-1 items-center justify-center",children:x.jsxs(lD,{children:[x.jsx(cD,{children:x.jsx(ln,{variant:"ghost",className:Ae(e?"text-black":""),children:x.jsx(wfe,{size:16})})}),x.jsxs(JM,{side:"left",className:Ae("flex w-screen flex-col gap-4 overflow-y-auto lg:min-w-[600px]",r==="en"?"helvetica":"tajawal-regular"),children:[x.jsx(QM,{children:x.jsx(eC,{className:"flex items-center justify-center p-4",children:x.jsx("img",{width:256,height:256,alt:"pristiale logo",className:Ae(e?"m-12 ":""),src:e?Q0:Wd,onClick:()=>{s("/")}})})}),x.jsxs("div",{children:[x.jsx("p",{className:Ae("text-center text-2xl lg:text-left",r==="ar"?"alexandria p-2 text-xl":"bebas-neue-regular"),children:n("menu.luxuryItems")}),x.jsx(bc,{})]}),x.jsxs("ul",{className:"grid gap-3 p-1 lg:grid-cols-[.35fr_1fr]",children:[x.jsx("li",{className:"row-span-3 hidden lg:block",children:x.jsx("a",{className:"flex h-full select-none flex-col items-center justify-center rounded-md  py-2",href:"/",children:x.jsx("img",{src:wl,height:128,width:128})})}),x.jsx(Gu,{href:"/products",title:n("menu.essentialsCollection"),children:n("menu.essentialsCollectionSubtitle")}),x.jsx(Gu,{href:"/products",title:n("menu.newSeason"),children:n("menu.newSeasonSubtitle")}),x.jsx(Gu,{href:"/products",title:n("menu.allItems"),children:n("menu.allItemsSubtitle")})]}),x.jsxs("div",{children:[x.jsx("p",{className:Ae("text-center text-2xl lg:text-left",r==="ar"?"alexandria p-2 text-xl":"bebas-neue-regular"),children:n("menu.perfumery")}),x.jsx(bc,{})]}),x.jsxs("a",{className:"flex w-full select-none flex-col items-center justify-end rounded-md p-6 no-underline outline-none hover:bg-accent",href:"/test",children:[x.jsx("p",{className:Ae("line-clamp-2 text-sm leading-snug text-muted-foreground",r==="ar"?"alexandria p-2 text-xl":"bebas-neue-regular"),children:n("menu.takeATest")}),x.jsx("p",{className:Ae(Sh.title,"text-nowrap text-2xl",r==="ar"?"alexandria":"bebas-neue-regular"),children:n("menu.personalizeAPerfume")})]}),x.jsx("ul",{className:"grid grid-cols-2 gap-3 p-1",children:(r==="ar"?Ppe:Rpe).map(o=>x.jsx(Gu,{title:o.title,children:o.description},o.title))}),x.jsxs("div",{children:[x.jsx("p",{className:Ae("text-center text-2xl lg:text-left",r==="ar"?"alexandria p-2 text-xl":"bebas-neue-regular"),children:n("menu.other")}),x.jsx(bc,{})]}),x.jsxs("ul",{className:"grid gap-3 p-4 lg:grid-cols-[1fr_.75fr]",children:[x.jsx("li",{className:"row-span-3",children:x.jsxs("a",{className:"flex h-full w-full select-none flex-col justify-end rounded-md bg-gradient-to-b from-muted/50 to-muted p-6 no-underline outline-none focus:shadow-md",href:"/orders",children:[x.jsx(yfe,{className:"h-6 w-6"}),x.jsx("div",{className:"mb-2 mt-4 text-lg font-medium",children:n("menu.yourOrders")}),x.jsx("p",{className:"text-sm leading-tight text-muted-foreground",children:n("menu.yourOrdersDescription")})]})}),x.jsx(Gu,{onClick:()=>{r==="en"?Xn.changeLanguage("ar"):Xn.changeLanguage("en")},title:n("menu.switchLanguage"),children:n("menu.switchLanguageDescription")}),x.jsx(Gu,{title:n("menu.yourAccount"),children:n("menu.yourAccountDescription")})]})]})]})}),x.jsx("div",{className:Ae("flex flex-1 items-center ",e?"justify-start":"justify-center"),children:x.jsx("img",{width:e?256:64,height:e?256:64,alt:"pristiale logo",className:Ae(e?"m-12 ":""),src:e?Q0:Wd,onClick:()=>{s("/")}})}),x.jsxs("div",{className:Ae("flex flex-1 items-center justify-center ",e?"justify-end p-8":"justify-center"),children:[x.jsxs(lD,{children:[x.jsx(cD,{children:i?x.jsx(ln,{variant:"ghost",className:Ae(e?"text-black":""),children:x.jsx(dse,{})}):null}),x.jsx(pfe,{})]}),i?null:x.jsx(Np,{to:"/login",children:x.jsx(ln,{variant:"ghost",className:Ae(e?"text-black":""),children:x.jsx(cse,{})})}),x.jsx(Tpe,{alternateColors:e})]})]})}const Gu=Ge.forwardRef(({className:t,title:e,children:n,...r},i)=>x.jsx("li",{children:x.jsxs("a",{ref:i,className:Ae("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t),...r,children:[x.jsx("div",{className:"text-sm font-medium leading-none",children:e}),x.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:n})]})}));var PS;function Npe(){const[t,e]=w.useState(1);w.useEffect(()=>{const i=()=>{const s=window.scrollY,o=Math.max(1-s/500,0);e(o)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]),w.useEffect(()=>{document.getElementById("background").appendChild(Ri.domElement)}),w.useEffect(()=>{t<.1?Ri.setAnimationLoop(null):Ri.setAnimationLoop(hre)},[t]);const[n,{language:r}]=hs();return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"flex h-[100vh] items-center justify-center",children:x.jsxs(x.Fragment,{children:[x.jsx("div",{title:"background",className:Sh.background,id:"background",style:{opacity:t,transition:"opacity 0.3s ease"}}),x.jsx("div",{className:"alexandria m-[auto] flex max-w-[50%] flex-col items-center justify-center text-[700%]",children:x.jsx("img",{alt:"pristiale logo",src:Wd,decoding:"async",fetchPriority:"high"})})]})}),x.jsx(Zc,{}),x.jsx(Yde,{}),x.jsxs("div",{className:"flex w-screen flex-1 flex-row flex-wrap justify-evenly py-12",children:[x.jsx("video",{controls:!1,src:Rq,muted:!0,playsInline:!0,className:"h-[60vh] max-w-[750px] content-center overflow-x-hidden text-white",style:{transition:"transform 0.1s ease",cursor:"pointer"},onMouseEnter:i=>{let s=i.target;clearInterval(PS),s.play()},onMouseLeave:function(i){let s=i.target;PS=setInterval(function(){s.playbackRate=1,s.currentTime===0?(clearInterval(PS),s.pause()):s.currentTime+=-.1},30)}}),x.jsxs("div",{className:Ae("flex flex-col items-center justify-center"),children:[x.jsx("p",{className:Ae(Sh.title," text-[75px] lg:text-[115px]",r==="ar"?"alexandria":""),children:n("perfumes.augustus")}),x.jsx("p",{className:Sh.subtitle,children:n("common.limitedPieces")}),x.jsx("p",{className:"items-center pt-4 text-justify",children:n("common.orderNow")}),x.jsxs("div",{className:"flex flex-row items-center gap-1",children:[x.jsx(ln,{variant:"link",children:"30ML"}),"/",x.jsx(ln,{variant:"link",children:"50ML"}),"/",x.jsx(ln,{variant:"link",children:"120ML"})]})]})]}),x.jsx("div",{className:"flex flex-row",children:x.jsxs("div",{className:Sh.textContainer,children:[x.jsx("div",{children:n("perfumes.sage")}),x.jsx("div",{children:n("perfumes.juniper")}),x.jsx("div",{children:n("perfumes.cedarwood")}),x.jsx("div",{children:n("perfumes.amber")}),x.jsx("div",{children:n("perfumes.incense")})]})}),x.jsx("div",{className:Ae("flex w-screen flex-col items-center justify-center bg-white p-8"),children:x.jsx("p",{className:Ae("max-w-[50vw] text-center text-sm text-black",r==="ar"?"tajawal-regular":"font-mono"),children:n("common.copyright")})})]})})}var iC=Tm(),Dt=t=>Em(t,iC),sC=Tm();Dt.write=t=>Em(t,sC);var mx=Tm();Dt.onStart=t=>Em(t,mx);var oC=Tm();Dt.onFrame=t=>Em(t,oC);var aC=Tm();Dt.onFinish=t=>Em(t,aC);var Od=[];Dt.setTimeout=(t,e)=>{const n=Dt.now()+e,r=()=>{const s=Od.findIndex(o=>o.cancel==r);~s&&Od.splice(s,1),qa-=~s?1:0},i={time:n,handler:t,cancel:r};return Od.splice(q5(n),0,i),qa+=1,Y5(),i};var q5=t=>~(~Od.findIndex(e=>e.time>t)||~Od.length);Dt.cancel=t=>{mx.delete(t),oC.delete(t),aC.delete(t),iC.delete(t),sC.delete(t)};Dt.sync=t=>{dE=!0,Dt.batchedUpdates(t),dE=!1};Dt.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Dt.onStart(n)}return r.handler=t,r.cancel=()=>{mx.delete(n),e=null},r};var lC=typeof window<"u"?window.requestAnimationFrame:()=>{};Dt.use=t=>lC=t;Dt.now=typeof performance<"u"?()=>performance.now():Date.now;Dt.batchedUpdates=t=>t();Dt.catch=console.error;Dt.frameLoop="always";Dt.advance=()=>{Dt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):J5()};var Ka=-1,qa=0,dE=!1;function Em(t,e){dE?(e.delete(t),t(0)):(e.add(t),Y5())}function Y5(){Ka<0&&(Ka=0,Dt.frameLoop!=="demand"&&lC(Z5))}function Lpe(){Ka=-1}function Z5(){~Ka&&(lC(Z5),Dt.batchedUpdates(J5))}function J5(){const t=Ka;Ka=Dt.now();const e=q5(Ka);if(e&&(Q5(Od.splice(0,e),n=>n.handler()),qa-=e),!qa){Lpe();return}mx.flush(),iC.flush(t?Math.min(64,Ka-t):16.667),oC.flush(),sC.flush(),aC.flush()}function Tm(){let t=new Set,e=t;return{add(n){qa+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return qa-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,qa-=e.size,Q5(e,r=>r(n)&&t.add(r)),qa+=t.size,e=t)}}}function Q5(t,e){t.forEach(n=>{try{e(n)}catch(r){Dt.catch(r)}})}var Dpe=Object.defineProperty,Ipe=(t,e)=>{for(var n in e)Dpe(t,n,{get:e[n],enumerable:!0})},zs={};Ipe(zs,{assign:()=>kpe,colors:()=>al,createStringInterpolator:()=>uC,skipAnimation:()=>tB,to:()=>eB,willAdvance:()=>dC});function fE(){}var Ope=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Xe={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Oo(t,e){if(Xe.arr(t)){if(!Xe.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Zt=(t,e)=>t.forEach(e);function uo(t,e,n){if(Xe.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Oi=t=>Xe.und(t)?[]:Xe.arr(t)?t:[t];function Yh(t,e){if(t.size){const n=Array.from(t);t.clear(),Zt(n,e)}}var Ah=(t,...e)=>Yh(t,n=>n(...e)),cC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),uC,eB,al=null,tB=!1,dC=fE,kpe=t=>{t.to&&(eB=t.to),t.now&&(Dt.now=t.now),t.colors!==void 0&&(al=t.colors),t.skipAnimation!=null&&(tB=t.skipAnimation),t.createStringInterpolator&&(uC=t.createStringInterpolator),t.requestAnimationFrame&&Dt.use(t.requestAnimationFrame),t.batchedUpdates&&(Dt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(dC=t.willAdvance),t.frameLoop&&(Dt.frameLoop=t.frameLoop)},Zh=new Set,rs=[],NS=[],sy=0,gx={get idle(){return!Zh.size&&!rs.length},start(t){sy>t.priority?(Zh.add(t),Dt.onStart(Upe)):(nB(t),Dt(hE))},advance:hE,sort(t){if(sy)Dt.onFrame(()=>gx.sort(t));else{const e=rs.indexOf(t);~e&&(rs.splice(e,1),rB(t))}},clear(){rs=[],Zh.clear()}};function Upe(){Zh.forEach(nB),Zh.clear(),Dt(hE)}function nB(t){rs.includes(t)||rB(t)}function rB(t){rs.splice(Fpe(rs,e=>e.priority>t.priority),0,t)}function hE(t){const e=NS;for(let n=0;n<rs.length;n++){const r=rs[n];sy=r.priority,r.idle||(dC(r),r.advance(t),r.idle||e.push(r))}return sy=0,NS=rs,NS.length=0,rs=e,rs.length>0}function Fpe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var jpe=(t,e,n)=>Math.min(Math.max(n,t),e),Bpe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Is="[-+]?\\d*\\.?\\d+",oy=Is+"%";function vx(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var zpe=new RegExp("rgb"+vx(Is,Is,Is)),Vpe=new RegExp("rgba"+vx(Is,Is,Is,Is)),$pe=new RegExp("hsl"+vx(Is,oy,oy)),Hpe=new RegExp("hsla"+vx(Is,oy,oy,Is)),Gpe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Wpe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Xpe=/^#([0-9a-fA-F]{6})$/,Kpe=/^#([0-9a-fA-F]{8})$/;function qpe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Xpe.exec(t))?parseInt(e[1]+"ff",16)>>>0:al&&al[t]!==void 0?al[t]:(e=zpe.exec(t))?(Wu(e[1])<<24|Wu(e[2])<<16|Wu(e[3])<<8|255)>>>0:(e=Vpe.exec(t))?(Wu(e[1])<<24|Wu(e[2])<<16|Wu(e[3])<<8|UD(e[4]))>>>0:(e=Gpe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Kpe.exec(t))?parseInt(e[1],16)>>>0:(e=Wpe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=$pe.exec(t))?(OD(kD(e[1]),wv(e[2]),wv(e[3]))|255)>>>0:(e=Hpe.exec(t))?(OD(kD(e[1]),wv(e[2]),wv(e[3]))|UD(e[4]))>>>0:null}function LS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OD(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=LS(i,r,t+1/3),o=LS(i,r,t),a=LS(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Wu(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function kD(t){return(parseFloat(t)%360+360)%360/360}function UD(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function wv(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function FD(t){let e=qpe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Fp=(t,e,n)=>{if(Xe.fun(t))return t;if(Xe.arr(t))return Fp({range:t,output:e,extrapolate:n});if(Xe.str(t.output[0]))return uC(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const d=Zpe(c,s);return Ype(c,s[d],s[d+1],i[d],i[d+1],l,o,a,r.map)}};function Ype(t,e,n,r,i,s,o,a,l){let c=l?l(t):t;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>n){if(a==="identity")return c;a==="clamp"&&(c=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?c=-c:n===1/0?c=c-e:c=(c-e)/(n-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function Zpe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var Jpe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return jpe(0,1,i/t)},ay=1.70158,Sv=ay*1.525,jD=ay+1,BD=2*Math.PI/3,zD=2*Math.PI/4.5,bv=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Qpe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>jD*t*t*t-ay*t*t,easeOutBack:t=>1+jD*Math.pow(t-1,3)+ay*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Sv+1)*2*t-Sv)/2:(Math.pow(2*t-2,2)*((Sv+1)*(t*2-2)+Sv)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*BD),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*BD)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*zD))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*zD)/2+1,easeInBounce:t=>1-bv(1-t),easeOutBounce:bv,easeInOutBounce:t=>t<.5?(1-bv(1-2*t))/2:(1+bv(2*t-1))/2,steps:Jpe},jp=Symbol.for("FluidValue.get"),sf=Symbol.for("FluidValue.observers"),ts=t=>!!(t&&t[jp]),ai=t=>t&&t[jp]?t[jp]():t,VD=t=>t[sf]||null;function eme(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Bp(t,e){const n=t[sf];n&&n.forEach(r=>{eme(r,e)})}var iB=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");tme(this,t)}},tme=(t,e)=>sB(t,jp,e);function Tf(t,e){if(t[jp]){let n=t[sf];n||sB(t,sf,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function zp(t,e){const n=t[sf];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[sf]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var sB=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Jv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,nme=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,$D=new RegExp(`(${Jv.source})(%|[a-z]+)`,"i"),rme=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,yx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,oB=t=>{const[e,n]=ime(t);if(!e||cC())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&yx.test(n))return oB(n);if(n)return n}return t},ime=t=>{const e=yx.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},DS,sme=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,aB=t=>{DS||(DS=al?new RegExp(`(${Object.keys(al).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>ai(s).replace(yx,oB).replace(nme,FD).replace(DS,FD)),n=e.map(s=>s.match(Jv).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Fp({...t,output:s}));return s=>{var l;const o=!$D.test(e[0])&&((l=e.find(c=>$D.test(c)))==null?void 0:l.replace(Jv,""));let a=0;return e[0].replace(Jv,()=>`${i[a++](s)}${o||""}`).replace(rme,sme)}},fC="react-spring: ",lB=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${fC}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},ome=lB(console.warn);function ame(){ome(`${fC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var lme=lB(console.warn);function cme(){lme(`${fC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function xx(t){return Xe.str(t)&&(t[0]=="#"||/\d/.test(t)||!cC()&&yx.test(t)||t in(al||{}))}var hC=cC()?w.useEffect:w.useLayoutEffect,ume=()=>{const t=w.useRef(!1);return hC(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function cB(){const t=w.useState()[1],e=ume();return()=>{e.current&&t(Math.random())}}function dme(t,e){const[n]=w.useState(()=>({inputs:e,result:t()})),r=w.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&fme(e,s.inputs)||(s={inputs:e,result:t()}):s=n,w.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function fme(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var uB=t=>w.useEffect(t,hme),hme=[];function HD(t){const e=w.useRef();return w.useEffect(()=>{e.current=t}),e.current}var Vp=Symbol.for("Animated:node"),pme=t=>!!t&&t[Vp]===t,Zs=t=>t&&t[Vp],pC=(t,e)=>Ope(t,Vp,e),_x=t=>t&&t[Vp]&&t[Vp].getPayload(),dB=class{constructor(){pC(this,this)}getPayload(){return this.payload||[]}},Mm=class extends dB{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Xe.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Mm(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Xe.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Xe.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},$p=class extends Mm{constructor(t){super(0),this._string=null,this._toString=Fp({output:[t,t]})}static create(t){return new $p(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Xe.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Fp({output:[this.getValue(),t]})),this._value=0,super.reset()}},ly={dependencies:null},wx=class extends dB{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return uo(this.source,(n,r)=>{pme(n)?e[r]=n.getValue(t):ts(n)?e[r]=ai(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Zt(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return uo(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){ly.dependencies&&ts(t)&&ly.dependencies.add(t);const e=_x(t);e&&Zt(e,n=>this.add(n))}},fB=class extends wx{constructor(t){super(t)}static create(t){return new fB(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(mme)),!0)}};function mme(t){return(xx(t)?$p:Mm).create(t)}function pE(t){const e=Zs(t);return e?e.constructor:Xe.arr(t)?fB:xx(t)?$p:Mm}var GD=(t,e)=>{const n=!Xe.fun(t)||t.prototype&&t.prototype.isReactComponent;return w.forwardRef((r,i)=>{const s=w.useRef(null),o=n&&w.useCallback(_=>{s.current=yme(i,_)},[i]),[a,l]=vme(r,e),c=cB(),d=()=>{const _=s.current;if(n&&!_)return;(_?e.applyAnimatedValues(_,a.getValue(!0)):!1)===!1&&c()},f=new gme(d,l),p=w.useRef();hC(()=>(p.current=f,Zt(l,_=>Tf(_,f)),()=>{p.current&&(Zt(p.current.deps,_=>zp(_,p.current)),Dt.cancel(p.current.update))})),w.useEffect(d,[]),uB(()=>()=>{const _=p.current;Zt(_.deps,y=>zp(y,_))});const g=e.getComponentProps(a.getValue());return w.createElement(t,{...g,ref:o})})},gme=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Dt.write(this.update)}};function vme(t,e){const n=new Set;return ly.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new wx(t),ly.dependencies=null,[t,n]}function yme(t,e){return t&&(Xe.fun(t)?t(e):t.current=e),e}var WD=Symbol.for("AnimatedComponent"),xme=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new wx(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=XD(o)||"Anonymous";return Xe.str(o)?o=s[o]||(s[o]=GD(o,i)):o=o[WD]||(o[WD]=GD(o,i)),o.displayName=`Animated(${a})`,o};return uo(t,(o,a)=>{Xe.arr(t)&&(a=XD(o)),s[a]=s(o)}),{animated:s}},XD=t=>Xe.str(t)?t:t&&Xe.str(t.displayName)?t.displayName:Xe.fun(t)&&t.name||null;function fc(t,...e){return Xe.fun(t)?t(...e):t}var Jh=(t,e)=>t===!0||!!(e&&t&&(Xe.fun(t)?t(e):Oi(t).includes(e))),hB=(t,e)=>Xe.obj(t)?e&&t[e]:t,pB=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,_me=t=>t,mC=(t,e=_me)=>{let n=wme;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);Xe.und(s)||(r[i]=s)}return r},wme=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Sme={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function bme(t){const e={};let n=0;if(uo(t,(r,i)=>{Sme[i]||(e[i]=r,n++)}),n)return e}function mB(t){const e=bme(t);if(e){const n={to:e};return uo(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function Hp(t){return t=ai(t),Xe.arr(t)?t.map(Hp):xx(t)?zs.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function Eme(t){for(const e in t)return!0;return!1}function mE(t){return Xe.fun(t)||Xe.arr(t)&&Xe.obj(t[0])}function Tme(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function Mme(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var Cme={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},gE={...Cme.default,mass:1,damping:1,easing:Qpe.linear,clamp:!1},Ame=class{constructor(){this.velocity=0,Object.assign(this,gE)}};function Rme(t,e,n){n&&(n={...n},KD(n,e),e={...n,...e}),KD(t,e),Object.assign(t,e);for(const o in gE)t[o]==null&&(t[o]=gE[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return Xe.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function KD(t,e){if(!Xe.und(e.decay))t.duration=void 0;else{const n=!Xe.und(e.tension)||!Xe.und(e.friction);(n||!Xe.und(e.frequency)||!Xe.und(e.damping)||!Xe.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var qD=[],Pme=class{constructor(){this.changed=!1,this.values=qD,this.toValues=null,this.fromValues=qD,this.config=new Ame,this.immediate=!1}};function gB(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,c,d=Jh(n.cancel??(r==null?void 0:r.cancel),e);if(d)g();else{Xe.und(n.pause)||(i.paused=Jh(n.pause,e));let _=r==null?void 0:r.pause;_!==!0&&(_=i.paused||Jh(_,e)),l=fc(n.delay||0,e),_?(i.resumeQueue.add(p),s.pause()):(s.resume(),p())}function f(){i.resumeQueue.add(p),i.timeouts.delete(c),c.cancel(),l=c.time-Dt.now()}function p(){l>0&&!zs.skipAnimation?(i.delayed=!0,c=Dt.setTimeout(g,l),i.pauseQueue.add(f),i.timeouts.add(c)):g()}function g(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),t<=(i.cancelId||0)&&(d=!0);try{s.start({...n,callId:t,cancel:d},o)}catch(_){a(_)}}})}var gC=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?kd(t.get()):e.every(n=>n.noop)?vB(t.get()):Ns(t.get(),e.every(n=>n.finished)),vB=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Ns=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),kd=t=>({value:t,cancelled:!0,finished:!1});function yB(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const c=mC(e,(v,m)=>m==="onRest"?void 0:v);let d,f;const p=new Promise((v,m)=>(d=v,f=m)),g=v=>{const m=i<=(n.cancelId||0)&&kd(r)||i!==n.asyncId&&Ns(r,!1);if(m)throw v.result=m,f(v),v},_=(v,m)=>{const S=new YD,E=new ZD;return(async()=>{if(zs.skipAnimation)throw Gp(n),E.result=Ns(r,!1),f(E),E;g(S);const T=Xe.obj(v)?{...v}:{...m,to:v};T.parentId=i,uo(c,(P,R)=>{Xe.und(T[R])&&(T[R]=P)});const C=await r.start(T);return g(S),n.paused&&await new Promise(P=>{n.resumeQueue.add(P)}),C})()};let y;if(zs.skipAnimation)return Gp(n),Ns(r,!1);try{let v;Xe.arr(t)?v=(async m=>{for(const S of m)await _(S)})(t):v=Promise.resolve(t(_,r.stop.bind(r))),await Promise.all([v.then(d),p]),y=Ns(r.get(),!0,!1)}catch(v){if(v instanceof YD)y=v.result;else if(v instanceof ZD)y=v.result;else throw v}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return Xe.fun(o)&&Dt.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function Gp(t,e){Yh(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var YD=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ZD=class extends Error{constructor(){super("SkipAnimationSignal")}},vE=t=>t instanceof vC,Nme=1,vC=class extends iB{constructor(){super(...arguments),this.id=Nme++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Zs(this);return t&&t.getValue()}to(...t){return zs.to(this,t)}interpolate(...t){return ame(),zs.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Bp(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||gx.sort(this),Bp(this,{type:"priority",parent:this,priority:t})}},Vc=Symbol.for("SpringPhase"),xB=1,yE=2,xE=4,IS=t=>(t[Vc]&xB)>0,Ra=t=>(t[Vc]&yE)>0,hh=t=>(t[Vc]&xE)>0,JD=(t,e)=>e?t[Vc]|=yE|xB:t[Vc]&=~yE,QD=(t,e)=>e?t[Vc]|=xE:t[Vc]&=~xE,Lme=class extends vC{constructor(t,e){if(super(),this.animation=new Pme,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Xe.und(t)||!Xe.und(e)){const n=Xe.obj(t)?{...t}:{...e,from:t};Xe.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ra(this)||this._state.asyncTo)||hh(this)}get goal(){return ai(this.animation.to)}get velocity(){const t=Zs(this);return t instanceof Mm?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return IS(this)}get isAnimating(){return Ra(this)}get isPaused(){return hh(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=_x(r.to);!o&&ts(r.to)&&(i=Oi(ai(r.to))),r.values.forEach((c,d)=>{if(c.done)return;const f=c.constructor==$p?1:o?o[d].lastPosition:i[d];let p=r.immediate,g=f;if(!p){if(g=c.lastPosition,s.tension<=0){c.done=!0;return}let _=c.elapsedTime+=t;const y=r.fromValues[d],v=c.v0!=null?c.v0:c.v0=Xe.arr(s.velocity)?s.velocity[d]:s.velocity;let m;const S=s.precision||(y==f?.005:Math.min(1,Math.abs(f-y)*.001));if(Xe.und(s.duration))if(s.decay){const E=s.decay===!0?.998:s.decay,T=Math.exp(-(1-E)*_);g=y+v/(1-E)*(1-T),p=Math.abs(c.lastPosition-g)<=S,m=v*T}else{m=c.lastVelocity==null?v:c.lastVelocity;const E=s.restVelocity||S/10,T=s.clamp?0:s.bounce,C=!Xe.und(T),P=y==f?c.v0>0:y<f;let R,A=!1;const L=1,N=Math.ceil(t/L);for(let I=0;I<N&&(R=Math.abs(m)>E,!(!R&&(p=Math.abs(f-g)<=S,p)));++I){C&&(A=g==f||g>f==P,A&&(m=-m*T,g=f));const V=-s.tension*1e-6*(g-f),W=-s.friction*.001*m,z=(V+W)/s.mass;m=m+z*L,g=g+m*L}}else{let E=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,_=c.elapsedTime+=t)),E=(s.progress||0)+_/this._memoizedDuration,E=E>1?1:E<0?0:E,c.durationProgress=E),g=y+s.easing(E)*(f-y),m=(g-c.lastPosition)/t,p=E==1}c.lastVelocity=m,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),p=!0)}o&&!o[d].done&&(p=!1),p?c.done=!0:e=!1,c.setValue(g,s.round)&&(n=!0)});const a=Zs(this),l=a.getValue();if(e){const c=ai(r.to);(l!==c||n)&&!s.decay?(a.setValue(c),this._onChange(c)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Dt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ra(this)){const{to:t,config:e}=this.animation;Dt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return Xe.und(t)?(n=this.queue||[],this.queue=[]):n=[Xe.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>gC(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),Gp(this._state,t&&this._lastCallId),Dt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=Xe.obj(n)?n[e]:n,(n==null||mE(n))&&(n=void 0),r=Xe.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return IS(this)||(t.reverse&&([n,r]=[r,n]),r=ai(r),Xe.und(r)?Zs(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,mC(t,(o,a)=>/^on/.test(a)?hB(o,n):o)),tI(this,t,"onProps"),mh(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return gB(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{hh(this)||(QD(this,!0),Ah(s.pauseQueue),mh(this,"onPause",Ns(this,ph(this,this.animation.to)),this))},resume:()=>{hh(this)&&(QD(this,!1),Ra(this)&&this._resume(),Ah(s.resumeQueue),mh(this,"onResume",Ns(this,ph(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=_B(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(kd(this));const r=!Xe.und(t.to),i=!Xe.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(kd(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:d=l,from:f=c}=t;i&&!r&&(!e.default||Xe.und(d))&&(d=f),e.reverse&&([d,f]=[f,d]);const p=!Oo(f,c);p&&(a.from=f),f=ai(f);const g=!Oo(d,l);g&&this._focus(d);const _=mE(e.to),{config:y}=a,{decay:v,velocity:m}=y;(r||i)&&(y.velocity=0),e.config&&!_&&Rme(y,fc(e.config,s),e.config!==o.config?fc(o.config,s):void 0);let S=Zs(this);if(!S||Xe.und(d))return n(Ns(this,!0));const E=Xe.und(e.reset)?i&&!e.default:!Xe.und(f)&&Jh(e.reset,s),T=E?f:this.get(),C=Hp(d),P=Xe.num(C)||Xe.arr(C)||xx(C),R=!_&&(!P||Jh(o.immediate||e.immediate,s));if(g){const I=pE(d);if(I!==S.constructor)if(R)S=this._set(C);else throw Error(`Cannot animate between ${S.constructor.name} and ${I.name}, as the "to" prop suggests`)}const A=S.constructor;let L=ts(d),N=!1;if(!L){const I=E||!IS(this)&&p;(g||I)&&(N=Oo(Hp(T),C),L=!N),(!Oo(a.immediate,R)&&!R||!Oo(y.decay,v)||!Oo(y.velocity,m))&&(L=!0)}if(N&&Ra(this)&&(a.changed&&!E?L=!0:L||this._stop(l)),!_&&((L||ts(l))&&(a.values=S.getPayload(),a.toValues=ts(d)?null:A==$p?[1]:Oi(C)),a.immediate!=R&&(a.immediate=R,!R&&!E&&this._set(l)),L)){const{onRest:I}=a;Zt(Ime,W=>tI(this,e,W));const V=Ns(this,ph(this,l));Ah(this._pendingCalls,V),this._pendingCalls.add(n),a.changed&&Dt.batchedUpdates(()=>{var W;a.changed=!E,I==null||I(V,this),E?fc(o.onRest,V):(W=a.onStart)==null||W.call(a,V,this)})}E&&this._set(T),_?n(yB(e.to,e,this._state,this)):L?this._start():Ra(this)&&!g?this._pendingCalls.add(n):n(vB(T))}_focus(t){const e=this.animation;t!==e.to&&(VD(this)&&this._detach(),e.to=t,VD(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;ts(e)&&(Tf(e,this),vE(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;ts(t)&&zp(t,this)}_set(t,e=!0){const n=ai(t);if(!Xe.und(n)){const r=Zs(this);if(!r||!Oo(n,r.getValue())){const i=pE(n);!r||r.constructor!=i?pC(this,i.create(n)):r.setValue(n),r&&Dt.batchedUpdates(()=>{this._onChange(n,e)})}}return Zs(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,mh(this,"onStart",Ns(this,ph(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),fc(this.animation.onChange,t,this)),fc(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Zs(this).reset(ai(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Ra(this)||(JD(this,!0),hh(this)||this._resume())}_resume(){zs.skipAnimation?this.finish():gx.start(this)}_stop(t,e){if(Ra(this)){JD(this,!1);const n=this.animation;Zt(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Bp(this,{type:"idle",parent:this});const r=e?kd(this.get()):Ns(this.get(),ph(this,t??n.to));Ah(this._pendingCalls,r),n.changed&&(n.changed=!1,mh(this,"onRest",r,this))}}};function ph(t,e){const n=Hp(e),r=Hp(t.get());return Oo(r,n)}function _B(t,e=t.loop,n=t.to){const r=fc(e);if(r){const i=r!==!0&&mB(r),s=(i||t).reverse,o=!i||i.reset;return Wp({...t,loop:e,default:!1,pause:void 0,to:!s||mE(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function Wp(t){const{to:e,from:n}=t=mB(t),r=new Set;return Xe.obj(e)&&eI(e,r),Xe.obj(n)&&eI(n,r),t.keys=r.size?Array.from(r):null,t}function Dme(t){const e=Wp(t);return Xe.und(e.default)&&(e.default=mC(e)),e}function eI(t,e){uo(t,(n,r)=>n!=null&&e.add(r))}var Ime=["onStart","onRest","onChange","onPause","onResume"];function tI(t,e,n){t.animation[n]=e[n]!==pB(e,n)?hB(e[n],t.key):void 0}function mh(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var Ome=["onStart","onChange","onRest"],kme=1,Ume=class{constructor(e,n){this.id=kme++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((n,r)=>e[r]=n.get()),e}set(e){for(const n in e){const r=e[n];Xe.und(r)||this.springs[n].set(r)}}update(e){return e&&this.queue.push(Wp(e)),this}start(e){let{queue:n}=this;return e?n=Oi(e).map(Wp):this.queue=[],this._flush?this._flush(this,n):(TB(this,n),_E(this,n))}stop(e,n){if(e!==!!e&&(n=e),n){const r=this.springs;Zt(Oi(n),i=>r[i].stop(!!e))}else Gp(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(Xe.und(e))this.start({pause:!0});else{const n=this.springs;Zt(Oi(e),r=>n[r].pause())}return this}resume(e){if(Xe.und(e))this.start({pause:!1});else{const n=this.springs;Zt(Oi(e),r=>n[r].resume())}return this}each(e){uo(this.springs,e)}_onFrame(){const{onStart:e,onChange:n,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,Yh(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&n.size&&Yh(n,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,Yh(r,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Dt.onFrame(this._onFrame)}};function _E(t,e){return Promise.all(e.map(n=>wB(t,n))).then(n=>gC(t,n))}async function wB(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=Xe.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const d=Xe.arr(i)||Xe.fun(i)?i:void 0;d?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Zt(Ome,y=>{const v=e[y];if(Xe.fun(v)){const m=t._events[y];e[y]=({finished:S,cancelled:E})=>{const T=m.get(v);T?(S||(T.finished=!1),E&&(T.cancelled=!0)):m.set(v,{value:null,finished:S||!1,cancelled:E||!1})},c&&(c[y]=e[y])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,Ah(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const p=(r||Object.keys(t.springs)).map(y=>t.springs[y].start(e)),g=e.cancel===!0||pB(e,"cancel")===!0;(d||g&&f.asyncId)&&p.push(gB(++t._lastAsyncId,{props:e,state:f,actions:{pause:fE,resume:fE,start(y,v){g?(Gp(f,t._lastAsyncId),v(kd(t))):(y.onRest=a,v(yB(d,y,f,t)))}}})),f.paused&&await new Promise(y=>{f.resumeQueue.add(y)});const _=gC(t,await Promise.all(p));if(o&&_.finished&&!(n&&_.noop)){const y=_B(e,o,i);if(y)return TB(t,[y]),wB(t,y,!0)}return l&&Dt.batchedUpdates(()=>l(_,t,t.item)),_}function nI(t,e){const n={...t.springs};return e&&Zt(Oi(e),r=>{Xe.und(r.keys)&&(r=Wp(r)),Xe.obj(r.to)||(r={...r,to:void 0}),EB(n,r,i=>bB(i))}),SB(t,n),n}function SB(t,e){uo(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Tf(n,t))})}function bB(t,e){const n=new Lme;return n.key=t,e&&Tf(n,e),n}function EB(t,e,n){e.keys&&Zt(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function TB(t,e){Zt(e,n=>{EB(t.springs,n,r=>bB(r,t))})}var Sx=({children:t,...e})=>{const n=w.useContext(cy),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=dme(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=cy;return w.createElement(s,{value:e},t)},cy=Fme(Sx,{});Sx.Provider=cy.Provider;Sx.Consumer=cy.Consumer;function Fme(t,e){return Object.assign(t,w.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var jme=()=>{const t=[],e=function(r){cme();const i=[];return Zt(t,(s,o)=>{if(Xe.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return Zt(t,r=>r.pause(...arguments)),this},e.resume=function(){return Zt(t,r=>r.resume(...arguments)),this},e.set=function(r){Zt(t,(i,s)=>{const o=Xe.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return Zt(t,(s,o)=>{if(Xe.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Zt(t,r=>r.stop(...arguments)),this},e.update=function(r){return Zt(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return Xe.fun(r)?r(s,i):r};return e._getProps=n,e};function Bme(t,e,n){const r=Xe.fun(e)&&e;r&&!n&&(n=[]);const i=w.useMemo(()=>r||arguments.length==3?jme():void 0,[]),s=w.useRef(0),o=cB(),a=w.useMemo(()=>({ctrls:[],queue:[],flush(m,S){const E=nI(m,S);return s.current>0&&!a.queue.length&&!Object.keys(E).some(C=>!m.springs[C])?_E(m,S):new Promise(C=>{SB(m,E),a.queue.push(()=>{C(_E(m,S))}),o()})}}),[]),l=w.useRef([...a.ctrls]),c=[],d=HD(t)||0;w.useMemo(()=>{Zt(l.current.slice(t,d),m=>{Tme(m,i),m.stop(!0)}),l.current.length=t,f(d,t)},[t]),w.useMemo(()=>{f(0,Math.min(d,t))},n);function f(m,S){for(let E=m;E<S;E++){const T=l.current[E]||(l.current[E]=new Ume(null,a.flush)),C=r?r(E,T):e[E];C&&(c[E]=Dme(C))}}const p=l.current.map((m,S)=>nI(m,c[S])),g=w.useContext(Sx),_=HD(g),y=g!==_&&Eme(g);hC(()=>{s.current++,a.ctrls=l.current;const{queue:m}=a;m.length&&(a.queue=[],Zt(m,S=>S())),Zt(l.current,(S,E)=>{i==null||i.add(S),y&&S.start({default:g});const T=c[E];T&&(Mme(S,T.ref),S.ref?S.queue.push(T):S.start(T))})}),uB(()=>()=>{Zt(a.ctrls,m=>m.stop(!0))});const v=p.map(m=>({...m}));return i?[v,i]:v}var MB=class extends vC{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=Fp(...e);const n=this._get(),r=pE(n);pC(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Oo(e,n)||(Zs(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&rI(this._active)&&OS(this)}_get(){const t=Xe.arr(this.source)?this.source.map(ai):Oi(ai(this.source));return this.calc(...t)}_start(){this.idle&&!rI(this._active)&&(this.idle=!1,Zt(_x(this),t=>{t.done=!1}),zs.skipAnimation?(Dt.batchedUpdates(()=>this.advance()),OS(this)):gx.start(this))}_attach(){let t=1;Zt(Oi(this.source),e=>{ts(e)&&Tf(e,this),vE(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Zt(Oi(this.source),t=>{ts(t)&&zp(t,this)}),this._active.clear(),OS(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Oi(this.source).reduce((e,n)=>Math.max(e,(vE(n)?n.priority:0)+1),0))}};function zme(t){return t.idle!==!1}function rI(t){return!t.size||Array.from(t).every(zme)}function OS(t){t.idle||(t.idle=!0,Zt(_x(t),e=>{e.done=!0}),Bp(t,{type:"idle",parent:t}))}var Vme=(t,...e)=>new MB(t,e);zs.assign({createStringInterpolator:aB,to:(t,e)=>new MB(t,e)});var CB=/^--/;function $me(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!CB.test(t)&&!(Qh.hasOwnProperty(t)&&Qh[t])?e+"px":(""+e).trim()}var iI={};function Hme(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,c=Object.values(l),d=Object.keys(l).map(f=>n||t.hasAttribute(f)?f:iI[f]||(iI[f]=f.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(t.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const p=$me(f,r[f]);CB.test(f)?t.style.setProperty(f,p):t.style[f]=p}d.forEach((f,p)=>{t.setAttribute(f,c[p])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var Qh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gme=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Wme=["Webkit","Ms","Moz","O"];Qh=Object.keys(Qh).reduce((t,e)=>(Wme.forEach(n=>t[Gme(n,e)]=t[e]),t),Qh);var Xme=/^(matrix|translate|scale|rotate|skew)/,Kme=/^(translate)/,qme=/^(rotate|skew)/,kS=(t,e)=>Xe.num(t)&&t!==0?t+e:t,Qv=(t,e)=>Xe.arr(t)?t.every(n=>Qv(n,e)):Xe.num(t)?t===e:parseFloat(t)===e,Yme=class extends wx{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>kS(a,"px")).join(",")})`,Qv(o,0)])),uo(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(Xme.test(a)){if(delete r[a],Xe.und(o))return;const l=Kme.test(a)?"px":qme.test(a)?"deg":"";i.push(Oi(o)),s.push(a==="rotate3d"?([c,d,f,p])=>[`rotate3d(${c},${d},${f},${kS(p,l)})`,Qv(p,0)]:c=>[`${a}(${c.map(d=>kS(d,l)).join(",")})`,Qv(c,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Zme(i,s)),super(r)}},Zme=class extends iB{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Zt(this.inputs,(n,r)=>{const i=ai(n[0]),[s,o]=this.transforms[r](Xe.arr(i)?i:n.map(ai));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&Zt(this.inputs,e=>Zt(e,n=>ts(n)&&Tf(n,this)))}observerRemoved(t){t==0&&Zt(this.inputs,e=>Zt(e,n=>ts(n)&&zp(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Bp(this,t)}},Jme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];zs.assign({batchedUpdates:fs.unstable_batchedUpdates,createStringInterpolator:aB,colors:Bpe});var Qme=xme(Jme,{applyAnimatedValues:Hme,createAnimatedStyle:t=>new Yme(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),sI=Qme.animated;function wE(t,e){return t.map(function(n,r){return n+e[r]})}function yC(t,e){return t.map(function(n,r){return n-e[r]})}function SE(t){return Math.hypot.apply(Math,t)}function ege(t,e,n){var r=SE(e),i=r===0?0:1/r,s=n===0?0:1/n,o=s*r,a=e.map(function(d){return s*d}),l=e.map(function(d){return i*d}),c=SE(t);return{velocities:a,velocity:o,distance:c,direction:l}}function bE(t){return Math.sign?Math.sign(t):+(t>0)-+(t<0)||+t}function tge(t,e,n){return Math.max(e,Math.min(t,n))}function nge(t,e){return Math.pow(t,e*5)}function oI(t,e,n){return e===0||Math.abs(e)===1/0?nge(t,n):t*e*n/(e+n*t)}function aI(t,e,n,r){return r===void 0&&(r=.15),r===0?tge(t,e,n):t<e?-oI(e-t,n-e,r)+e:t>n?+oI(t-n,n-e,r)+n:t}function rge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ige(t,e,n){return e&&rge(t.prototype,e),t}function Gr(){return Gr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gr.apply(this,arguments)}function AB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function sge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function No(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oge(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bx(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=oge(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=t[Symbol.iterator](),n.next.bind(n)}function RB(){}function PB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?RB:e.length===1?e[0]:function(){for(var r,i=bx(e),s;!(s=i()).done;){var o=s.value;r=o.apply(this,arguments)||r}return r}}function Ha(t,e){if(t===void 0){if(e===void 0)throw new Error("Must define fallback value if undefined is expected");t=e}return Array.isArray(t)?t:[t,t]}function cI(t){if(typeof t=="function"){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}else return t}function xC(t,e){t===void 0&&(t={});for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],o=s[0],a=s[1];switch(typeof a){case"function":n[o]=a.call(n,t[o],o,t);break;case"object":n[o]=xC(t[o],a);break;case"boolean":a&&(n[o]=t[o]);break}}return n}function age(){try{return"constructor"in GestureEvent}catch{return!1}}function NB(){return typeof window<"u"&&"ontouchstart"in window}function lge(){return typeof window<"u"&&"onpointerdown"in window}function LB(t){return"pointerId"in t?null:t.type==="touchend"?t.changedTouches:t.targetTouches}function DB(t){return Array.from(LB(t)).map(function(e){return e.identifier})}function uI(t){var e="buttons"in t?t.buttons:0,n=t.shiftKey,r=t.altKey,i=t.metaKey,s=t.ctrlKey;return{buttons:e,shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}}var cge=function(e){return e};function dI(t,e){e===void 0&&(e=cge);var n=LB(t),r=n?n[0]:t,i=r.clientX,s=r.clientY;return e([i,s])}var uge=180,dge=.15,fge=.5,hge=50,pge=250,mge={threshold:function(e){return e===void 0&&(e=0),Ha(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return Ha(dge);case!1:return Ha(0);default:return Ha(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e=="function"?e:Ha(e)},transform:!0},IB=Gr({},mge,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e=="function")return function(f){return IB.bounds(e(f))};var n=e,r=n.left,i=r===void 0?-1/0:r,s=n.right,o=s===void 0?1/0:s,a=n.top,l=a===void 0?-1/0:a,c=n.bottom,d=c===void 0?1/0:c;return[[i,o],[l,d]]}}),gge=typeof window<"u"&&window.document&&window.document.createElement,vge={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t===void 0&&(t=gge?window:void 0),t}),eventOptions:function(e){var n=e===void 0?{}:e,r=n.passive,i=r===void 0?!0:r,s=n.capture,o=s===void 0?!1:s;return{passive:i,capture:o}},transform:!0},yge=Gr({},IB,{useTouch:function(e){e===void 0&&(e=!1);var n=NB(),r=lge();return!!(e&&n||n&&!r)},experimental_preventWindowScrollY:function(e){return e===void 0&&(e=!1),e},threshold:function(e,n,r){var i=r.filterTaps,s=i===void 0?!1:i,o=r.lockDirection,a=o===void 0?!1:o,l=r.axis,c=l===void 0?void 0:l,d=Ha(e,s?3:a||c?1:0);return this.filterTaps=s,d},swipeVelocity:function(e){return e===void 0&&(e=fge),Ha(e)},swipeDistance:function(e){return e===void 0&&(e=hge),Ha(e)},swipeDuration:function(e){return e===void 0&&(e=pge),e},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return uge;case!1:return 0;default:return e}}});function xge(t){return t===void 0&&(t={}),xC(t,vge)}function _ge(t){return t===void 0&&(t={}),xC(t,yge)}function wge(t){var e=t.domTarget,n=t.eventOptions,r=t.window,i=t.enabled,s=sge(t,["domTarget","eventOptions","window","enabled"]),o=xge({domTarget:e,eventOptions:n,window:r,enabled:i});return o.drag=_ge(s),o}function gh(t){return Gr({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:RB,canceled:!1,memo:void 0,args:void 0},t)}function OB(){var t={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},e=gh({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),n=gh({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),r=gh({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=gh({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=gh({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:t,drag:e,pinch:n,wheel:r,move:i,scroll:s}}var ic=new Map,Sge=function(e){return e},bge=function(){function t(n,r){var i=this;r===void 0&&(r=[]),this.controller=n,this.args=r,this.debounced=!0,this.setTimeout=function(s,o){var a;o===void 0&&(o=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var l=arguments.length,c=new Array(l>2?l-2:0),d=2;d<l;d++)c[d-2]=arguments[d];i.controller.timeouts[i.stateKey]=(a=window).setTimeout.apply(a,[s,o].concat(c))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(s){if(s===void 0&&(s=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!s&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var o=i.state.active,a=i.state._active;i.state.active=a,i.state.first=a&&!o,i.state.last=o&&!a,i.controller.state.shared[i.ingKey]=a}var l=i.controller.pointerIds.size||i.controller.touchIds.size,c=i.controller.state.shared.buttons>0||l>0,d=Gr({},i.controller.state.shared,i.state,i.mapStateValues(i.state),{locked:!!document.pointerLockElement,touches:l,down:c}),f=i.handler(d);return i.state.memo=f!==void 0?f:i.state.memo,d},this.controller=n,this.args=r}var e=t.prototype;return e.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},e.updateGestureState=function(r){Object.assign(this.state,r)},e.checkIntentionality=function(r,i){return{_intentional:r,_blocked:!1}},e.getMovement=function(r){var i=this.config.rubberband,s=this.state,o=s._bounds,a=s._initial,l=s._active,c=s._intentional,d=s.lastOffset,f=s.movement,p=s._threshold,g=this.getInternalMovement(r,this.state),_=c[0]===!1?fI(g[0],p[0]):c[0],y=c[1]===!1?fI(g[1],p[1]):c[1],v=this.checkIntentionality([_,y],g);if(v._blocked)return Gr({},v,{_movement:g,delta:[0,0]});var m=v._intentional,S=g,E=[m[0]!==!1?g[0]-m[0]:0,m[1]!==!1?g[1]-m[1]:0],T=wE(E,d),C=l?i:[0,0];return E=hI(o,wE(E,a),C),Gr({},v,{intentional:m[0]!==!1||m[1]!==!1,_initial:a,_movement:S,movement:E,values:r,offset:hI(o,T,C),delta:yC(E,f)})},e.clean=function(){this.clearTimeout()},ige(t,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||Sge}}]),t}();function fI(t,e){return Math.abs(t)>=e?bE(t)*e:!1}function hI(t,e,n){var r=e[0],i=e[1],s=n[0],o=n[1],a=t[0],l=a[0],c=a[1],d=t[1],f=d[0],p=d[1];return[aI(r,l,c,s),aI(i,f,p,o)]}function US(t,e,n){var r=t.state,i=e.timeStamp,s=e.type,o=r.values,a=n?0:i-r.startTime;return{_lastEventType:s,event:e,timeStamp:i,elapsedTime:a,previous:o}}function Ege(t,e,n,r){var i=t.state,s=t.config,o=t.stateKey,a=t.args,l=t.transform,c=i.offset,d=n.timeStamp,f=s.initial,p=s.bounds,g=s.threshold,_=yC(l(g),l([0,0])).map(Math.abs),y=Gr({},OB()[o],{_active:!0,args:a,values:e,initial:e,_threshold:_,offset:c,lastOffset:c,startTime:d});return Gr({},y,{_initial:cI(f,y),_bounds:cI(p,y)})}var Tge=function(e){var n=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=NB(),this.supportsGestureEvents=age(),this.bind=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o={},a=bx(n.classes),l;!(l=a()).done;){var c=l.value;new c(n,i).addBindings(o)}var d=function(g){qs(o,g,function(_){return n.nativeRefs[g](Gr({},n.state.shared,{event:_,args:i}))})};for(var f in n.nativeRefs)d(f);return n.config.domTarget?Nge(n,o):Lge(n,o)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var r=UB(n.config),i=n.config.eventOptions;r&&Cm(r,kB(n.domListeners),i),Object.values(n.timeouts).forEach(clearTimeout),Age(n)},this.classes=e,this.state=OB(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function Mge(t,e){"pointerId"in e?t.pointerIds.add(e.pointerId):t.touchIds=new Set(DB(e))}function Cge(t,e){"pointerId"in e?t.pointerIds.delete(e.pointerId):DB(e).forEach(function(n){return t.touchIds.delete(n)})}function Age(t){var e=t.config,n=e.window,r=e.eventOptions,i=t.windowListeners;if(n){for(var s in i){var o=i[s];Cm(n,o,r)}t.windowListeners={}}}function Rge(t,e,n){var r=t.config,i=t.windowListeners;n===void 0&&(n=r.eventOptions),r.window&&(Cm(r.window,i[e],n),delete i[e])}function Pge(t,e,n,r){var i=t.config,s=t.windowListeners;n===void 0&&(n=[]),r===void 0&&(r=i.eventOptions),i.window&&(Cm(i.window,s[e],r),FB(i.window,s[e]=n,r))}function Nge(t,e){var n=t.config,r=t.domListeners,i=UB(n);if(!i)throw new Error("domTarget must be defined");var s=n.eventOptions;Cm(i,kB(r),s);for(var o=0,a=Object.entries(e);o<a.length;o++){var l=a[o],c=l[0],d=l[1],f=c.slice(2).toLowerCase();r.push([f,PB.apply(void 0,d)])}FB(i,r,s)}function Lge(t,e){for(var n=t.config,r={},i=n.eventOptions.capture?"Capture":"",s=0,o=Object.entries(e);s<o.length;s++){var a=o[s],l=a[0],c=a[1],d=Array.isArray(c)?c:[c],f=l+i;r[f]=PB.apply(void 0,d)}return r}function kB(t){return t===void 0&&(t=[]),t.splice(0,t.length)}function UB(t){var e=t.domTarget;return e&&"current"in e?e.current:e}function qs(t,e,n){t[e]||(t[e]=[]),t[e].push(n)}function FB(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=bx(e),i;!(i=r()).done;){var s=i.value,o=s[0],a=s[1];t.addEventListener(o,a,n)}}function Cm(t,e,n){e===void 0&&(e=[]),n===void 0&&(n={});for(var r=bx(e),i;!(i=r()).done;){var s=i.value,o=s[0],a=s[1];t.removeEventListener(o,a,n)}}function Dge(t,e,n){n===void 0&&(n={});var r=Oge(t),i=Ge.useMemo(function(){return new Tge(r)},[]);return i.config=e,i.handlers=t,i.nativeRefs=n,Ge.useEffect(i.effect,[]),i.config.domTarget?Ige:i.bind}function Ige(){}function Oge(t){var e=new Set;return t.drag&&e.add(ic.get("drag")),t.wheel&&e.add(ic.get("wheel")),t.scroll&&e.add(ic.get("scroll")),t.move&&e.add(ic.get("move")),t.pinch&&e.add(ic.get("pinch")),t.hover&&e.add(ic.get("hover")),e}var kge=function(t){AB(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.getInternalMovement=function(i,s){return yC(i,s.initial)},n.checkIntentionality=function(i,s){if(i[0]===!1&&i[1]===!1)return{_intentional:i,axis:this.state.axis};var o=s.map(Math.abs),a=o[0],l=o[1],c=this.state.axis||(a>l?"x":a<l?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:i,_blocked:!1,axis:c}:c?this.config.axis&&c!==this.config.axis?{_intentional:i,_blocked:!0,axis:c}:(i[c==="x"?1:0]=!1,{_intentional:i,_blocked:!1,axis:c}):{_intentional:[!1,!1],_blocked:!1,axis:c}},n.getKinematics=function(i,s){var o=this.getMovement(i);if(!o._blocked){var a=s.timeStamp-this.state.timeStamp;Object.assign(o,ege(o.movement,o.delta,a))}return o},n.mapStateValues=function(i){return{xy:i.values,vxvy:i.velocities}},e}(bge),Uge=3;function pI(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}var Fge=function(t){AB(e,t);function e(){var r;return r=t.apply(this,arguments)||this,r.ingKey="dragging",r.stateKey="drag",r.setPointerCapture=function(i){if(!(r.config.useTouch||document.pointerLockElement)){var s=i.target,o=i.pointerId;s&&"setPointerCapture"in s&&s.setPointerCapture(o),r.updateGestureState({_dragTarget:s,_dragPointerId:o})}},r.releasePointerCapture=function(){if(!(r.config.useTouch||document.pointerLockElement)){var i=r.state,s=i._dragTarget,o=i._dragPointerId;if(o&&s&&"releasePointerCapture"in s&&(!("hasPointerCapture"in s)||s.hasPointerCapture(o)))try{s.releasePointerCapture(o)}catch{}}},r.preventScroll=function(i){r.state._dragPreventScroll&&i.cancelable&&i.preventDefault()},r.getEventId=function(i){return r.config.useTouch?i.changedTouches[0].identifier:i.pointerId},r.isValidEvent=function(i){return r.state._pointerId===r.getEventId(i)},r.shouldPreventWindowScrollY=r.config.experimental_preventWindowScrollY&&r.controller.supportsTouchEvents,r.setUpWindowScrollDetection=function(i){pI(i),Pge(r.controller,r.stateKey,[["touchmove",r.preventScroll],["touchend",r.clean.bind(No(r))],["touchcancel",r.clean.bind(No(r))]],{passive:!1}),r.setTimeout(r.startDrag.bind(No(r)),250,i)},r.setUpDelayedDragTrigger=function(i){r.state._dragDelayed=!0,pI(i),r.setTimeout(r.startDrag.bind(No(r)),r.config.delay,i)},r.setStartState=function(i){var s=dI(i,r.transform);r.updateSharedState(uI(i)),r.updateGestureState(Gr({},Ege(No(r),s,i),US(No(r),i,!0),{_pointerId:r.getEventId(i)})),r.updateGestureState(r.getMovement(s))},r.onDragStart=function(i){Mge(r.controller,i),!(!r.enabled||r.state._active)&&(r.setStartState(i),r.setPointerCapture(i),r.shouldPreventWindowScrollY?r.setUpWindowScrollDetection(i):r.config.delay>0?r.setUpDelayedDragTrigger(i):r.startDrag(i,!0))},r.onDragChange=function(i){if(!(r.state.canceled||!r.state._active||!r.isValidEvent(i)||r.state._lastEventType===i.type&&i.timeStamp===r.state.timeStamp)){var s;if(document.pointerLockElement){var o=i.movementX,a=i.movementY;s=wE(r.transform([o,a]),r.state.values)}else s=dI(i,r.transform);var l=r.getKinematics(s,i);if(!r.state._dragStarted){if(r.state._dragDelayed){r.startDrag(i);return}if(r.shouldPreventWindowScrollY)if(!r.state._dragPreventScroll&&l.axis)if(l.axis==="x")r.startDrag(i);else{r.state._active=!1;return}else return;else return}var c=uI(i);r.updateSharedState(c);var d=US(No(r),i),f=SE(l._movement),p=r.state._dragIsTap;p&&f>=Uge&&(p=!1),r.updateGestureState(Gr({},d,l,{_dragIsTap:p})),r.fireGestureHandler()}},r.onDragEnd=function(i){if(Cge(r.controller,i),!!r.isValidEvent(i)&&(r.clean(),!!r.state._active)){r.state._active=!1;var s=r.state._dragIsTap,o=r.state.velocities,a=o[0],l=o[1],c=r.state.movement,d=c[0],f=c[1],p=r.state._intentional,g=p[0],_=p[1],y=r.config.swipeVelocity,v=y[0],m=y[1],S=r.config.swipeDistance,E=S[0],T=S[1],C=r.config.swipeDuration,P=Gr({},US(No(r),i),r.getMovement(r.state.values)),R=[0,0];P.elapsedTime<C&&(g!==!1&&Math.abs(a)>v&&Math.abs(d)>E&&(R[0]=bE(a)),_!==!1&&Math.abs(l)>m&&Math.abs(f)>T&&(R[1]=bE(l))),r.updateSharedState({buttons:0}),r.updateGestureState(Gr({},P,{tap:s,swipe:R})),r.fireGestureHandler(r.config.filterTaps&&s===!0)}},r.clean=function(){t.prototype.clean.call(No(r)),r.state._dragStarted=!1,r.releasePointerCapture(),Rge(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0,_active:!1}),r.updateSharedState({buttons:0}),setTimeout(function(){return r.fireGestureHandler()},0))},r.onClick=function(i){r.state._dragIsTap||i.stopPropagation()},r}var n=e.prototype;return n.startDrag=function(i,s){s===void 0&&(s=!1),!(!this.state._active||this.state._dragStarted)&&(s||this.setStartState(i),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(i){if(this.config.useTouch?(qs(i,"onTouchStart",this.onDragStart),qs(i,"onTouchMove",this.onDragChange),qs(i,"onTouchEnd",this.onDragEnd),qs(i,"onTouchCancel",this.onDragEnd)):(qs(i,"onPointerDown",this.onDragStart),qs(i,"onPointerMove",this.onDragChange),qs(i,"onPointerUp",this.onDragEnd),qs(i,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){var s=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";qs(i,s,this.onClick)}},e}(kge);function jge(t,e){var n,r=[],i,s=!1;function o(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s&&n===this&&e(l,r)||(i=t.apply(this,l),s=!0,n=this,r=l),i}return o}function e0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!e0(t[r],e[r]))return!1;return!0}var s;if(typeof Map=="function"&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!e0(r.value[1],e.get(r.value[0])))return!1;return!0}if(typeof Set=="function"&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(typeof Element<"u"&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!(i[r]==="_owner"&&t.$$typeof)&&!e0(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}function Bge(t,e){try{return e0(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}function zge(t,e){e===void 0&&(e={}),ic.set("drag",Fge);var n=w.useRef();return n.current||(n.current=jge(wge,Bge)),Dge({drag:t},n.current(e))}const Vge="_container_y84bx_1",$ge="_deck_y84bx_12",jB={container:Vge,deck:$ge},mI={Augustus:{"Visionary and powerful":3,"Innovative and strategic":3,"foresight and planning":3,"Woody Spicy":3,"Commanding and sophisticated":3,"Sandalwood or Cedar":3,"Vision and legacy":3,"As a powerful and visionary leader":3,Augustus:3,"Founding a lasting empire":3,"Commanding and inspiring respect":3},Trajan:{"Courageous and fearless":3,"Bold and decisive":3,"bravery and strength":3,"Citrus Fresh":3,"Invigorating and fresh":3,"Bergamot or Lemon":3,"Courage and honor":3,"As a brave and fearless hero":3,Trajan:3,"Expanding the empire’s boundaries":3,"Invigorating and energizing":3},"Marcus Aurelius":{"Diplomatic and wise":3,"Diplomatic and fair":3,"negotiation and wisdom":3,"Aromatic Herbal":3,"Calm and reflective":3,"Lavender or Sage":3,"Wisdom and diplomacy":3,"As a wise and fair diplomat":3,"Marcus Aurelius":3,"Upholding peace and wisdom":3,"Calming and wise":3},Constantine:{"Stoic and disciplined":3,"Pragmatic and disciplined":3,"patience and discipline":3,Leather:9,"Intense and bold":3,"Leather or Tobacco":3,"Discipline and order":3,"As a disciplined and stoic figure":3,Constantine:3,"Reforming and strengthening the state":3,"Intense and memorable":3},Nero:{"Passionate and ambitious":3,"Charismatic and inspiring":3,"passion and energy":3,Oriental:3,"Rich and complex":3,"Amber or Vanilla":3,"Passion and ambition":3,"As a passionate and inspiring ruler":3,Nero:3,"Expressing creativity and passion":3,"Rich and intriguing":3}},Xu=[{question:"How would you describe your personality?",answers:["Visionary and powerful","Courageous and fearless","Diplomatic and wise","Stoic and disciplined","Passionate and ambitious"]},{question:"What’s your approach to leadership?",answers:["Innovative and strategic","Bold and decisive","Diplomatic and fair","Pragmatic and disciplined","Charismatic and inspiring"]},{question:"How do you approach challenges?",answers:["foresight and planning","bravery and strength","negotiation and wisdom","patience and discipline","passion and energy"]},{question:"Which type of fragrance do you usually gravitate toward?",answers:["Woody Spicy","Citrus Fresh","Aromatic Herbal","Leather","Oriental"]},{question:"Do you prefer your scent to be:",answers:["Commanding and sophisticated","Invigorating and fresh","Calm and reflective","Intense and bold","Rich and complex"]},{question:"Which scent note appeals to you the most?",answers:["Sandalwood or Cedar","Bergamot or Lemon","Lavender or Sage","Leather or Tobacco","Amber or Vanilla"]},{question:"What do you value most in life?",answers:["Vision and legacy","Courage and honor","Wisdom and diplomacy","Discipline and order","Passion and ambition"]},{question:"How do you want others to perceive you?",answers:["As a powerful and visionary leader","As a brave and fearless hero","As a wise and fair diplomat","As a disciplined and stoic figure","As a passionate and inspiring ruler"]},{question:"Which of these historical figures intrigues you the most?",answers:["Augustus","Trajan","Marcus Aurelius","Constantine","Nero"]},{question:"If you could embody one aspect of an emperor’s legacy, which would it be?",answers:["Founding a lasting empire","Expanding the empire’s boundaries","Upholding peace and wisdom","Reforming and strengthening the state","Expressing creativity and passion"]},{question:"How would you like your fragrance to affect others?",answers:["Commanding and inspiring respect","Invigorating and energizing","Calming and wise","Intense and memorable","Rich and intriguing"]}],Hge=175,Gge=-325,BB=250,zB=-200,Wge=0,Xge=200,FS=t=>({x:t*Hge+Gge,y:t*-4+BB,scale:1,rot:-10+Math.random()*20,delay:t*100,opacity:1}),Kge=t=>({x:window.innerWidth+200,y:t*-4+BB,scale:1,rot:-10+Math.random()*20,delay:t*100,opacity:0}),qge=t=>({x:0,rot:0,scale:1.5,y:zB,opacity:0}),Yge=t=>({x:0,rot:-10+Math.random()*20,scale:1.1,y:zB,opacity:1}),Zge=(t,e)=>`perspective(500px) rotateX(30deg) rotateY(${t/10}deg) rotateZ(${t}deg) scale(${e})`;function Jge(t){const[e]=w.useState(()=>new Set),{onSelect:n,cards:r}=t,[i,s]=Bme(r.length,a=>({...FS(a),from:qge()})),o=zge(({args:[a],down:l,movement:[c,d],direction:[f,p],velocity:g})=>{const _=g>.1,y=f<0?-1:1,v=p<0?-1:1;!l&&_&&(n(a),e.add(a)),s.start(m=>{if(a!==m)return;const S=e.has(a),E=S?Wge*y:l?c:FS(m).x,T=S?Xge*v:l?d:FS(m).y,C=c/100+y*10*g;return{x:E,y:T,rot:C,scale:l?1.1:1,delay:void 0,config:{friction:50,tension:l?800:S?200:500}}}),!l&&e.size>0&&setTimeout(()=>{s.start(m=>e.has(m)?Yge():Kge(m)),e.clear()},600)});return x.jsx(x.Fragment,{children:i.map(({x:a,y:l,rot:c,scale:d,opacity:f},p)=>x.jsx(sI.div,{className:jB.deck,style:{x:a,y:l,opacity:f},children:x.jsx(sI.div,{...o(p),style:{transform:Vme([c,d,f],Zge)},className:"flex items-center justify-center align-middle",children:x.jsx("h1",{className:"text-center",children:r[p]})})},p))})}function gI(t,e){const n={};for(const s in e)n[s]=0,t.forEach(o=>{e[s][o]&&(n[s]+=e[s][o])});let r=null,i=0;for(const s in n)n[s]>i&&(i=n[s],r=s);return{scores:n,bestMatch:r}}function Qge(){const[t,e]=w.useState([]),n=2e3;return console.log(gI(t.map((r,i)=>Xu[i].answers[r]),mI)),x.jsx(x.Fragment,{children:x.jsxs("div",{className:jB.container,children:[x.jsx("h1",{className:"self-start p-20 text-4xl",children:t.length>=Xu.length?"Your fragrance is: "+gI(t.map((r,i)=>Xu[i].answers[r]),mI).bestMatch:Xu[t.length].question}),t.length>=Xu.length?null:Xu.map((r,i)=>t.length+1>i?x.jsx(Jge,{onSelect:s=>{setTimeout(()=>e(o=>[...o,s]),n)},cards:r.answers}):null)]})})}const ll=w.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Ae("rounded-xl border bg-card text-card-foreground shadow",t),...e}));ll.displayName="Card";const cl=w.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));cl.displayName="CardHeader";const ul=w.forwardRef(({className:t,...e},n)=>x.jsx("h3",{ref:n,className:Ae("font-semibold leading-none tracking-tight",t),...e}));ul.displayName="CardTitle";const Ud=w.forwardRef(({className:t,...e},n)=>x.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));Ud.displayName="CardDescription";const dl=w.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));dl.displayName="CardContent";const _C=w.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));_C.displayName="CardFooter";const Ya=w.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:Ae("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Ya.displayName="Input";var eve="Label",VB=w.forwardRef((t,e)=>x.jsx(At.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VB.displayName=eve;var $B=VB;const tve=im("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),is=w.forwardRef(({className:t,...e},n)=>x.jsx($B,{ref:n,className:Ae(tve(),t),...e}));is.displayName=$B.displayName;function nve(){const[t,e]=w.useState(""),[n,r]=w.useState(""),i=mi(),s=w.useCallback(l=>e(l.target.value),[e]),o=w.useCallback(l=>r(l.target.value),[r]),a=w.useCallback(async()=>{if(!(await rn.auth.signInWithPassword({email:t,password:n})).error){i("/"),to({title:"Login Successful",description:"You have logged into your account successfully."});return}to({title:"Login Error",description:"Please check your email and password."})},[t,n]);return x.jsx("div",{className:"flex h-screen w-screen items-center justify-center",children:x.jsxs(ll,{className:"helvetica mx-auto max-w-sm",children:[x.jsxs(cl,{children:[x.jsx("div",{className:"p-8 px-16",children:x.jsx("img",{src:Wd,height:32})}),x.jsx(ul,{className:"text-2xl",children:"Login"}),x.jsx(Ud,{children:"Enter your email below to login to your account"})]}),x.jsxs(dl,{children:[x.jsxs("div",{className:"grid gap-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(is,{htmlFor:"email",children:"Email"}),x.jsx(Ya,{id:"email",type:"email",placeholder:"m@example.com",required:!0,value:t,onChange:s})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("div",{className:"flex items-center",children:x.jsx(is,{htmlFor:"password",children:"Password"})}),x.jsx(Ya,{id:"password",type:"password",required:!0,value:n,onChange:o})]}),x.jsx(ln,{type:"submit",className:"w-full",onClick:a,children:"Login"}),x.jsx(ln,{disabled:!0,variant:"outline",className:"w-full",children:"Login with Google"})]}),x.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",x.jsx(Np,{className:"underline",to:"/signup",children:"Sign up"})]})]})]})})}function rve(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(""),l=mi(),c=w.useCallback(_=>e(_.target.value),[e]),d=w.useCallback(_=>r(_.target.value),[r]),f=w.useCallback(_=>s(_.target.value),[r]),p=w.useCallback(_=>a(_.target.value),[r]),g=w.useCallback(async()=>{if(!(await rn.auth.signUp({email:t,password:n,options:{data:{firstName:i,lastName:o}}})).error){to({title:"Sign up completed",description:"Please check your email for confirmation."}),l("/");return}to({title:"Login Error",description:"Please check your email and password."})},[t,n]);return x.jsx("div",{className:"helvetica flex h-screen w-screen items-center justify-center",children:x.jsxs(ll,{className:"mx-auto max-w-sm",children:[x.jsxs(cl,{children:[x.jsx("div",{className:"p-8 px-16",children:x.jsx("img",{src:Wd,height:32})}),x.jsx(ul,{className:"text-xl",children:"Sign Up"}),x.jsx(Ud,{children:"Enter your information to create an account"})]}),x.jsxs(dl,{children:[x.jsxs("div",{className:"grid gap-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(is,{htmlFor:"first-name",children:"First name"}),x.jsx(Ya,{id:"first-name",placeholder:"Max",required:!0,value:i,onChange:f})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(is,{htmlFor:"last-name",children:"Last name"}),x.jsx(Ya,{id:"last-name",placeholder:"Robinson",required:!0,value:o,onChange:p})]})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(is,{htmlFor:"email",children:"Email"}),x.jsx(Ya,{id:"email",type:"email",placeholder:"m@example.com",required:!0,onChange:c,value:t})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(is,{htmlFor:"password",children:"Password"}),x.jsx(Ya,{id:"password",type:"password",onChange:d,value:n})]}),x.jsx(ln,{type:"submit",className:"w-full",onClick:g,children:"Create an account"}),x.jsx(ln,{disabled:!0,variant:"outline",className:"w-full",children:"Sign up with Google"})]}),x.jsxs("div",{className:"mt-4 text-center text-sm",children:["Already have an account?",x.jsx(Np,{className:"underline",to:"/login",children:"Sign in"})]})]})]})})}const ive={translation:{common:{copyright:"إشعار حقوق الطبع والنشر © 2024 بريستيال. جميع الحقوق محفوظة. جميع المحتويات، بما في ذلك على سبيل المثال لا الحصر النصوص والرسوم والشعارات والصور والتصميمات، هي ملك لشركة بريستيال والعلامات التجارية التابعة لها. يحظر تمامًا أي نسخ أو توزيع أو استخدام للمواد دون الحصول على إذن كتابي صريح من بريستيال. قد يؤدي الاستخدام غير المصرح به إلى اتخاذ إجراءات قانونية. للاستفسارات حول الأذونات أو الترخيص، يرجى التواصل مع فريقنا عبر البريد الإلكتروني: legal@pristiale.com.",limitedPieces:"قطع محدودة",orderNow:"احجز اللان",personalizeAPerfume:"انشئ عطرك الخاص",or:"او",buyAsAGift:"اشتري كهدية",pristiale:"بريستيال",view:"View"},menu:{takeATest:"اجر الاختبار",personalizeAPerfume:"انشئ عطرك الخاص",collections:"تشكيلات",perfumes:"عطور",essentialsCollection:"تشكيلة الأساسيات",essentialsCollectionSubtitle:"اساسيات عملية, معاد تعريفها من بريستيال",newSeason:"الموسم الجديد",newSeasonSubtitle:"أحدث القطع المصممة لموسم جديد من بريستيال",allItems:"كل القطع",allItemsSubtitle:"تصفح متجر بريستيال لانتقاء القطع العصرية",typeToSearch:"ابدا بالكتابة ليتم البحث",items:"قطع",switchLanguage:"تبديل اللغة",profile:"الحساب",billing:"الدفع",settings:"الاعدادات",noResults:"لا شيئ هنا",allProducts:"جميع القطع",yourOrders:"طلبياتك",yourOrdersDescription:"تتبع, وراجع جميع طلبياتك من بريستيال",switchLanguageDescription:"بريستيال متوفر باللغة العربية, والأنكليزية",yourAccount:"حسابك",yourAccountDescription:"تصفح, وعدل حساب بريستيال الخاص بك",luxuryItems:"القطع الفخمة",perfumery:"العطور",other:"الاخرى"},collections:{mensEssentials:"تشكيلة الأساسيات الرجالية",mensEssentialsDescription:"نظافة، أناقة، وطموح. أساسيات عملية معاد تعريفها من بريستيال",genesisCollection:"البدايات",genesisCollectionDescription:"مستوحاة من أغسطس، مؤسس الإمبراطورية الرومانية وأول إمبراطور لها. يمثل أغسطس القيادة والرؤية والدافع لبناء شيء عظيم. هذا العطر مخصص للقائد الطبيعي الذي يجذب الانتباه ويلهم الآخرين."},perfumes:{augustus:"أغوستوس",sage:"الشيح",juniper:"العرعر",cedarwood:"خشب الأرز",amber:"العنبر",incense:"البخور"},cart:{yourCart:"Your Cart",total:"Total",continueToCheckout:"Continue to checkout"},checkout:{cart:"عربة التسوق",checkout:"الدفع",contactUs:"اتصل بنا",contactUsDesc:"إذا كانت لديك أي استفسارات، لا تتردد في الاتصال بنا.",goToContactPage:"انتقل إلى صفحة الاتصال",billingDelivery:"الفوترة والتسليم",billingDeliveryDesc:"يرجى تقديم معلومات تسليم دقيقة.",shipTo:"الشحن إلى",governorate:"اختر المحافظة",shippingInfo:"معلومات الشحن",shippingInfoPlaceholder:"أدخل عنوان الشحن الخاص بك",phone:"رقم الهاتف",phonePlaceholder:"أدخل رقم هاتفك",additionalOptions:"خيارات توصيل إضافية",additionalOptionsPlaceholder:"أي تعليمات خاصة للتوصيل؟",agreeTerms:"أوافق على الشروط والأحكام",placeOrder:"إتمام الطلب",connectionError:"خطأ في الاتصال",connectionErrorDesc:"حدثت مشكلة في الاتصال بالخادم. الرجاء المحاولة لاحقًا.",orderError:"خطأ في الطلب",orderErrorDesc:"حدثت مشكلة أثناء معالجة طلبك. الرجاء المحاولة مرة أخرى."},products:{clickToPreview:"اضغط للتصفح",addToCart:"اضف للسلة",size:"القياس",productDetails:"تفاصيل المنتج",shippingReturns:"الشحن, والارجاع",delivery:"التوصيل",shippingDescription:"المشتريات التي تمت بعد أسبوع واحد من الشراء مؤهلة للإرجاع أو الاستبدال. يجب أن تكون العناصر غير مغسولة وغير ملبوسة وغير معدلة مع العلامات الأصلية",shippingDescription1:"لا يمكن إرجاع العناصر الشخصية وصناديق الهدايا",shippingDescription2:"شحن مجاني لجميع الطلبات. للتسليم خلال أسبوع واحد، راجع جدول التسليم لدينا. بالإضافة إلى خدمات الشحن المنتظمة التي نقدمها، نقدم أيضًا خدمة الشراء عبر الإنترنت والاستلام والتسليم في نفس اليوم من أجل راحتك",deliveryDescription:"يتم تسليم جميع العناصر من بريستيال مع صندوقنا الفاخر الذي يحتوي على حروف بريستيال المميزة وشريط أحمر مع رسالة شخصية عند الدفع",deliveryDescription1:"قد يضاف عناصر إضافية إلى الشحنة الخاصة بك"},thankYou:{thankYou:"شكرا لك!",youWillBeNotified:"سوف نعلمك عند قبول طلبك",willPrepare:"بريستيال ستحضره بكل",withLove:"حب",withPassion:"شغف",withCare:"عناية",continueShopping:"تابع التسوق",viewOrders:"راجع الطلبيات"},orders:{"awaiting-aproval":"بأنتظار التأكيد",approved:"تم استلام الطلب",declined:"مرفوض",cancelled:"تم الغاءه",preparing:"يتم تحضيره",shipped:"تم شحنه",delivered:"تم استلامه",printReciept:"اطبع الفاتورة"}}},sve={translation:{common:{copyright:"Copyright Notice © 2024 Pristiale All rights reserved. All content, including but not limited to text, graphics, logos, images, and designs, is the property of Pristiale and its affiliated brands. Any reproduction, distribution, or use of the materials without express written permission from Pristiale is strictly prohibited. Unauthorized use may result in legal action. For inquiries regarding permissions or licensing, please contact our team at legal@pristiale.com",limitedPieces:"limited pieces",orderNow:"Order Now",personalizeAPerfume:"Personalize A Perfume",or:"or",buyAsAGift:"Buy as a Gift",pristiale:"Pristiale",view:"View"},menu:{takeATest:"take the test",personalizeAPerfume:"Personalize a Perfume",collections:"Collections",perfumes:"Perfumes",essentialsCollection:"Essentials Collection",essentialsCollectionSubtitle:"Timeless classics, reintroduced by pristiale.",newSeason:"New Season",newSeasonSubtitle:"Newest peices designed for the new season by pristiale.",allItems:"All Items",allItemsSubtitle:"Browse pristiale's store for desginer goods.",typeToSearch:"Start typing to search",items:"Items",switchLanguage:"Switch Language",profile:"Profile",billing:"Billing",settings:"Settings",noResults:"No results.",allProducts:"All Products",yourOrders:"Your Orders",yourOrdersDescription:"Track, and review all your orders from pristiale.",switchLanguageDescription:"Pristiale is available in Arabic, and English.",yourAccount:"Your Account",yourAccountDescription:"View, and modify your pristiale account.",luxuryItems:"Luxury Items",perfumery:"Prefumery",other:"Other"},collections:{mensEssentials:"Men's Essentials Collection",mensEssentialsDescription:"Clean, Elegant, and Ambitious. Timeless Essentials Redefined by Pristiale",genesisCollection:"THE GENISIS COLLECTION",genesisCollectionDescription:"Inspired by Augustus, the founder of the Roman Empire and its first emperor. Augustus represents leadership, vision, and the drive to build something great. This scent is for the natural leader who commands attention and inspires others."},perfumes:{augustus:"Augustus",sage:"SAGE",juniper:"JUNIPER",cedarwood:"CEDARWOOD",amber:"AMBER",incense:"INCENSE"},cart:{yourCart:"Your Cart",total:"Total",continueToCheckout:"Continue to checkout"},checkout:{cart:"Cart",checkout:"Checkout",contactUs:"Contact Us",contactUsDesc:"If you have any inquiries, please feel free to contact us.",goToContactPage:"Go to Contact Page",billingDelivery:"Billing & Delivery",billingDeliveryDesc:"Please provide accurate delivery information.",shipTo:"Ship to",governorate:"Select Governorate",shippingInfo:"Shipping Information",shippingInfoPlaceholder:"Enter your shipping address",phone:"Phone Number",phonePlaceholder:"Enter your phone number",additionalOptions:"Additional Delivery Options",additionalOptionsPlaceholder:"Any special delivery instructions?",agreeTerms:"I agree to the terms and conditions",placeOrder:"Place Order",connectionError:"Connection Error",connectionErrorDesc:"There was a problem connecting to the server. Please try again later.",orderError:"Order Error",orderErrorDesc:"There was an issue processing your order. Please try again."},products:{clickToPreview:"Click to preview",addToCart:"Add To Cart",size:"Size",productDetails:"Product Details",shippingReturns:"Shipping, and returns",delivery:"Delivery",shippingDescription:"Purchases made after 1 week of purchase are eligible to be returned or exchange. Items must be unwashed, unworn, and unaltered with the original tags.",shippingDescription1:"Personalized items and gift boxes cannot be returned.",shippingDescription2:"Free shipping on all orders. for delivery within one week, see our delivery schedule. in addition to our regular shipping services, we also offer buy online, pick up and same day delivery for your convenience.",deliveryDescription:"All items from pristiale are delivered with our luxurious box with signature pristiale lettering and red bow with a personalized message at checkout.",deliveryDescription1:"Additional collectable items may be added to your package."},orders:{"awaiting-aproval":"Awaiting Approval",approved:"Approved",declined:"Declined",cancelled:"Cancelled",preparing:"Preparing",shipped:"Shipped",delivered:"Delivered",printReciept:"Print Reciept"},thankYou:{thankYou:"Thank You!",youWillBeNotified:"You'll be notified as soon as your order is accepted.",willPrepare:"Pristiale will prepare it with",withLove:"Love",withPassion:"Passion",withCare:"Care",continueShopping:"Continue Shopping",viewOrders:"View Orders"}}};Xn.use(Gde).init({resources:{ar:ive,en:sve},lng:"en",interpolation:{escapeValue:!1}});function ove(t){const{product:e}=t,[n,r]=w.useState(),[i,s]=w.useState([]),{toast:o}=ax(),a=mi();w.useEffect(()=>{l()},[]);async function l(){const{data:d}=await rn.from("items").select("*").eq("product",e.id);d&&s(d)}async function c(){const d=i.find(g=>g.id===Number(n)),f=await rn.auth.getUser();if(!f)return;const{user:p}=f.data;if(!p||!d){a("/login");return}await rn.from("cart-items").insert({item:d.id,name:e.name,price:d.price,profile:p.id}),o({title:"Added to cart",description:`Added ${e.name} to cart successfully.`})}return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"bebas-neue-regular mx-auto w-full max-w-md p-4",children:x.jsxs(xM,{children:[x.jsx(wM,{className:"text-center text-5xl",children:e.name}),x.jsx(SM,{className:"text-center text-lg",children:"BY PRISTIALE"})]})}),x.jsxs("div",{className:"bebas-neue-regular disable-scroll mx-auto h-full w-full max-w-md flex-wrap overflow-y-auto",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 p-4 pb-0",children:[x.jsx("video",{src:e.preview??"",muted:!0,autoPlay:!0,loop:!0,playsInline:!0,poster:e.thumbnail??"",unselectable:"on",controls:!1,disablePictureInPicture:!0,onPointerDown:d=>d.target.pause(),onPointerUp:d=>d.target.play(),className:"flex-shrink"}),x.jsx("p",{className:"self-start text-3xl",children:e.description}),x.jsx("p",{className:"self-start text-2xl",children:Mn(e.price)}),x.jsxs(W0,{value:n,onValueChange:d=>r(d),children:[x.jsx(Ep,{children:x.jsx(X0,{placeholder:"Size"})}),x.jsx(Tp,{children:i.map(d=>x.jsx(Mp,{value:d.id.toString(),disabled:d.quantity<1,children:x.jsx("p",{className:"bebas-neue-regular",children:d.feature})},d.id))})]})]}),x.jsxs(_M,{children:[x.jsx(ln,{disabled:!n,onClick:c,children:"Add to cart"}),x.jsx(OF,{asChild:!0,children:x.jsx(ln,{variant:"outline",children:"Cancel"})})]})]})]})}function ave(t){const{product:e}=t,[n,r]=w.useState(!1),[i,{language:s}]=hs();return x.jsxs(vM,{shouldScaleBackground:!0,children:[x.jsx(yM,{className:"max-h-full overflow-hidden",children:x.jsx(ove,{product:e})}),x.jsx(IF,{asChild:!0,children:x.jsxs("div",{className:"bebas-neue-regular flex flex-col gap-0 overflow-clip rounded",children:[x.jsx("div",{className:"flex-1",children:x.jsx(zU,{muted:!0,unselectable:"on",focused:n,onHoverStart:()=>r(!0),onHoverEnd:()=>r(!1),videoSrc:e.preview??"",controls:!1,loadingOverlayWrapperClassName:"flex justify-center items-center",loadingOverlay:x.jsx("img",{src:wl,width:200,className:"animate-pulse stroke-white p-12"}),pausedOverlay:x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute right-5 top-5",children:x.jsx("div",{className:"flex items-center justify-center",children:x.jsx(ln,{variant:"ghost",size:"icon",onClick:o=>o.preventDefault(),children:x.jsx(tE,{})})})}),x.jsx("img",{src:e.thumbnail??"",alt:"thumbnail",className:"h-full object-contain"})]}),hoverOverlay:x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute right-5 top-5",children:x.jsx("div",{className:"flex items-center justify-center ",children:x.jsx(ln,{variant:"ghost",size:"icon",onClick:o=>o.preventDefault(),children:x.jsx(tE,{})})})}),x.jsx("div",{className:"absolute bottom-5 w-full slide-in-from-top-3",children:x.jsx("div",{className:"flex items-center justify-center text-3xl shadow-inner",children:x.jsx("p",{className:Ae(s==="en"?"bebas-neue-regular":"alexandria"),children:i("products.clickToPreview")})})})]})})}),x.jsxs("div",{className:"bebas-neue-regular flex w-full flex-1 flex-row justify-end p-4 py-6 text-black ",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-3xl",children:e.name}),x.jsx("p",{className:"text-md",children:e.description})]}),x.jsx("div",{className:" justify-center",children:x.jsx("p",{className:"text-2xl",children:Mn(e.price)})})]})]})})]})}function lve(){const[t,e]=w.useState([]),[n,r]=w.useState(!0);async function i(){r(!0);try{const{data:s,error:o}=await rn.from("products").select();if(o||!s)throw new Error("Failed to fetch products");e(s)}catch(s){console.error(s)}finally{r(!1)}}return w.useEffect(()=>{i()},[]),{products:t,loading:n}}function cve(){const{products:t,loading:e}=lve(),[n]=hs();return x.jsxs("div",{className:"h-screen w-screen overflow-auto overflow-x-hidden bg-white",children:[x.jsx(Zc,{}),x.jsx("div",{className:"flex w-full",children:x.jsxs("div",{className:"bebas-neue-regular flex flex-col px-6  lg:px-32 ",children:[x.jsx("h1",{className:Ae("w-full py-12 text-center text-5xl text-black lg:text-8xl"),children:n("menu.allProducts")}),x.jsx("div",{className:"m-0 grid justify-items-center gap-1 md:grid-cols-3",children:e?ux(6,x.jsx("img",{src:ZM,alt:"thumbnail",className:"w-[512px]  animate-pulse",style:{width:"100%"}})):t.map((r,i)=>x.jsx(ave,{product:r},i))})]})})]})}function bs(){const t=Pj();console.error(t);const e=mi();return x.jsxs("div",{className:"flex h-screen w-screen flex-col text-balance text-center",children:[x.jsxs("div",{className:"helvetica flex flex-1 flex-col items-center justify-center gap-4 text-lg",children:[x.jsx("img",{src:Wd,width:500,className:"p-12"}),x.jsx("p",{children:"An error occured, you can check the developer console for more information."}),x.jsx(ln,{onClick:()=>e("/"),children:"Navigate to home"})]}),x.jsx("p",{className:"p-2 text-sm text-muted-foreground",children:t.message||JSON.stringify(t)})]})}var jS="rovingFocusGroup.onEntryFocus",uve={bubbles:!1,cancelable:!0},Ex="RovingFocusGroup",[EE,HB,dve]=Hy(Ex),[fve,GB]=fo(Ex,[dve]),[hve,pve]=fve(Ex),WB=w.forwardRef((t,e)=>x.jsx(EE.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(EE.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(mve,{...t,ref:e})})}));WB.displayName=Ex;var mve=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=w.useRef(null),g=tn(e,p),_=Gy(s),[y=null,v]=us({prop:o,defaultProp:a,onChange:l}),[m,S]=w.useState(!1),E=pi(c),T=HB(n),C=w.useRef(!1),[P,R]=w.useState(0);return w.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(jS,E),()=>A.removeEventListener(jS,E)},[E]),x.jsx(hve,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(A=>v(A),[v]),onItemShiftTab:w.useCallback(()=>S(!0),[]),onFocusableItemAdd:w.useCallback(()=>R(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>R(A=>A-1),[]),children:x.jsx(At.div,{tabIndex:m||P===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:bt(t.onMouseDown,()=>{C.current=!0}),onFocus:bt(t.onFocus,A=>{const L=!C.current;if(A.target===A.currentTarget&&L&&!m){const N=new CustomEvent(jS,uve);if(A.currentTarget.dispatchEvent(N),!N.defaultPrevented){const I=T().filter(q=>q.focusable),V=I.find(q=>q.active),W=I.find(q=>q.id===y),Q=[V,W,...I].filter(Boolean).map(q=>q.ref.current);qB(Q,d)}}C.current=!1}),onBlur:bt(t.onBlur,()=>S(!1))})})}),XB="RovingFocusGroupItem",KB=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Ho(),l=s||a,c=pve(XB,n),d=c.currentTabStopId===l,f=HB(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return w.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),x.jsx(EE.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:x.jsx(At.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:bt(t.onMouseDown,_=>{r?c.onItemFocus(l):_.preventDefault()}),onFocus:bt(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:bt(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=yve(_,c.orientation,c.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let m=f().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")m.reverse();else if(y==="prev"||y==="next"){y==="prev"&&m.reverse();const S=m.indexOf(_.currentTarget);m=c.loop?xve(m,S+1):m.slice(S+1)}setTimeout(()=>qB(m))}})})})});KB.displayName=XB;var gve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yve(t,e,n){const r=vve(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gve[r]}function qB(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function xve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _ve=WB,wve=KB,Sve="Toggle",wC=w.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=us({prop:n,onChange:i,defaultProp:r});return x.jsx(At.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:bt(t.onClick,()=>{t.disabled||a(!o)})})});wC.displayName=Sve;var YB=wC,Mf="ToggleGroup",[ZB,qSe]=fo(Mf,[GB]),JB=GB(),SC=Ge.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return x.jsx(bve,{...i,ref:e})}if(n==="multiple"){const i=r;return x.jsx(Eve,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Mf}\``)});SC.displayName=Mf;var[QB,ez]=ZB(Mf),bve=Ge.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=us({prop:n,defaultProp:r,onChange:i});return x.jsx(QB,{scope:t.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:a,onItemDeactivate:Ge.useCallback(()=>a(""),[a]),children:x.jsx(tz,{...s,ref:e})})}),Eve=Ge.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=us({prop:n,defaultProp:r,onChange:i}),l=Ge.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=Ge.useCallback(d=>a((f=[])=>f.filter(p=>p!==d)),[a]);return x.jsx(QB,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:x.jsx(tz,{...s,ref:e})})});SC.displayName=Mf;var[Tve,Mve]=ZB(Mf),tz=Ge.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:o,loop:a=!0,...l}=t,c=JB(n),d=Gy(o),f={role:"group",dir:d,...l};return x.jsx(Tve,{scope:n,rovingFocus:i,disabled:r,children:i?x.jsx(_ve,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:x.jsx(At.div,{...f,ref:e})}):x.jsx(At.div,{...f,ref:e})})}),uy="ToggleGroupItem",nz=Ge.forwardRef((t,e)=>{const n=ez(uy,t.__scopeToggleGroup),r=Mve(uy,t.__scopeToggleGroup),i=JB(t.__scopeToggleGroup),s=n.value.includes(t.value),o=r.disabled||t.disabled,a={...t,pressed:s,disabled:o},l=Ge.useRef(null);return r.rovingFocus?x.jsx(wve,{asChild:!0,...i,focusable:!o,active:s,ref:l,children:x.jsx(vI,{...a,ref:e})}):x.jsx(vI,{...a,ref:e})});nz.displayName=uy;var vI=Ge.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,s=ez(uy,n),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return x.jsx(wC,{...a,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),rz=SC,iz=nz;const sz=im("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),Cve=w.forwardRef(({className:t,variant:e,size:n,...r},i)=>x.jsx(YB,{ref:i,className:Ae(sz({variant:e,size:n,className:t})),...r}));Cve.displayName=YB.displayName;const oz=w.createContext({size:"default",variant:"default"}),az=w.forwardRef(({className:t,variant:e,size:n,children:r,...i},s)=>x.jsx(rz,{ref:s,className:Ae("flex items-center justify-center gap-1",t),...i,children:x.jsx(oz.Provider,{value:{variant:e,size:n},children:r})}));az.displayName=rz.displayName;const lz=w.forwardRef(({className:t,children:e,variant:n,size:r,...i},s)=>{const o=w.useContext(oz);return x.jsx(iz,{ref:s,className:Ae(sz({variant:o.variant||n,size:o.size||r}),t),...i,children:e})});lz.displayName=iz.displayName;const bC=w.forwardRef(({...t},e)=>x.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));bC.displayName="Breadcrumb";const EC=w.forwardRef(({className:t,...e},n)=>x.jsx("ol",{ref:n,className:Ae("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));EC.displayName="BreadcrumbList";const Fd=w.forwardRef(({className:t,...e},n)=>x.jsx("li",{ref:n,className:Ae("inline-flex items-center gap-1.5",t),...e}));Fd.displayName="BreadcrumbItem";const Xp=w.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?pl:"a";return x.jsx(i,{ref:r,className:Ae("transition-colors hover:text-foreground",e),...n})});Xp.displayName="BreadcrumbLink";const cz=w.forwardRef(({className:t,...e},n)=>x.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:Ae("font-normal text-foreground",t),...e}));cz.displayName="BreadcrumbPage";const dy=({children:t,className:e,...n})=>x.jsx("li",{role:"presentation","aria-hidden":"true",className:Ae("[&>svg]:size-3.5",e),...n,children:t??x.jsx(vse,{})});dy.displayName="BreadcrumbSeparator";function Ave(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=f=>{var m;const{scope:p,children:g,..._}=f,y=((m=p==null?void 0:p[t])==null?void 0:m[l])||a,v=w.useMemo(()=>_,Object.values(_));return x.jsx(y.Provider,{value:v,children:g})};c.displayName=s+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Rve(i,...e)]}function Rve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pve(t,e=[]){let n=[];function r(s,o){const a=w.createContext(o),l=n.length;n=[...n,o];const c=f=>{var m;const{scope:p,children:g,..._}=f,y=((m=p==null?void 0:p[t])==null?void 0:m[l])||a,v=w.useMemo(()=>_,Object.values(_));return x.jsx(y.Provider,{value:v,children:g})};c.displayName=s+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,_=w.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Nve(i,...e)]}function Nve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Lve(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var uz=t=>{const{present:e,children:n}=t,r=Dve(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=tn(r.ref,Ive(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};uz.displayName="Presence";function Dve(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Lve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Ev(r.current);s.current=a==="mounted"?c:"none"},[a]),lr(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,g=Ev(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),lr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Ev(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=g=>{g.target===e&&(s.current=Ev(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ev(t){return(t==null?void 0:t.animationName)||"none"}function Ive(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var TC="Collapsible",[Ove,dz]=Pve(TC),[kve,MC]=Ove(TC),fz=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=us({prop:r,defaultProp:i,onChange:o});return x.jsx(kve,{scope:n,disabled:s,contentId:Ho(),open:l,onOpenToggle:w.useCallback(()=>c(d=>!d),[c]),children:x.jsx(At.div,{"data-state":AC(l),"data-disabled":s?"":void 0,...a,ref:e})})});fz.displayName=TC;var hz="CollapsibleTrigger",pz=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=MC(hz,n);return x.jsx(At.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":AC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:bt(t.onClick,i.onOpenToggle)})});pz.displayName=hz;var CC="CollapsibleContent",mz=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=MC(CC,t.__scopeCollapsible);return x.jsx(uz,{present:n||i.open,children:({present:s})=>x.jsx(Uve,{...r,ref:e,present:s})})});mz.displayName=CC;var Uve=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=MC(CC,n),[a,l]=w.useState(r),c=w.useRef(null),d=tn(e,c),f=w.useRef(0),p=f.current,g=w.useRef(0),_=g.current,y=o.open||a,v=w.useRef(y),m=w.useRef();return w.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),lr(()=>{const S=c.current;if(S){m.current=m.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const E=S.getBoundingClientRect();f.current=E.height,g.current=E.width,v.current||(S.style.transitionDuration=m.current.transitionDuration,S.style.animationName=m.current.animationName),l(r)}},[o.open,r]),x.jsx(At.div,{"data-state":AC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:y&&i})});function AC(t){return t?"open":"closed"}var Fve=fz,jve=pz,Bve=mz,aa="Accordion",zve=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[RC,Vve,$ve]=Hy(aa),[Tx,YSe]=Ave(aa,[$ve,dz]),PC=dz(),gz=Ge.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return x.jsx(RC.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?x.jsx(Xve,{...s,ref:e}):x.jsx(Wve,{...i,ref:e})})});gz.displayName=aa;var[vz,Hve]=Tx(aa),[yz,Gve]=Tx(aa,{collapsible:!1}),Wve=Ge.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=us({prop:n,defaultProp:r,onChange:i});return x.jsx(vz,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:Ge.useCallback(()=>s&&l(""),[s,l]),children:x.jsx(yz,{scope:t.__scopeAccordion,collapsible:s,children:x.jsx(xz,{...o,ref:e})})})}),Xve=Ge.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=us({prop:n,defaultProp:r,onChange:i}),l=Ge.useCallback(d=>a((f=[])=>[...f,d]),[a]),c=Ge.useCallback(d=>a((f=[])=>f.filter(p=>p!==d)),[a]);return x.jsx(vz,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:x.jsx(yz,{scope:t.__scopeAccordion,collapsible:!0,children:x.jsx(xz,{...s,ref:e})})})}),[Kve,Mx]=Tx(aa),xz=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=Ge.useRef(null),l=tn(a,e),c=Vve(n),f=Gy(i)==="ltr",p=bt(t.onKeyDown,g=>{var A;if(!zve.includes(g.key))return;const _=g.target,y=c().filter(L=>{var N;return!((N=L.ref.current)!=null&&N.disabled)}),v=y.findIndex(L=>L.ref.current===_),m=y.length;if(v===-1)return;g.preventDefault();let S=v;const E=0,T=m-1,C=()=>{S=v+1,S>T&&(S=E)},P=()=>{S=v-1,S<E&&(S=T)};switch(g.key){case"Home":S=E;break;case"End":S=T;break;case"ArrowRight":s==="horizontal"&&(f?C():P());break;case"ArrowDown":s==="vertical"&&C();break;case"ArrowLeft":s==="horizontal"&&(f?P():C());break;case"ArrowUp":s==="vertical"&&P();break}const R=S%m;(A=y[R].ref.current)==null||A.focus()});return x.jsx(Kve,{scope:n,disabled:r,direction:i,orientation:s,children:x.jsx(RC.Slot,{scope:n,children:x.jsx(At.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:p})})})}),fy="AccordionItem",[qve,NC]=Tx(fy),_z=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=Mx(fy,n),o=Hve(fy,n),a=PC(n),l=Ho(),c=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return x.jsx(qve,{scope:n,open:c,disabled:d,triggerId:l,children:x.jsx(Fve,{"data-orientation":s.orientation,"data-state":Mz(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});_z.displayName=fy;var wz="AccordionHeader",Sz=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Mx(aa,n),s=NC(wz,n);return x.jsx(At.h3,{"data-orientation":i.orientation,"data-state":Mz(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Sz.displayName=wz;var TE="AccordionTrigger",bz=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Mx(aa,n),s=NC(TE,n),o=Gve(TE,n),a=PC(n);return x.jsx(RC.ItemSlot,{scope:n,children:x.jsx(jve,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});bz.displayName=TE;var Ez="AccordionContent",Tz=Ge.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=Mx(aa,n),s=NC(Ez,n),o=PC(n);return x.jsx(Bve,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Tz.displayName=Ez;function Mz(t){return t?"open":"closed"}var Yve=gz,Zve=_z,Jve=Sz,Cz=bz,Az=Tz;const Qve=Yve,t0=w.forwardRef(({className:t,...e},n)=>x.jsx(Zve,{ref:n,className:Ae("border-b",t),...e}));t0.displayName="AccordionItem";const n0=w.forwardRef(({className:t,children:e,...n},r)=>x.jsx(Jve,{className:"flex",children:x.jsxs(Cz,{ref:r,className:Ae("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,x.jsx(FF,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));n0.displayName=Cz.displayName;const r0=w.forwardRef(({className:t,children:e,...n},r)=>x.jsx(Az,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:x.jsx("div",{className:Ae("pb-4 pt-0",t),children:e})}));r0.displayName=Az.displayName;function e0e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Kp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ME=t=>Array.isArray(t);function Rz(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qp(t){return typeof t=="string"||Array.isArray(t)}function yI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function LC(t,e,n,r){if(typeof e=="function"){const[i,s]=yI(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=yI(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Cx(t,e,n){const r=t.getProps();return LC(r,e,n!==void 0?n:r.custom,t)}const DC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IC=["initial",...DC],Am=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Am),Xo=t=>t*1e3,Ko=t=>t/1e3,t0e={type:"spring",stiffness:500,damping:25,restSpeed:10},n0e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),r0e={type:"keyframes",duration:.8},i0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s0e=(t,{keyframes:e})=>e.length>2?r0e:Il.has(t)?t.startsWith("scale")?n0e(e[1]):t0e:i0e;function OC(t,e){return t?t[e]||t.default||t:void 0}const o0e={skipAnimations:!1,useManualTiming:!1},a0e=t=>t!==null;function Ax(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(a0e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Or=t=>t;function l0e(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,f=!1)=>{const g=f&&r?e:n;return d&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const Tv=["read","resolveKeyframes","update","preRender","render","postRender"],c0e=40;function Pz(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Tv.reduce((m,S)=>(m[S]=l0e(s),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:p}=o,g=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,c0e),1),i.timestamp=m,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},_=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:Tv.reduce((m,S)=>{const E=o[S];return m[S]=(T,C=!1,P=!1)=>(n||_(),E.schedule(T,C,P)),m},{}),cancel:m=>{for(let S=0;S<Tv.length;S++)o[Tv[S]].cancel(m)},state:i,steps:o}}const{schedule:mn,cancel:Sl,state:vr,steps:BS}=Pz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0),Nz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,u0e=1e-7,d0e=12;function f0e(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Nz(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>u0e&&++a<d0e);return o}function Rm(t,e,n,r){if(t===e&&n===r)return Or;const i=s=>f0e(s,0,1,t,n);return s=>s===0||s===1?s:Nz(i(s),e,r)}const Lz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Dz=t=>e=>1-t(1-e),Iz=Rm(.33,1.53,.69,.99),kC=Dz(Iz),Oz=Lz(kC),kz=t=>(t*=2)<1?.5*kC(t):.5*(2-Math.pow(2,-10*(t-1))),UC=t=>1-Math.sin(Math.acos(t)),Uz=Dz(UC),Fz=Lz(UC),jz=t=>/^0[^.\s]+$/u.test(t);function h0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jz(t):!0}let CE=Or;const Bz=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),zz=t=>e=>typeof e=="string"&&e.startsWith(t),Vz=zz("--"),p0e=zz("var(--"),FC=t=>p0e(t)?m0e.test(t.split("/*")[0].trim()):!1,m0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,g0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v0e(t){const e=g0e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function $z(t,e,n=1){const[r,i]=v0e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Bz(o)?parseFloat(o):o}return FC(i)?$z(i,e,n+1):i}const bl=(t,e,n)=>n>e?e:n<t?t:n,Cf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yp={...Cf,transform:t=>bl(0,1,t)},Mv={...Cf,default:1},Pm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oa=Pm("deg"),oo=Pm("%"),Mt=Pm("px"),y0e=Pm("vh"),x0e=Pm("vw"),xI={...oo,parse:t=>oo.parse(t)/100,transform:t=>oo.transform(t*100)},_0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_I=t=>t===Cf||t===Mt,wI=(t,e)=>parseFloat(t.split(", ")[e]),SI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return wI(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?wI(s[1],t):0}},w0e=new Set(["x","y","z"]),S0e=Am.filter(t=>!w0e.has(t));function b0e(t){const e=[];return S0e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const of={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:SI(4,13),y:SI(5,14)};of.translateX=of.x;of.translateY=of.y;const Hz=t=>e=>e.test(t),E0e={test:t=>t==="auto",parse:t=>t},Gz=[Cf,Mt,oo,Oa,x0e,y0e,E0e],bI=t=>Gz.find(Hz(t)),Ec=new Set;let AE=!1,RE=!1;function Wz(){if(RE){const t=Array.from(Ec).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=b0e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RE=!1,AE=!1,Ec.forEach(t=>t.complete()),Ec.clear()}function Xz(){Ec.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(RE=!0)})}function T0e(){Xz(),Wz()}class jC{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ec.add(this),AE||(AE=!0,mn.read(Xz),mn.resolveKeyframes(Wz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ec.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ec.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ep=t=>Math.round(t*1e5)/1e5,BC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M0e(t){return t==null}const C0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zC=(t,e)=>n=>!!(typeof n=="string"&&C0e.test(n)&&n.startsWith(t)||e&&!M0e(n)&&Object.prototype.hasOwnProperty.call(n,e)),Kz=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(BC);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},A0e=t=>bl(0,255,t),zS={...Cf,transform:t=>Math.round(A0e(t))},xc={test:zC("rgb","red"),parse:Kz("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zS.transform(t)+", "+zS.transform(e)+", "+zS.transform(n)+", "+ep(Yp.transform(r))+")"};function R0e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const PE={test:zC("#"),parse:R0e,transform:xc.transform},hd={test:zC("hsl","hue"),parse:Kz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+oo.transform(ep(e))+", "+oo.transform(ep(n))+", "+ep(Yp.transform(r))+")"},Pr={test:t=>xc.test(t)||PE.test(t)||hd.test(t),parse:t=>xc.test(t)?xc.parse(t):hd.test(t)?hd.parse(t):PE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xc.transform(t):hd.transform(t)},P0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N0e(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(BC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(P0e))===null||n===void 0?void 0:n.length)||0)>0}const qz="number",Yz="color",L0e="var",D0e="var(",EI="${}",I0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(I0e,l=>(Pr.test(l)?(r.color.push(s),i.push(Yz),n.push(Pr.parse(l))):l.startsWith(D0e)?(r.var.push(s),i.push(L0e),n.push(l)):(r.number.push(s),i.push(qz),n.push(parseFloat(l))),++s,EI)).split(EI);return{values:n,split:a,indexes:r,types:i}}function Zz(t){return Zp(t).values}function Jz(t){const{split:e,types:n}=Zp(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===qz?s+=ep(i[o]):a===Yz?s+=Pr.transform(i[o]):s+=i[o]}return s}}const O0e=t=>typeof t=="number"?0:t;function k0e(t){const e=Zz(t);return Jz(t)(e.map(O0e))}const El={test:N0e,parse:Zz,createTransformer:Jz,getAnimatableNone:k0e},U0e=new Set(["brightness","contrast","saturate","opacity"]);function F0e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(BC)||[];if(!r)return t;const i=n.replace(r,"");let s=U0e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const j0e=/\b([a-z-]*)\(.*?\)/gu,NE={...El,getAnimatableNone:t=>{const e=t.match(j0e);return e?e.map(F0e).join(" "):t}},B0e={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,backgroundPositionX:Mt,backgroundPositionY:Mt},z0e={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Mv,scaleX:Mv,scaleY:Mv,scaleZ:Mv,skew:Oa,skewX:Oa,skewY:Oa,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Yp,originX:xI,originY:xI,originZ:Mt},TI={...Cf,transform:Math.round},VC={...B0e,...z0e,zIndex:TI,size:Mt,fillOpacity:Yp,strokeOpacity:Yp,numOctaves:TI},V0e={...VC,color:Pr,backgroundColor:Pr,outlineColor:Pr,fill:Pr,stroke:Pr,borderColor:Pr,borderTopColor:Pr,borderRightColor:Pr,borderBottomColor:Pr,borderLeftColor:Pr,filter:NE,WebkitFilter:NE},$C=t=>V0e[t];function Qz(t,e){let n=$C(t);return n!==NE&&(n=El),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $0e=new Set(["auto","none","0"]);function H0e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!$0e.has(s)&&Zp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Qz(n,i)}class eV extends jC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),FC(c))){const d=$z(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_0e.has(r)||e.length!==2)return;const[i,s]=e,o=bI(i),a=bI(s);if(o!==a)if(_I(o)&&_I(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)h0e(e[i])&&r.push(i);r.length&&H0e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=of[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=of[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function HC(t){return typeof t=="function"}let i0;function G0e(){i0=void 0}const ao={now:()=>(i0===void 0&&ao.set(vr.isProcessing||o0e.useManualTiming?vr.timestamp:performance.now()),i0),set:t=>{i0=t,queueMicrotask(G0e)}},MI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(El.test(t)||t==="0")&&!t.startsWith("url("));function W0e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function X0e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=MI(i,e),a=MI(s,e);return!o||!a?!1:W0e(t)||(n==="spring"||HC(n))&&r}const K0e=40;class tV{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ao.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>K0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&T0e(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ao.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!X0e(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Ax(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function nV(t,e){return e?t*(1e3/e):0}const q0e=5;function rV(t,e,n){const r=Math.max(e-q0e,0);return nV(n-t(r),e-r)}const VS=.001,Y0e=.01,Z0e=10,J0e=.05,Q0e=1;function eye({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=bl(J0e,Q0e,o),t=bl(Y0e,Z0e,Ko(t)),o<1?(i=c=>{const d=c*o,f=d*t,p=d-n,g=LE(c,o),_=Math.exp(-f);return VS-p/g*_},s=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-f),y=LE(Math.pow(c,2),o);return(-i(c)+VS>0?-1:1)*((p-g)*_)/y}):(i=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-VS+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=nye(i,s,a);if(t=Xo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const tye=12;function nye(t,e,n){let r=n;for(let i=1;i<tye;i++)r=r-t(r)/e(r);return r}function LE(t,e){return t*Math.sqrt(1-e*e)}const rye=["duration","bounce"],iye=["stiffness","damping","mass"];function CI(t,e){return e.some(n=>t[n]!==void 0)}function sye(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!CI(t,iye)&&CI(t,rye)){const n=eye(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function iV({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=sye({...r,velocity:-Ko(r.velocity||0)}),g=f||0,_=l/(2*Math.sqrt(a*c)),y=s-i,v=Ko(Math.sqrt(a/c)),m=Math.abs(y)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let S;if(_<1){const E=LE(v,_);S=T=>{const C=Math.exp(-_*v*T);return s-C*((g+_*v*y)/E*Math.sin(E*T)+y*Math.cos(E*T))}}else if(_===1)S=E=>s-Math.exp(-v*E)*(y+(g+v*y)*E);else{const E=v*Math.sqrt(_*_-1);S=T=>{const C=Math.exp(-_*v*T),P=Math.min(E*T,300);return s-C*((g+_*v*y)*Math.sinh(P)+E*y*Math.cosh(P))/E}}return{calculatedDuration:p&&d||null,next:E=>{const T=S(E);if(p)o.done=E>=d;else{let C=0;_<1&&(C=E===0?Xo(g):rV(S,E,T));const P=Math.abs(C)<=n,R=Math.abs(s-T)<=e;o.done=P&&R}return o.value=o.done?s:T,o}}}function AI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=A=>a!==void 0&&A<a||l!==void 0&&A>l,_=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let y=n*e;const v=f+y,m=o===void 0?v:o(v);m!==v&&(y=m-f);const S=A=>-y*Math.exp(-A/r),E=A=>m+S(A),T=A=>{const L=S(A),N=E(A);p.done=Math.abs(L)<=c,p.value=p.done?m:N};let C,P;const R=A=>{g(p.value)&&(C=A,P=iV({keyframes:[p.value,_(p.value)],velocity:rV(E,A,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return R(0),{calculatedDuration:null,next:A=>{let L=!1;return!P&&C===void 0&&(L=!0,T(A),R(A)),C!==void 0&&A>=C?P.next(A-C):(!L&&T(A),p)}}}const oye=Rm(.42,0,1,1),aye=Rm(0,0,.58,1),sV=Rm(.42,0,.58,1),lye=t=>Array.isArray(t)&&typeof t[0]!="number",GC=t=>Array.isArray(t)&&typeof t[0]=="number",RI={linear:Or,easeIn:oye,easeInOut:sV,easeOut:aye,circIn:UC,circInOut:Fz,circOut:Uz,backIn:kC,backInOut:Oz,backOut:Iz,anticipate:kz},PI=t=>{if(GC(t)){CE(t.length===4);const[e,n,r,i]=t;return Rm(e,n,r,i)}else if(typeof t=="string")return CE(RI[t]!==void 0),RI[t];return t},cye=(t,e)=>n=>e(t(n)),qo=(...t)=>t.reduce(cye),af=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},On=(t,e,n)=>t+(e-t)*n;function $S(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uye({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=$S(l,a,t+1/3),s=$S(l,a,t),o=$S(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function hy(t,e){return n=>n>0?e:t}const HS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},dye=[PE,xc,hd],fye=t=>dye.find(e=>e.test(t));function NI(t){const e=fye(t);if(!e)return!1;let n=e.parse(t);return e===hd&&(n=uye(n)),n}const LI=(t,e)=>{const n=NI(t),r=NI(e);if(!n||!r)return hy(t,e);const i={...n};return s=>(i.red=HS(n.red,r.red,s),i.green=HS(n.green,r.green,s),i.blue=HS(n.blue,r.blue,s),i.alpha=On(n.alpha,r.alpha,s),xc.transform(i))},DE=new Set(["none","hidden"]);function hye(t,e){return DE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pye(t,e){return n=>On(t,e,n)}function WC(t){return typeof t=="number"?pye:typeof t=="string"?FC(t)?hy:Pr.test(t)?LI:vye:Array.isArray(t)?oV:typeof t=="object"?Pr.test(t)?LI:mye:hy}function oV(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>WC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function mye(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=WC(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function gye(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const vye=(t,e)=>{const n=El.createTransformer(e),r=Zp(t),i=Zp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?DE.has(t)&&!i.values.length||DE.has(e)&&!r.values.length?hye(t,e):qo(oV(gye(r,i),i.values),n):hy(t,e)};function aV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?On(t,e,n):WC(t)(t,e)}function yye(t,e,n){const r=[],i=n||aV,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Or:e;a=qo(l,a)}r.push(a)}return r}function xye(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(CE(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yye(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=af(t[d],t[d+1],c);return o[d](f)};return n?c=>l(bl(t[0],t[s-1],c)):l}function _ye(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=af(0,e,r);t.push(On(n,1,i))}}function wye(t){const e=[0];return _ye(e,t.length-1),e}function Sye(t,e){return t.map(n=>n*e)}function bye(t,e){return t.map(()=>e||sV).splice(0,t.length-1)}function py({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lye(r)?r.map(PI):PI(r),s={done:!1,value:e[0]},o=Sye(n&&n.length===e.length?n:wye(e),t),a=xye(o,e,{ease:Array.isArray(i)?i:bye(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const DI=2e4;function Eye(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<DI;)e+=n,r=t.next(e);return e>=DI?1/0:e}const Tye=t=>{const e=({timestamp:n})=>t(n);return{start:()=>mn.update(e,!0),stop:()=>Sl(e),now:()=>vr.isProcessing?vr.timestamp:ao.now()}},Mye={decay:AI,inertia:AI,tween:py,keyframes:py,spring:iV},Cye=t=>t/100;class XC extends tV{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||jC,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=HC(n)?n:Mye[n]||py;let l,c;a!==py&&typeof e[0]!="number"&&(l=qo(Cye,aV(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Eye(d));const{calculatedDuration:f}=d,p=f+i,g=p*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:_,repeatDelay:y,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,T=s;if(g){const A=Math.min(this.currentTime,d)/f;let L=Math.floor(A),N=A%1;!N&&A>=1&&(N=1),N===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(_==="reverse"?(N=1-N,y&&(N-=y/f)):_==="mirror"&&(T=o)),E=bl(0,1,N)*f}const C=S?{done:!1,value:l[0]}:T.next(E);a&&(C.value=a(C.value));let{done:P}=C;!S&&c!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return R&&i!==void 0&&(C.value=Ax(l,this.options,i)),v&&v(C.value),R&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Ko(e.calculatedDuration):0}get time(){return Ko(this.currentTime)}set time(e){e=Xo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ko(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Tye,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const lV=new Set(["opacity","clipPath","filter","transform"]),Aye=10,Rye=(t,e)=>{let n="";const r=Math.max(Math.round(e/Aye),2);for(let i=0;i<r;i++)n+=t(af(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function KC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pye={linearEasing:void 0};function Nye(t,e){const n=KC(t);return()=>{var r;return(r=Pye[e])!==null&&r!==void 0?r:n()}}const my=Nye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function cV(t){return!!(typeof t=="function"&&my()||!t||typeof t=="string"&&(t in IE||my())||GC(t)||Array.isArray(t)&&t.every(cV))}const Rh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,IE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rh([0,.65,.55,1]),circOut:Rh([.55,0,1,.45]),backIn:Rh([.31,.01,.66,-.59]),backOut:Rh([.33,1.53,.69,.99])};function uV(t,e){if(t)return typeof t=="function"&&my()?Rye(t,e):GC(t)?Rh(t):Array.isArray(t)?t.map(n=>uV(n,e)||IE.easeOut):IE[t]}function Lye(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=uV(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function II(t,e){t.timeline=e,t.onfinish=null}const Dye=KC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gy=10,Iye=2e4;function Oye(t){return HC(t.type)||t.type==="spring"||!cV(t.ease)}function kye(t,e){const n=new XC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Iye;)r=n.sample(s),i.push(r.value),s+=gy;return{times:void 0,keyframes:i,duration:s-gy,ease:"linear"}}const dV={anticipate:kz,backInOut:Oz,circInOut:Fz};function Uye(t){return t in dV}class OI extends tV{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new eV(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&my()&&Uye(o)&&(o=dV[o]),Oye(this.options)){const{onComplete:p,onUpdate:g,motionValue:_,element:y,...v}=this.options,m=kye(e,v);e=m.keyframes,e.length===1&&(e[1]=e[0]),i=m.duration,s=m.times,o=m.ease,a="keyframes"}const f=Lye(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(II(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Ax(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ko(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ko(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Xo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Or;const{animation:r}=n;II(r,e)}return Or}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:p,...g}=this.options,_=new XC({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),y=Xo(this.time);c.setWithVelocity(_.sample(y-gy).value,_.sample(y).value,gy)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return Dye()&&r&&lV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Fye=KC(()=>window.ScrollTimeline!==void 0);class jye{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>Fye()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Bye({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const qC=(t,e,n,r={},i,s)=>o=>{const a=OC(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Xo(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Bye(a)||(d={...d,...s0e(t,d)}),d.duration&&(d.duration=Xo(d.duration)),d.repeatDelay&&(d.repeatDelay=Xo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=Ax(d.keyframes,a);if(p!==void 0)return mn.update(()=>{d.onUpdate(p),d.onComplete()}),new jye([])}return!s&&OI.supports(d)?new OI(d):new XC(d)},zye=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Vye=t=>ME(t)?t[t.length-1]||0:t;function YC(t,e){t.indexOf(e)===-1&&t.push(e)}function ZC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class JC{constructor(){this.subscriptions=[]}add(e){return YC(this.subscriptions,e),()=>ZC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kI=30,$ye=t=>!isNaN(parseFloat(t));class Hye{constructor(e,n={}){this.version="11.11.9",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ao.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ao.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$ye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new JC);const r=this.events[e].add(n);return e==="change"?()=>{r(),mn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kI);return nV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jp(t,e){return new Hye(t,e)}function Gye(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jp(n))}function Wye(t,e){const n=Cx(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Vye(s[o]);Gye(t,o,a)}}const Rx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xye="framerAppearId",fV="data-"+Rx(Xye);function hV(t){return t.props[fV]}const Ir=t=>!!(t&&t.getVelocity);function Kye(t){return!!(Ir(t)&&t.add)}function OE(t,e){if(!t.applyWillChange)return;const n=t.getValue("willChange");if(Kye(n))return n.add(e)}function qye({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),g=l[f];if(g===void 0||d&&qye(d,f))continue;const _={delay:n,...OC(o||{},f)};let y=!1;if(window.MotionHandoffAnimation){const m=hV(t);if(m){const S=window.MotionHandoffAnimation(m,f,mn);S!==null&&(_.startTime=S,y=!0)}}OE(t,f),p.start(qC(f,p,g,t.shouldReduceMotion&&Il.has(f)?{type:!1}:_,t,y));const v=p.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{mn.update(()=>{a&&Wye(t,a)})}),c}function kE(t,e,n={}){var r;const i=Cx(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(pV(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return Yye(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Yye(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Zye).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(kE(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Zye(t,e){return t.sortNodePosition(e)}function Jye(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>kE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=kE(t,e,n);else{const i=typeof e=="function"?Cx(t,e,n.custom):e;r=Promise.all(pV(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Qye=IC.length;function mV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Qye;n++){const r=IC[n],i=t.props[r];(qp(i)||i===!1)&&(e[r]=i)}return e}const exe=[...DC].reverse(),txe=DC.length;function nxe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jye(t,n,r)))}function rxe(t){let e=nxe(t),n=UI(),r=!0;const i=l=>(c,d)=>{var f;const p=Cx(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:g,transitionEnd:_,...y}=p;c={...c,...y,..._}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=mV(t.parent)||{},f=[],p=new Set;let g={},_=1/0;for(let v=0;v<txe;v++){const m=exe[v],S=n[m],E=c[m]!==void 0?c[m]:d[m],T=qp(E),C=m===l?S.isActive:null;C===!1&&(_=v);let P=E===d[m]&&E!==c[m]&&T;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),S.protectedKeys={...g},!S.isActive&&C===null||!E&&!S.prevProp||Kp(E)||typeof E=="boolean")continue;const R=ixe(S.prevProp,E);let A=R||m===l&&S.isActive&&!P&&T||v>_&&T,L=!1;const N=Array.isArray(E)?E:[E];let I=N.reduce(i(m),{});C===!1&&(I={});const{prevResolvedValues:V={}}=S,W={...V,...I},z=se=>{A=!0,p.has(se)&&(L=!0,p.delete(se)),S.needsAnimating[se]=!0;const B=t.getValue(se);B&&(B.liveStyle=!1)};for(const se in W){const B=I[se],J=V[se];if(g.hasOwnProperty(se))continue;let ue=!1;ME(B)&&ME(J)?ue=!Rz(B,J):ue=B!==J,ue?B!=null?z(se):p.add(se):B!==void 0&&p.has(se)?z(se):S.protectedKeys[se]=!0}S.prevProp=E,S.prevResolvedValues=I,S.isActive&&(g={...g,...I}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(P&&R)||L)&&f.push(...N.map(se=>({animation:se,options:{type:m}})))}if(p.size){const v={};p.forEach(m=>{const S=t.getBaseTarget(m),E=t.getValue(m);E&&(E.liveStyle=!0),v[m]=S??null}),f.push({animation:v})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=UI(),r=!0}}}function ixe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rz(e,t):!1}function Ql(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UI(){return{animate:Ql(!0),whileInView:Ql(),whileHover:Ql(),whileTap:Ql(),whileDrag:Ql(),whileFocus:Ql(),exit:Ql()}}class Ol{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sxe extends Ol{constructor(e){super(e),e.animationState||(e.animationState=rxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oxe=0;class axe extends Ol{constructor(){super(...arguments),this.id=oxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lxe={animation:{Feature:sxe},exit:{Feature:axe}},gV=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Px(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const cxe=t=>e=>gV(e)&&t(e,Px(e));function Vo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yo(t,e,n,r){return Vo(t,e,cxe(n),r)}const FI=(t,e)=>Math.abs(t-e);function uxe(t,e){const n=FI(t.x,e.x),r=FI(t.y,e.y);return Math.sqrt(n**2+r**2)}class vV{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=WS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=uxe(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:_}=f,{timestamp:y}=vr;this.history.push({..._,timestamp:y});const{onStart:v,onMove:m}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=GS(p,this.transformPagePoint),mn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=WS(f.type==="pointercancel"?this.lastMoveEventInfo:GS(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),_&&_(f,v)},!gV(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Px(e),a=GS(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=vr;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,WS(a,this.history)),this.removeListeners=qo(Yo(this.contextWindow,"pointermove",this.handlePointerMove),Yo(this.contextWindow,"pointerup",this.handlePointerUp),Yo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sl(this.updatePoint)}}function GS(t,e){return e?{point:e(t.point)}:t}function jI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function WS({point:t},e){return{point:t,delta:jI(t,yV(e)),offset:jI(t,dxe(e)),velocity:fxe(e,.1)}}function dxe(t){return t[0]}function yV(t){return t[t.length-1]}function fxe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=yV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xo(e)));)n--;if(!r)return{x:0,y:0};const s=Ko(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xV(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const BI=xV("dragHorizontal"),zI=xV("dragVertical");function _V(t){let e=!1;if(t==="y")e=zI();else if(t==="x")e=BI();else{const n=BI(),r=zI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function wV(){const t=_V(!0);return t?(t(),!1):!0}function pd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const SV=1e-4,hxe=1-SV,pxe=1+SV,bV=.01,mxe=0-bV,gxe=0+bV;function ji(t){return t.max-t.min}function vxe(t,e,n){return Math.abs(t-e)<=n}function VI(t,e,n,r=.5){t.origin=r,t.originPoint=On(e.min,e.max,t.origin),t.scale=ji(n)/ji(e),t.translate=On(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hxe&&t.scale<=pxe||isNaN(t.scale))&&(t.scale=1),(t.translate>=mxe&&t.translate<=gxe||isNaN(t.translate))&&(t.translate=0)}function tp(t,e,n,r){VI(t.x,e.x,n.x,r?r.originX:void 0),VI(t.y,e.y,n.y,r?r.originY:void 0)}function $I(t,e,n){t.min=n.min+e.min,t.max=t.min+ji(e)}function yxe(t,e,n){$I(t.x,e.x,n.x),$I(t.y,e.y,n.y)}function HI(t,e,n){t.min=e.min-n.min,t.max=t.min+ji(e)}function np(t,e,n){HI(t.x,e.x,n.x),HI(t.y,e.y,n.y)}function xxe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?On(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?On(n,t,r.max):Math.min(t,n)),t}function GI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _xe(t,{top:e,left:n,bottom:r,right:i}){return{x:GI(t.x,n,i),y:GI(t.y,e,r)}}function WI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wxe(t,e){return{x:WI(t.x,e.x),y:WI(t.y,e.y)}}function Sxe(t,e){let n=.5;const r=ji(t),i=ji(e);return i>r?n=af(e.min,e.max-r,t.min):r>i&&(n=af(t.min,t.max-i,e.min)),bl(0,1,n)}function bxe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const UE=.35;function Exe(t=UE){return t===!1?t=0:t===!0&&(t=UE),{x:XI(t,"left","right"),y:XI(t,"top","bottom")}}function XI(t,e,n){return{min:KI(t,e),max:KI(t,n)}}function KI(t,e){return typeof t=="number"?t:t[e]||0}const qI=()=>({translate:0,scale:1,origin:0,originPoint:0}),md=()=>({x:qI(),y:qI()}),YI=()=>({min:0,max:0}),Hn=()=>({x:YI(),y:YI()});function Ji(t){return[t("x"),t("y")]}function EV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Txe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mxe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function XS(t){return t===void 0||t===1}function FE({scale:t,scaleX:e,scaleY:n}){return!XS(t)||!XS(e)||!XS(n)}function sc(t){return FE(t)||TV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TV(t){return ZI(t.x)||ZI(t.y)}function ZI(t){return t&&t!=="0%"}function vy(t,e,n){const r=t-n,i=e*r;return n+i}function JI(t,e,n,r,i){return i!==void 0&&(t=vy(t,i,r)),vy(t,n,r)+e}function jE(t,e=0,n=1,r,i){t.min=JI(t.min,e,n,r,i),t.max=JI(t.max,e,n,r,i)}function MV(t,{x:e,y:n}){jE(t.x,e.translate,e.scale,e.originPoint),jE(t.y,n.translate,n.scale,n.originPoint)}const QI=.999999999999,eO=1.0000000000001;function Cxe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,MV(t,o)),r&&sc(s.latestValues)&&vd(t,s.latestValues))}e.x<eO&&e.x>QI&&(e.x=1),e.y<eO&&e.y>QI&&(e.y=1)}function gd(t,e){t.min=t.min+e,t.max=t.max+e}function tO(t,e,n,r,i=.5){const s=On(t.min,t.max,i);jE(t,e,n,s,r)}function vd(t,e){tO(t.x,e.x,e.scaleX,e.scale,e.originX),tO(t.y,e.y,e.scaleY,e.scale,e.originY)}function CV(t,e){return EV(Mxe(t.getBoundingClientRect(),e))}function Axe(t,e,n){const r=CV(t,n),{scroll:i}=e;return i&&(gd(r.x,i.offset.x),gd(r.y,i.offset.y)),r}const AV=({current:t})=>t?t.ownerDocument.defaultView:null,Rxe=new WeakMap;class Pxe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Px(d,"page").point)},s=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:_}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_V(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(v=>{let m=this.getAxisMotionValue(v).get()||0;if(oo.test(m)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[v];E&&(m=ji(E)*(parseFloat(m)/100))}}this.originPoint[v]=m}),_&&mn.postRender(()=>_(d,f)),OE(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:_,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=Nxe(v),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Ji(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new vV(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:AV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&mn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Cv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xxe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&pd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_xe(i.layoutBox,n):this.constraints=!1,this.elastic=Exe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ji(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bxe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Axe(r,i.root,this.visualElement.getTransformPagePoint());let o=wxe(i.layout.layoutBox,s);if(n){const a=n(Txe(o));this.hasMutatedConstraints=!!a,a&&(o=EV(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ji(d=>{if(!Cv(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return OE(this.visualElement,e),r.start(qC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ji(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ji(n=>{const{drag:r}=this.getProps();if(!Cv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-On(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ji(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Sxe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ji(o=>{if(!Cv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(On(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Rxe.set(this.visualElement,this);const e=this.visualElement.current,n=Yo(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mn.read(r);const o=Vo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ji(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=UE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Cv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Nxe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Lxe extends Ol{constructor(e){super(e),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new Pxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}unmount(){this.removeGroupControls(),this.removeListeners()}}const nO=t=>(e,n)=>{t&&mn.postRender(()=>t(e,n))};class Dxe extends Ol{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(e){this.session=new vV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:nO(e),onStart:nO(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&mn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Yo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nx=w.createContext(null);function Ixe(){const t=w.useContext(Nx);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=w.useId();w.useEffect(()=>r(i),[]);const s=w.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const QC=w.createContext({}),RV=w.createContext({}),s0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rO(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Mt.test(t))t=parseFloat(t);else return t;const n=rO(t,e.target.x),r=rO(t,e.target.y);return`${n}% ${r}%`}},Oxe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=El.parse(t);if(i.length>5)return r;const s=El.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=On(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},yy={};function kxe(t){Object.assign(yy,t)}const{schedule:eA,cancel:ZSe}=Pz(queueMicrotask,!1);class Uxe extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;kxe(Fxe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),s0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||mn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PV(t){const[e,n]=Ixe(),r=w.useContext(QC);return x.jsx(Uxe,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(RV),isPresent:e,safeToRemove:n})}const Fxe={borderRadius:{...vh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vh,borderTopRightRadius:vh,borderBottomLeftRadius:vh,borderBottomRightRadius:vh,boxShadow:Oxe},NV=["TopLeft","TopRight","BottomLeft","BottomRight"],jxe=NV.length,iO=t=>typeof t=="string"?parseFloat(t):t,sO=t=>typeof t=="number"||Mt.test(t);function Bxe(t,e,n,r,i,s){i?(t.opacity=On(0,n.opacity!==void 0?n.opacity:1,zxe(r)),t.opacityExit=On(e.opacity!==void 0?e.opacity:1,0,Vxe(r))):s&&(t.opacity=On(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<jxe;o++){const a=`border${NV[o]}Radius`;let l=oO(e,a),c=oO(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||sO(l)===sO(c)?(t[a]=Math.max(On(iO(l),iO(c),r),0),(oo.test(c)||oo.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=On(e.rotate||0,n.rotate||0,r))}function oO(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zxe=LV(0,.5,Uz),Vxe=LV(.5,.95,Or);function LV(t,e,n){return r=>r<t?0:r>e?1:n(af(t,e,r))}function aO(t,e){t.min=e.min,t.max=e.max}function Zi(t,e){aO(t.x,e.x),aO(t.y,e.y)}function lO(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cO(t,e,n,r,i){return t-=e,t=vy(t,1/n,r),i!==void 0&&(t=vy(t,1/i,r)),t}function $xe(t,e=0,n=1,r=.5,i,s=t,o=t){if(oo.test(e)&&(e=parseFloat(e),e=On(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=On(s.min,s.max,r);t===s&&(a-=e),t.min=cO(t.min,e,n,a,i),t.max=cO(t.max,e,n,a,i)}function uO(t,e,[n,r,i],s,o){$xe(t,e[n],e[r],e[i],e.scale,s,o)}const Hxe=["x","scaleX","originX"],Gxe=["y","scaleY","originY"];function dO(t,e,n,r){uO(t.x,e,Hxe,n?n.x:void 0,r?r.x:void 0),uO(t.y,e,Gxe,n?n.y:void 0,r?r.y:void 0)}function fO(t){return t.translate===0&&t.scale===1}function DV(t){return fO(t.x)&&fO(t.y)}function hO(t,e){return t.min===e.min&&t.max===e.max}function Wxe(t,e){return hO(t.x,e.x)&&hO(t.y,e.y)}function pO(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IV(t,e){return pO(t.x,e.x)&&pO(t.y,e.y)}function mO(t){return ji(t.x)/ji(t.y)}function gO(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Xxe{constructor(){this.members=[]}add(e){YC(this.members,e),e.scheduleRender()}remove(e){if(ZC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kxe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qxe=(t,e)=>t.depth-e.depth;class Yxe{constructor(){this.children=[],this.isDirty=!1}add(e){YC(this.children,e),this.isDirty=!0}remove(e){ZC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qxe),this.isDirty=!1,this.children.forEach(e)}}function o0(t){const e=Ir(t)?t.get():t;return zye(e)?e.toValue():e}function Zxe(t,e){const n=ao.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Sl(r),t(s-e))};return mn.read(r,!0),()=>Sl(r)}function Jxe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Qxe(t,e,n){const r=Ir(t)?t:Jp(t);return r.start(qC("",r,e,n)),r.animation}const oc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ph=typeof window<"u"&&window.MotionDebug!==void 0,KS=["","X","Y","Z"],e_e={visibility:"hidden"},vO=1e3;let t_e=0;function qS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function OV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&OV(r)}function kV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=t_e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ph&&(oc.totalNodes=oc.resolvedTargetDeltas=oc.recalculatedProjection=0),this.nodes.forEach(i_e),this.nodes.forEach(c_e),this.nodes.forEach(u_e),this.nodes.forEach(s_e),Ph&&window.MotionDebug.record(oc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yxe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Jxe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Zxe(p,250),s0.hasAnimatedSinceResize&&(s0.hasAnimatedSinceResize=!1,this.nodes.forEach(xO))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||m_e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:m}=d.getProps(),S=!this.targetLayout||!IV(this.targetLayout,_)||g,E=!p&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const T={...OC(y,"layout"),onPlay:v,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else p||xO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d_e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yO);return}this.isUpdating||this.nodes.forEach(a_e),this.isUpdating=!1,this.nodes.forEach(l_e),this.nodes.forEach(n_e),this.nodes.forEach(r_e),this.clearAllSnapshots();const a=ao.now();vr.delta=bl(0,1e3/60,a-vr.timestamp),vr.timestamp=a,vr.isProcessing=!0,BS.update.process(vr),BS.preRender.process(vr),BS.render.process(vr),vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o_e),this.sharedNodes.forEach(f_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!DV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||sc(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),g_e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Hn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(v_e))){const{scroll:d}=this.root;d&&(gd(l.x,d.offset.x),gd(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Hn();if(Zi(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Zi(l,o),gd(l.x,f.offset.x),gd(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Hn();Zi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sc(d.latestValues)&&vd(l,d.latestValues)}return sc(this.latestValues)&&vd(l,this.latestValues),l}removeTransform(o){const a=Hn();Zi(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!sc(c.latestValues))continue;FE(c.latestValues)&&c.updateSnapshot();const d=Hn(),f=c.measurePageBox();Zi(d,f),dO(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return sc(this.latestValues)&&dO(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=vr.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),np(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zi(this.target,this.layout.layoutBox),MV(this.target,this.targetDelta)):Zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),np(this.relativeTargetOrigin,this.target,g.target),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ph&&oc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||FE(this.parent.latestValues)||TV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Zi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Cxe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hn());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lO(this.prevProjectionDelta.x,this.projectionDelta.x),lO(this.prevProjectionDelta.y,this.projectionDelta.y)),tp(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!gO(this.projectionDelta.x,this.prevProjectionDelta.x)||!gO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ph&&oc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=md(),this.projectionDelta=md(),this.projectionDeltaWithTransform=md()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=md();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Hn(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,y=g!==_,v=this.getStack(),m=!v||v.members.length<=1,S=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(p_e));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const C=T/1e3;_O(f.x,o.x,C),_O(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h_e(this.relativeTarget,this.relativeTargetOrigin,p,C),E&&Wxe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Hn()),Zi(E,this.relativeTarget)),y&&(this.animationValues=d,Bxe(d,c,this.latestValues,C,S,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mn.update(()=>{s0.hasAnimatedSinceResize=!0,this.currentAnimation=Qxe(0,vO,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&UV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Hn();const f=ji(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=ji(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Zi(a,l),vd(a,d),tp(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Xxe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&qS("z",o,c,this.animationValues);for(let d=0;d<KS.length;d++)qS(`rotate${KS[d]}`,o,c,this.animationValues),qS(`skew${KS[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e_e;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=o0(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=o0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sc(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Kxe(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:g,y:_}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in yy){if(p[y]===void 0)continue;const{correct:v,applyTo:m}=yy[y],S=c.transform==="none"?p[y]:v(p[y],f);if(m){const E=m.length;for(let T=0;T<E;T++)c[m[T]]=S}else c[y]=S}return this.options.layoutId&&(c.pointerEvents=f===this?o0(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(yO),this.root.sharedNodes.clear()}}}function n_e(t){t.updateLayout()}function r_e(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Ji(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=ji(p);p.min=r[f].min,p.max=p.min+g}):UV(s,n.layoutBox,r)&&Ji(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=ji(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=md();tp(a,r,n.layoutBox);const l=md();o?tp(l,t.applyTransform(i,!0),n.measuredBox):tp(l,r,n.layoutBox);const c=!DV(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const _=Hn();np(_,n.layoutBox,p.layoutBox);const y=Hn();np(y,r,g.layoutBox),IV(_,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function i_e(t){Ph&&oc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s_e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o_e(t){t.clearSnapshot()}function yO(t){t.clearMeasurements()}function a_e(t){t.isLayoutDirty=!1}function l_e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xO(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c_e(t){t.resolveTargetDelta()}function u_e(t){t.calcProjection()}function d_e(t){t.resetSkewAndRotation()}function f_e(t){t.removeLeadSnapshot()}function _O(t,e,n){t.translate=On(e.translate,0,n),t.scale=On(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wO(t,e,n,r){t.min=On(e.min,n.min,r),t.max=On(e.max,n.max,r)}function h_e(t,e,n,r){wO(t.x,e.x,n.x,r),wO(t.y,e.y,n.y,r)}function p_e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const m_e={duration:.45,ease:[.4,0,.1,1]},SO=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bO=SO("applewebkit/")&&!SO("chrome/")?Math.round:Or;function EO(t){t.min=bO(t.min),t.max=bO(t.max)}function g_e(t){EO(t.x),EO(t.y)}function UV(t,e,n){return t==="position"||t==="preserve-aspect"&&!vxe(mO(e),mO(n),.2)}function v_e(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const y_e=kV({attachResizeListener:(t,e)=>Vo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YS={current:void 0},FV=kV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!YS.current){const t=new y_e({});t.mount(window),t.setOptions({layoutScroll:!0}),YS.current=t}return YS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),x_e={pan:{Feature:Dxe},drag:{Feature:Lxe,ProjectionNode:FV,MeasureLayout:PV}};function TO(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||wV())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&mn.postRender(()=>l(s,o))};return Yo(t.current,n,i,{passive:!t.getProps()[r]})}class __e extends Ol{mount(){this.unmount=qo(TO(this.node,!0),TO(this.node,!1))}unmount(){}}class w_e extends Ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qo(Vo(this.node.current,"focus",()=>this.onFocus()),Vo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const jV=(t,e)=>e?t===e?!0:jV(t,e.parentElement):!1;function ZS(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Px(n))}class S_e extends Ol{constructor(){super(...arguments),this.removeStartListeners=Or,this.removeEndListeners=Or,this.removeAccessibleListeners=Or,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Yo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps(),p=!f&&!jV(this.node.current,a.target)?d:c;p&&mn.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Yo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=qo(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ZS("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&mn.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Vo(this.node.current,"keyup",o),ZS("down",(a,l)=>{this.startPress(a,l)})},n=Vo(this.node.current,"keydown",e),r=()=>{this.isPressing&&ZS("cancel",(s,o)=>this.cancelPress(s,o))},i=Vo(this.node.current,"blur",r);this.removeAccessibleListeners=qo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&mn.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wV()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&mn.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Yo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Vo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const BE=new WeakMap,JS=new WeakMap,b_e=t=>{const e=BE.get(t.target);e&&e(t)},E_e=t=>{t.forEach(b_e)};function T_e({root:t,...e}){const n=t||document;JS.has(n)||JS.set(n,{});const r=JS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(E_e,{root:t,...e})),r[i]}function M_e(t,e,n){const r=T_e(e);return BE.set(t,n),r.observe(t),()=>{BE.delete(t),r.unobserve(t)}}const C_e={some:0,all:1};class A_e extends Ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:C_e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return M_e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R_e(e,n))&&this.startObserver()}unmount(){}}function R_e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const P_e={inView:{Feature:A_e},tap:{Feature:S_e},focus:{Feature:w_e},hover:{Feature:__e}},N_e={layout:{ProjectionNode:FV,MeasureLayout:PV}},tA=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Lx=w.createContext({}),nA=typeof window<"u",BV=nA?w.useLayoutEffect:w.useEffect,zV=w.createContext({strict:!1});function L_e(t,e,n,r,i){var s,o;const{visualElement:a}=w.useContext(Lx),l=w.useContext(zV),c=w.useContext(Nx),d=w.useContext(tA).reducedMotion,f=w.useRef();r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=w.useContext(RV);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&D_e(f.current,n,i,g),w.useInsertionEffect(()=>{p&&p.update(n,c)});const _=n[fV],y=w.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return BV(()=>{p&&(window.MotionIsMounted=!0,p.updateFeatures(),eA.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,_)}),y.current=!1))}),p}function D_e(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VV(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&pd(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function VV(t){if(t)return t.options.allowProjection!==!1?t.projection:VV(t.parent)}function I_e(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pd(n)&&(n.current=r))},[e])}function Dx(t){return Kp(t.animate)||IC.some(e=>qp(t[e]))}function $V(t){return!!(Dx(t)||t.variants)}function O_e(t,e){if(Dx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qp(n)?n:void 0,animate:qp(r)?r:void 0}}return t.inherit!==!1?e:{}}function k_e(t){const{initial:e,animate:n}=O_e(t,w.useContext(Lx));return w.useMemo(()=>({initial:e,animate:n}),[MO(e),MO(n)])}function MO(t){return Array.isArray(t)?t.join(" "):t}const CO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lf={};for(const t in CO)lf[t]={isEnabled:e=>CO[t].some(n=>!!e[n])};function U_e(t){for(const e in t)lf[e]={...lf[e],...t[e]}}const F_e=Symbol.for("motionComponentSymbol");function j_e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&U_e(t);function s(a,l){let c;const d={...w.useContext(tA),...a,layoutId:B_e(a)},{isStatic:f}=d,p=k_e(a),g=r(a,f);if(!f&&nA){z_e();const _=V_e(d);c=_.MeasureLayout,p.visualElement=L_e(i,g,d,e,_.ProjectionNode)}return x.jsxs(Lx.Provider,{value:p,children:[c&&p.visualElement?x.jsx(c,{visualElement:p.visualElement,...d}):null,n(i,a,I_e(g,p.visualElement,l),g,f,p.visualElement)]})}const o=w.forwardRef(s);return o[F_e]=i,o}function B_e({layoutId:t}){const e=w.useContext(QC).id;return e&&t!==void 0?e+"-"+t:t}function z_e(t,e){w.useContext(zV).strict}function V_e(t){const{drag:e,layout:n}=lf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rA(t){return typeof t!="string"||t.includes("-")?!1:!!($_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function HV(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const GV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WV(t,e,n,r){HV(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(GV.has(i)?i:Rx(i),e.attrs[i])}function XV(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yy[t]||t==="opacity")}function iA(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Ir(i[o])||e.style&&Ir(e.style[o])||XV(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function KV(t,e,n){const r=iA(t,e,n);for(const i in t)if(Ir(t[i])||Ir(e[i])){const s=Am.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function sA(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}function H_e(t){if(Il.has(t))return"transform";if(lV.has(t))return Rx(t)}function G_e({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:W_e(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const qV=t=>(e,n)=>{const r=w.useContext(Lx),i=w.useContext(Nx),s=()=>G_e(t,e,r,i,n);return n?s():sA(s)};function AO(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=LC(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function W_e(t,e,n,r,i){var s;const o={},a=new Set,l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const v in c)o[v]=o0(c[v]);let{initial:d,animate:f}=t;const p=Dx(t),g=$V(t);e&&g&&!p&&t.inherit!==!1&&(d===void 0&&(d=e.initial),f===void 0&&(f=e.animate));let _=n?n.initial===!1:!1;_=_||d===!1;const y=_?f:d;return y&&typeof y!="boolean"&&!Kp(y)&&AO(t,y,(v,m)=>{for(const S in v){let E=v[S];if(Array.isArray(E)){const T=_?E.length-1:0;E=E[T]}E!==null&&(o[S]=E)}for(const S in m)o[S]=m[S]}),l&&(f&&d!==!1&&!Kp(f)&&AO(t,f,v=>{for(const m in v){const S=H_e(m);S&&a.add(S)}}),a.size&&(o.willChange=Array.from(a).join(","))),o}const oA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),YV=()=>({...oA(),attrs:{}}),ZV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,X_e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K_e=Am.length;function q_e(t,e,n){let r="",i=!0;for(let s=0;s<K_e;s++){const o=Am[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ZV(a,VC[o]);if(!l){i=!1;const d=X_e[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function aA(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Il.has(l)){o=!0;continue}else if(Vz(l)){i[l]=c;continue}else{const d=ZV(c,VC[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=q_e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function RO(t,e,n){return typeof t=="string"?t:Mt.transform(e+n*t)}function Y_e(t,e,n){const r=RO(e,t.x,t.width),i=RO(n,t.y,t.height);return`${r} ${i}`}const Z_e={offset:"stroke-dashoffset",array:"stroke-dasharray"},J_e={offset:"strokeDashoffset",array:"strokeDasharray"};function Q_e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Z_e:J_e;t[s.offset]=Mt.transform(-r);const o=Mt.transform(e),a=Mt.transform(n);t[s.array]=`${o} ${a}`}function lA(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(aA(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:_}=t;p.transform&&(_&&(g.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Y_e(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Q_e(p,o,a,l,!1)}const cA=t=>typeof t=="string"&&t.toLowerCase()==="svg",ewe={useVisualState:qV({scrapeMotionValuesFromProps:KV,createRenderState:YV,onMount:(t,e,{renderState:n,latestValues:r})=>{mn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),mn.render(()=>{lA(n,r,cA(e.tagName),t.transformTemplate),WV(e,n)})}})},twe={useVisualState:qV({applyWillChange:!0,scrapeMotionValuesFromProps:iA,createRenderState:oA})};function JV(t,e,n){for(const r in e)!Ir(e[r])&&!XV(r,n)&&(t[r]=e[r])}function nwe({transformTemplate:t},e){return w.useMemo(()=>{const n=oA();return aA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rwe(t,e){const n=t.style||{},r={};return JV(r,n,t),Object.assign(r,nwe(t,e)),r}function iwe(t,e){const n={},r=rwe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const swe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||swe.has(t)}let QV=t=>!xy(t);function owe(t){t&&(QV=e=>e.startsWith("on")?!xy(e):t(e))}try{owe(require("@emotion/is-prop-valid").default)}catch{}function awe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(QV(i)||n===!0&&xy(i)||!e&&!xy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function lwe(t,e,n,r){const i=w.useMemo(()=>{const s=YV();return lA(s,e,cA(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};JV(s,t.style,t),i.style={...s,...i.style}}return i}function cwe(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(rA(n)?lwe:iwe)(r,s,o,n),c=awe(r,typeof n=="string",t),d=n!==w.Fragment?{...c,...l,ref:i}:{},{children:f}=r,p=w.useMemo(()=>Ir(f)?f.get():f,[f]);return w.createElement(n,{...d,children:p})}}function uwe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...rA(r)?ewe:twe,preloadedFeatures:t,useRender:cwe(i),createVisualElement:e,Component:r};return j_e(o)}}const zE={current:null},e8={current:!1};function dwe(){if(e8.current=!0,!!nA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zE.current=t.matches;t.addListener(e),e()}else zE.current=!1}function fwe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ir(i))t.addValue(r,i);else if(Ir(s))t.addValue(r,Jp(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jp(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const PO=new WeakMap,hwe=[...Gz,Pr,El],pwe=t=>hwe.find(Hz(t)),NO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mwe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ao.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,mn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Dx(n),this.isVariantNode=$V(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Ir(g)&&g.set(l[p],!1)}}mount(e){this.current=e,PO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),e8.current||dwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){PO.delete(this.current),this.projection&&this.projection.unmount(),Sl(this.notifyUpdate),Sl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Il.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&mn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lf){const n=lf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<NO.length;r++){const i=NO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=fwe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Bz(i)||jz(i))?i=parseFloat(i):!pwe(i)&&El.test(n)&&(i=Qz(e,n)),this.setBaseTarget(e,Ir(i)?i.get():i)),Ir(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=LC(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ir(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class t8 extends mwe{constructor(){super(...arguments),this.KeyframeResolver=eV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function gwe(t){return window.getComputedStyle(t)}class vwe extends t8{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=HV}readValueFromInstance(e,n){if(Il.has(n)){const r=$C(n);return r&&r.default||0}else{const r=gwe(e),i=(Vz(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CV(e,n)}build(e,n,r){aA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iA(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ir(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ywe extends t8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const r=$C(n);return r&&r.default||0}return n=GV.has(n)?n:Rx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KV(e,n,r)}build(e,n,r){lA(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){WV(e,n,r,i)}mount(e){this.isSVGTag=cA(e.tagName),super.mount(e)}}const xwe=(t,e)=>rA(t)?new ywe(e):new vwe(e,{allowProjection:t!==w.Fragment}),_we=uwe({...lxe,...P_e,...x_e,...N_e},xwe),a0=e0e(_we);class wwe extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Swe({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=w.useContext(tA);return w.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),x.jsx(wwe,{isPresent:e,childRef:r,sizeRef:i,children:w.cloneElement(t,{ref:r})})}const bwe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=sA(Ewe),l=w.useId(),c=w.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),d=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[n,c]);return w.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=x.jsx(Swe,{isPresent:n,children:t})),x.jsx(Nx.Provider,{value:d,children:t})};function Ewe(){return new Map}const Av=t=>t.key||"";function LO(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const Twe=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=w.useMemo(()=>LO(t),[t]),l=a.map(Av),c=w.useRef(!0),d=w.useRef(a),f=sA(()=>new Map),[p,g]=w.useState(a),[_,y]=w.useState(a);BV(()=>{c.current=!1,d.current=a;for(let S=0;S<_.length;S++){const E=Av(_[S]);l.includes(E)?f.delete(E):f.get(E)!==!0&&f.set(E,!1)}},[_,l.length,l.join("-")]);const v=[];if(a!==p){let S=[...a];for(let E=0;E<_.length;E++){const T=_[E],C=Av(T);l.includes(C)||(S.splice(E,0,T),v.push(T))}o==="wait"&&v.length&&(S=v),y(LO(S)),g(a);return}const{forceRender:m}=w.useContext(QC);return x.jsx(x.Fragment,{children:_.map(S=>{const E=Av(S),T=a===_||l.includes(E),C=()=>{if(f.has(E))f.set(E,!0);else return;let P=!0;f.forEach(R=>{R||(P=!1)}),P&&(m==null||m(),y(d.current),i&&i())};return x.jsx(bwe,{isPresent:T,initial:!c.current||r?void 0:!1,custom:T?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:T?void 0:C,children:S},E)})})},n8=({words:t,duration:e=3e3,className:n})=>{const[r,i]=w.useState(t[0]),[s,o]=w.useState(!1),a=w.useCallback(()=>{const l=t[t.indexOf(r)+1]||t[0];i(l),o(!0)},[r,t]);return w.useEffect(()=>{s||setTimeout(()=>{a()},e)},[s,e,a]),x.jsx(Twe,{onExitComplete:()=>{o(!1)},children:x.jsx(a0.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},exit:{opacity:0,y:-40,x:40,filter:"blur(8px)",scale:2,position:"absolute"},className:Ae("z-10 inline-block relative text-left text-neutral-900 dark:text-neutral-100 px-2",n),children:r.split(" ").map((l,c)=>x.jsxs(a0.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:c*.3,duration:.3},className:"inline-block whitespace-nowrap",children:[l.split("").map((d,f)=>x.jsx(a0.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:c*.3+f*.05,duration:.2},className:"inline-block",children:d},l+f)),x.jsx("span",{className:"inline-block",children:" "})]},l+c))},r)})},Mwe=({className:t,fill:e})=>x.jsxs("svg",{className:Ae("animate-spotlight pointer-events-none absolute z-[1]  h-[169%] w-[138%] lg:w-[84%] opacity-0",t),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3787 2842",fill:"none",children:[x.jsx("g",{filter:"url(#filter)",children:x.jsx("ellipse",{cx:"1924.71",cy:"273.501",rx:"1924.71",ry:"273.501",transform:"matrix(-0.822377 -0.568943 -0.568943 0.822377 3631.88 2291.09)",fill:e||"white",fillOpacity:"0.21"})}),x.jsx("defs",{children:x.jsxs("filter",{id:"filter",x:"0.860352",y:"0.838989",width:"3785.16",height:"2840.26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[x.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),x.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),x.jsx("feGaussianBlur",{stdDeviation:"151",result:"effect1_foregroundBlur_1065_8"})]})})]});function Ix(t){return t==="ar"?"alexandria":"bebas-neue-regular"}function Cwe(t){const[e,n]=w.useState(),[r,i]=w.useState(!0);async function s(){if(t){i(!0);try{const{data:o,error:a}=await rn.from("products").select().eq("id",t);if(a||!o)throw new Error("Failed to fetch products");n(o[0])}catch(o){console.error(o)}finally{i(!1)}}}return w.useEffect(()=>{s()},[t]),{product:e,loading:r}}function Awe(t){const[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,o]=w.useState(null);return w.useEffect(()=>{async function a(){if(t)try{i(!0);const{data:l,error:c}=await rn.from("items").select("*").eq("product",t);if(c)throw c;n(l)}catch(l){o(l.message||"An error occurred while fetching orders.")}finally{i(!1)}}a()},[t]),{items:e,loading:r,error:s}}function Rwe(){const t=HM(),e=mi(),[n,r]=w.useState(),{toast:i}=ax(),{product:s,loading:o}=Cwe(t.productId),{items:a,loading:l}=Awe(t.productId);async function c(){if(!s)return;const p=a==null?void 0:a.find(y=>y.id===Number(n)),g=await rn.auth.getUser();if(!g)return;const{user:_}=g.data;if(!_||!p){e("/login");return}await rn.from("cart-items").insert({item:p.id,name:s.name,price:p.price,profile:_.id}),i({title:"Added to cart",description:`Added ${s.name} to cart successfully.`})}const[d,{language:f}]=hs();return x.jsxs(x.Fragment,{children:[x.jsx(Zc,{}),!o&&!l&&s?x.jsxs("div",{className:"flex flex-row flex-wrap overflow-hidden overflow-y-auto",children:[x.jsx("div",{className:Ae("z-20 over max-h-fit bg-black flex-wrap items-center p-2 lg:max-h-full lg:max-w-[50%] lg:p-0",Ix(f)),children:x.jsx("video",{src:s.preview??"",muted:!0,autoPlay:!0,loop:!0,playsInline:!0,poster:s.thumbnail??"",unselectable:"on",controls:!1,disablePictureInPicture:!0,onPointerDown:p=>p.target.pause(),onPointerUp:p=>p.target.play(),className:""})}),x.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[x.jsxs("div",{className:"bebas-neue-regular flex flex-col gap-4 px-8 py-6 lg:px-16  lg:py-12",children:[x.jsx(Mwe,{fill:"white",className:"lg:-top-80 lg:left-1/3 scale-150 top-[30rem] z-10"}),x.jsx(bC,{className:"helvetica py-4",children:x.jsxs(EC,{children:[x.jsx(Fd,{children:x.jsx(Xp,{href:"/",children:"Pristiale"})}),x.jsx(dy,{}),x.jsx(Fd,{children:x.jsx(Xp,{href:"/products",children:d("menu.allProducts")})}),x.jsx(dy,{}),x.jsx(Fd,{children:x.jsx(cz,{children:s.name})})]})}),x.jsx("div",{children:x.jsxs("div",{className:"flex flex-row items-start",children:[x.jsx("p",{className:"w-full text-center title z-50 text-5xl lg:flex-1 lg:text-left lg:text-7xl",children:s==null?void 0:s.name}),x.jsx("div",{className:"flex flex-1 items-center max-sm:hidden lg:flex-none",children:x.jsx(ln,{variant:"ghost",className:"h-[32px] w-[32px] hover:text-red-700 lg:h-[64px] lg:w-[64px] ",children:x.jsx(tE,{size:24,className:" h-[16px] w-[16px] lg:h-[32px] lg:w-[32px]"})})})]})}),x.jsx("p",{className:" text-2xl lg:text-4xl",children:Mn((s==null?void 0:s.price)??0)}),x.jsx(n8,{className:"self-start text-xl text-muted-foreground",words:[(s==null?void 0:s.description)??""]}),x.jsx(az,{type:"single",className:"flex-wrap",value:n,children:ds.orderBy(a,p=>ds.isNumber(p.feature)?p:0).map(p=>x.jsx(lz,{value:p.id.toString(),disabled:p.quantity<1,className:"border",onClick:()=>{r(String(p.id))},children:x.jsx("p",{className:"bebas-neue-regular",children:p.feature})},p.id))}),x.jsxs(Qve,{type:"multiple",className:"helvetica w-full",children:[x.jsxs(t0,{value:"item-1",children:[x.jsx(n0,{children:"Product Details"}),x.jsx(r0,{className:"text-muted-foreground",children:s.description})]}),x.jsxs(t0,{value:"item-2",children:[x.jsx(n0,{children:"Shipping, and returns"}),x.jsxs(r0,{className:"flex flex-col gap-2 text-muted-foreground",children:[x.jsx("p",{children:"Purchases made after 1 week of purchase are eligible to be returned or exchange. Items must be unwashed, unworn, and unaltered with the original tags."}),x.jsx("p",{children:"Personalized items and gift boxes cannot be returned."}),x.jsx("p",{children:"Free shipping on all orders. for delivery within one week, see our delivery schedule. in addition to our regular shipping services, we also offer buy online, pick up and same day delivery for your convenience."})]})]}),x.jsxs(t0,{value:"item-3",children:[x.jsx(n0,{children:"Delivery"}),x.jsxs(r0,{className:"flex flex-col gap-2 text-muted-foreground",children:[x.jsx("p",{children:"All items from pristiale are delivered with our luxurious box with signature pristiale lettering and red bow with a personalized message at checkout."}),x.jsx("p",{children:"Additional collectable items may be added to your package."})]})]})]}),x.jsx("div",{className:"sticky bottom-2 w-full",children:x.jsx(ln,{className:"w-full ",size:"lg",disabled:!n,onClick:c,children:x.jsx("p",{className:"self-center text-2xl ",children:d("products.addToCart")})})})]}),x.jsxs("div",{className:"flex flex-wrap-reverse items-center justify-center gap-6 px-8 py-4 lg:px-16",children:[x.jsx("img",{src:wl,width:128,className:" hover:animate-pulse"}),x.jsx("p",{className:"max-w-[75%] text-center font-mono text-sm",children:d("common.copyright")})]})]})]}):x.jsx("div",{className:"flex h-screen w-screen flex-col text-balance bg-black text-center",children:x.jsx("div",{className:"helvetica flex flex-1 flex-col items-center justify-center gap-4 text-lg",children:x.jsx("img",{src:wl,width:300,className:"animate-ping p-12"})})})]})}function Pwe(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState(null);return w.useEffect(()=>{async function o(){try{r(!0);const{data:a,error:l}=await rn.auth.getUser();if(l)throw l;const c=a==null?void 0:a.user;if(!c)throw new Error("User not found");const{data:d,error:f}=await rn.from("orders").select("*").eq("profile",c.id).order("created_at",{ascending:!1});if(f)throw f;e(d||[])}catch(a){s(a.message||"An error occurred while fetching orders.")}finally{r(!1)}}o()},[]),{orders:t,loading:n,error:i}}function uA({orderId:t}){const[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,o]=w.useState(null),a=bm();return w.useEffect(()=>{async function l(){if(!a||!t){i(!1);return}try{i(!0);const{data:c,error:d}=await rn.from("cart-items").select().eq("order-id",t).eq("profile",a.id);if(d)throw d;n(c||[])}catch(c){o(c.message||"An error occurred while fetching cart items.")}finally{i(!1)}}l()},[t,a]),{orderItems:e,loading:r,error:s}}function Nwe(t){const{order:e,products:n}=t,{orderItems:r,loading:i}=uA({orderId:e.id}),[s,{language:o}]=hs(),a=mi();return x.jsxs("div",{className:"flex flex-col gap-2 py-4 pl-4",children:[x.jsxs("div",{className:Ae("flex gap-4 justify-between pr-8 text-2xl bebas-neue-regular"),children:[x.jsxs("div",{children:[x.jsx("p",{className:Ae(Ix(o)),children:s("orders."+e.status)}),x.jsx("p",{children:new Date(e.created_at).toLocaleDateString()}),x.jsx("p",{children:Mn(e.total??0)})]}),x.jsx("div",{children:x.jsx(ln,{className:"helvetica",variant:"link",onClick:()=>a("/order/"+e.id),children:s("common.view")})})]}),x.jsx("div",{className:"font-medium flex overflow-x-auto pr-8 py-2 disable-scroll h-[250px] items-center overflow-y-hidden gap-1 flex-row",children:!i&&r?r==null?void 0:r.map(l=>{var c;return x.jsx("img",{src:((c=n[l==null?void 0:l.name])==null?void 0:c.thumbnail)??"",alt:l==null?void 0:l.name,className:"object-contain",width:175})}):x.jsx(x.Fragment,{children:ux(6,x.jsx("img",{src:wl,className:"object-contain animate-pulse",width:175}))})})]},e.id)}function dA(t){const{orders:e}=t,[n,r]=w.useState({}),[i,s]=w.useState([]),[o,a]=w.useState(!0),l=bm();async function c(){if(!(!l||!e.length)){a(!0);try{const{data:d,error:f}=await rn.from("cart-items").select("item").in("order-id",e).eq("profile",l.id);if(f||!d)throw new Error("Failed to fetch cart items");const p=d.map(E=>E.item),{data:g,error:_}=await rn.from("items").select().in("id",p);if(_||!g)throw new Error("Failed to fetch items");s(g);const y=g.map(E=>E.product),{data:v,error:m}=await rn.from("products").select().in("id",y);if(m||!v)throw new Error("Failed to fetch products");const S=ds.zipObject(v.map(E=>E.name),v);r(S)}catch(d){console.error(d)}finally{a(!1)}}}return w.useEffect(()=>{c()},[e]),{products:n,items:i,loading:o}}function Lwe(){return x.jsx("div",{className:"flex h-screen w-screen flex-col text-balance bg-black text-center",children:x.jsx("div",{className:"helvetica flex flex-1 flex-col items-center justify-center gap-4 text-lg",children:x.jsx("img",{src:wl,width:300,className:"animate-ping p-12"})})})}function Dwe(){const{orders:t,loading:e}=Pwe(),n=w.useMemo(()=>t.map(o=>o.id),[t]),{products:r}=dA({orders:n}),[i,{language:s}]=hs();return!e&&t&&r?x.jsxs("div",{className:"w-screen",children:[x.jsx(Zc,{}),x.jsxs("div",{className:"helvetica flex flex-col gap-4 py-4 bg-muted/45 md:items-center",children:[x.jsx("p",{className:Ae("w-full py-12 text-center text-5xl lg:text-8xl ",Ix(s)),children:i("menu.yourOrders")}),x.jsx("div",{className:"flex flex-col gap-2 md:max-w-screen-md lg:max-w-screen-lg",children:t.map((o,a)=>x.jsx(Nwe,{order:o,products:r},a))})]})]}):x.jsx(Lwe,{})}function r8(t){const[e,n]=w.useState(),[r,i]=w.useState(!0),[s,o]=w.useState(null);return w.useEffect(()=>{async function a(){if(t)try{i(!0);const{data:l,error:c}=await rn.from("orders").select("*").eq("id",t);if(c)throw c;n(l[0]||[])}catch(l){o(l.message||"An error occurred while fetching orders.")}finally{i(!1)}}a()},[t]),{order:e,loading:r,error:s}}function Dn({className:t,...e}){return x.jsx("div",{className:Ae("animate-pulse rounded-md bg-primary/10",t),...e})}function Iwe(t){const{shipping:e,shippingInformation:n,phoneNumber:r,cartItems:i,items:s,user:o,total:a,tax:l,subTotal:c}=t,d=w.useMemo(()=>ds.groupBy(s,f=>f.id),[s]);return x.jsxs(ll,{className:"overflow-hidden helvetica flex flex-col lg:flex-row",children:[x.jsx(cl,{className:"flex items-start bg-muted/50",children:x.jsx("div",{className:"grid gap-0.5",children:x.jsx(ul,{className:"group flex items-center gap-2 text-lg",children:"Your Reciept"})})}),x.jsxs(dl,{className:"p-6 w-full text-sm",children:[x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Order Details"}),i?x.jsx("ul",{className:"grid gap-3",children:ds.map(i,f=>{var p,g;return x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-muted-foreground",children:[f.name," (",(g=(p=d[f.item])==null?void 0:p[0])==null?void 0:g.feature,")"]}),x.jsx("span",{children:Mn(f==null?void 0:f.price)})]})})}):x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]}),x.jsx(Go,{className:"my-2"}),x.jsxs("ul",{className:"grid gap-3",children:[x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),x.jsx("span",{children:Mn(c)})]}),x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),x.jsxs("span",{children:["~ ",Mn(e)]})]}),x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-muted-foreground",children:"Tax"}),x.jsx("span",{children:Mn(l)})]}),x.jsxs("li",{className:"flex items-center justify-between font-semibold",children:[x.jsx("span",{className:"text-muted-foreground",children:"Total"}),x.jsx("span",{children:Mn(a)})]})]})]}),x.jsx(Go,{className:"my-4"}),x.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Shipping Information"}),x.jsx("address",{className:"grid gap-0.5 not-italic text-muted-foreground",children:x.jsx("span",{children:n})})]})}),x.jsx(Go,{className:"my-4"}),x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Customer Information"}),o?x.jsxs("dl",{className:"grid gap-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"text-muted-foreground",children:"Customer"}),x.jsx("dd",{children:`${o==null?void 0:o.user_metadata.firstName}  ${o==null?void 0:o.user_metadata.lastName}`})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"text-muted-foreground",children:"Email"}),x.jsx("dd",{children:x.jsx("a",{href:"mailto:",children:o==null?void 0:o.email})})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"text-muted-foreground",children:"Phone"}),x.jsx("dd",{children:x.jsx("a",{href:"tel:",children:r})})]})]}):x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]})]})]})]})}function Owe(){const t=HM(),[e,{language:n}]=hs(),{order:r,loading:i}=r8(t.orderId),{orderItems:s}=uA({orderId:r==null?void 0:r.id}),{products:o,items:a}=dA({orders:[...r!=null&&r.id?[r.id]:[]]}),l=bm(),c=mi();return x.jsxs(x.Fragment,{children:[x.jsx(Zc,{}),r&&!i?x.jsx("div",{className:"w-screen flex justify-center ",children:x.jsxs("div",{className:"w-full md:max-w-screen-md lg:max-w-screen-lg",children:[x.jsxs("div",{className:"flex flex-col gap-2 py-8 px-4",children:[x.jsxs("div",{className:Ae("flex gap-4 justify-between text-2xl bebas-neue-regular"),children:[x.jsxs("div",{children:[x.jsx("p",{className:Ae(Ix(n),"text-5xl lg:text-8xl"),children:e("orders."+r.status)}),x.jsx("p",{children:new Date(r.created_at).toLocaleDateString()}),x.jsx("p",{children:Mn(r.total??0)})]}),x.jsx("div",{children:x.jsx(ln,{className:"helvetica",variant:"link",onClick:()=>{c("/reciept/"+r.id)},children:e("orders.printReciept")})})]}),x.jsx("div",{className:"font-medium flex overflow-x-auto py-2 disable-scroll h-[250px] items-center overflow-y-hidden gap-1 flex-row",children:!i&&s?s==null?void 0:s.map(d=>{var f;return x.jsx("img",{src:((f=o[d==null?void 0:d.name])==null?void 0:f.thumbnail)??"",alt:d==null?void 0:d.name,className:"object-contain",width:175,onClick:()=>{c("/product/"+o[d.name].id)}})}):x.jsx(x.Fragment,{children:ux(6,x.jsx("img",{src:wl,className:"object-contain animate-pulse",width:175}))})})]},r.id),x.jsx(Iwe,{shipping:r["shipping-fee"],shippingInformation:r["extra-shipping-info"]??"",phoneNumber:l==null?void 0:l.user_metadata.phoneNumber,cartItems:s,items:a,total:r.total,subTotal:r.subtotal,tax:r["tax-rate"],user:l??void 0})]})}):x.jsx("div",{className:"flex h-screen w-screen flex-col text-balance bg-black text-center",children:x.jsx("div",{className:"helvetica flex flex-1 flex-col items-center justify-center gap-4 text-lg",children:x.jsx("img",{src:wl,width:300,className:"animate-ping p-12"})})})]})}function kwe(t){const{shipping:e,shippingInformation:n,phoneNumber:r,canContinue:i,items:s,user:o,total:a,tax:l,subTotal:c,onSubmit:d}=t,f=w.useMemo(()=>ds.groupBy(s,p=>p.item),[s]);return x.jsxs(ll,{className:"overflow-hidden","x-chunk":"An order details card with order details, shipping information, customer information and payment information.",children:[x.jsx(cl,{className:"flex flex-row items-start bg-muted/50",children:x.jsx("div",{className:"grid gap-0.5",children:x.jsx(ul,{className:"group flex items-center gap-2 text-lg",children:"Your Cart"})})}),x.jsxs(dl,{className:"p-6 text-sm",children:[x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Order Details"}),s?x.jsx("ul",{className:"grid gap-3",children:ds.map(f,p=>x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-muted-foreground",children:[p[0].name," x ",x.jsx("span",{children:p.length})]}),x.jsx("span",{children:Mn(p[0].price*p.length)})]}))}):x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]}),x.jsx(Go,{className:"my-2"}),x.jsxs("ul",{className:"grid gap-3",children:[x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),x.jsx("span",{children:Mn(c)})]}),x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),x.jsxs("span",{children:["~ ",Mn(e)]})]}),x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-muted-foreground",children:"Tax"}),x.jsx("span",{children:Mn(l)})]}),x.jsxs("li",{className:"flex items-center justify-between font-semibold",children:[x.jsx("span",{className:"text-muted-foreground",children:"Total"}),x.jsx("span",{children:Mn(a)})]})]})]}),x.jsx(Go,{className:"my-4"}),x.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Shipping Information"}),x.jsx("address",{className:"grid gap-0.5 not-italic text-muted-foreground",children:x.jsx("span",{children:n})})]})}),x.jsx(Go,{className:"my-4"}),x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Customer Information"}),o?x.jsxs("dl",{className:"grid gap-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"text-muted-foreground",children:"Customer"}),x.jsx("dd",{children:`${o==null?void 0:o.user_metadata.firstName}  ${o==null?void 0:o.user_metadata.lastName}`})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"text-muted-foreground",children:"Email"}),x.jsx("dd",{children:x.jsx("a",{href:"mailto:",children:o==null?void 0:o.email})})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"text-muted-foreground",children:"Phone"}),x.jsx("dd",{children:x.jsx("a",{href:"tel:",children:r})})]})]}):x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]})]})]}),x.jsx(_C,{children:x.jsx(ln,{className:"w-full",disabled:!i,onClick:d,children:"Finalize Checkout"})})]})}const VE=w.forwardRef(({className:t,...e},n)=>x.jsx("textarea",{className:Ae("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));VE.displayName="Textarea";var fA="Checkbox",[Uwe,QSe]=fo(fA),[Fwe,jwe]=Uwe(fA),i8=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,...d}=t,[f,p]=w.useState(null),g=tn(e,E=>p(E)),_=w.useRef(!1),y=f?!!f.closest("form"):!0,[v=!1,m]=us({prop:i,defaultProp:s,onChange:c}),S=w.useRef(v);return w.useEffect(()=>{const E=f==null?void 0:f.form;if(E){const T=()=>m(S.current);return E.addEventListener("reset",T),()=>E.removeEventListener("reset",T)}},[f,m]),x.jsxs(Fwe,{scope:n,state:v,disabled:a,children:[x.jsx(At.button,{type:"button",role:"checkbox","aria-checked":Tc(v)?"mixed":v,"aria-required":o,"data-state":a8(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onKeyDown:bt(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:bt(t.onClick,E=>{m(T=>Tc(T)?!0:!T),y&&(_.current=E.isPropagationStopped(),_.current||E.stopPropagation())})}),y&&x.jsx(Bwe,{control:f,bubbles:!_.current,name:r,value:l,checked:v,required:o,disabled:a,style:{transform:"translateX(-100%)"}})]})});i8.displayName=fA;var s8="CheckboxIndicator",o8=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=jwe(s8,n);return x.jsx(Wc,{present:r||Tc(s.state)||s.state===!0,children:x.jsx(At.span,{"data-state":a8(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});o8.displayName=s8;var Bwe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=w.useRef(null),o=l4(n),a=qF(e);return w.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:r});l.indeterminate=Tc(n),f.call(l,Tc(n)?!1:n),l.dispatchEvent(p)}},[o,n,r]),x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:Tc(n)?!1:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tc(t){return t==="indeterminate"}function a8(t){return Tc(t)?"indeterminate":t?"checked":"unchecked"}var l8=i8,zwe=o8;const c8=w.forwardRef(({className:t,...e},n)=>x.jsx(l8,{ref:n,className:Ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:x.jsx(zwe,{className:Ae("flex items-center justify-center text-current"),children:x.jsx(UF,{className:"h-4 w-4"})})}));c8.displayName=l8.displayName;function Vwe(){const[t,e]=w.useState(!0),[n,r]=w.useState(),[i,s]=w.useState(!1),[o,a]=w.useState([]),[l,c]=w.useState(),d=w.useMemo(()=>n==null?void 0:n.find(I=>I.id==Number(l)),[n,l]),[f,p]=w.useState(""),[g,_]=w.useState(""),[y,v]=w.useState(""),[m,S]=w.useState(),E=mi();w.useEffect(()=>{T()},[]);const T=async()=>{e(!0);const I=await rn.auth.getUser();if(!I){E("/login");return}const{user:V}=I.data;if(!V){E("/login");return}S(V);const{data:W,error:z}=await rn.from("governorates").select("*");if(!W||z){to({title:"Connection Error",description:"There seems to be an issue with fetching data from the server, please check your connection."});return}r(W);const{data:Q,error:q}=await rn.from("cart-items").select().is("order-id",null).eq("profile",V.id);if(!Q||q){to({title:"Connection Error",description:"There seems to be an issue with fetching data from the server, please check your connection."});return}a(Q),e(!1)},C=w.useMemo(()=>ds.sumBy(o,I=>I.price),[o]),P=0,R=w.useMemo(()=>C*P,[C]),A=w.useMemo(()=>C+R+((d==null?void 0:d.fee)??0),[C,R,d==null?void 0:d.fee]),L=w.useMemo(()=>!t&&!!l&&!!g&&!!f&&!!A&&!!C&&i,[t,l,g,f,A,C,i]),N=async()=>{if(!L)return;const I=await rn.from("orders").insert({total:A,tax:R,subtotal:C,status:"awaiting-aproval","shipping-address":f,"shipping-fee":(d==null?void 0:d.fee)??0,"tax-rate":P,"shipping-to":Number(l),"extra-shipping-info":y,profile:m.id}).select("*").single();if(!I||I.error){to({title:"Order Error",description:"There seems to be an issue with submitting your order data to the server, please check your connection."});return}const{data:V}=I;if((await Promise.all(o.map(z=>rn.from("cart-items").update({"order-id":V.id}).eq("id",z.id)))).find(z=>z.error)){to({title:"Order Error",description:"There seems to be an issue with submitting your order data to the server, please check your connection."});return}E("/thank-you")};return x.jsxs("div",{className:"helvetica flex min-h-screen w-full flex-col bg-muted/40",children:[x.jsx(Zc,{}),x.jsxs("div",{className:"flex flex-col sm:gap-4 sm:py-4 sm:pl-14",children:[x.jsxs("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[x.jsx(bC,{className:"hidden md:flex",children:x.jsxs(EC,{children:[x.jsx(Fd,{children:x.jsx(Xp,{asChild:!0,children:x.jsx(Np,{to:"#",children:"Cart"})})}),x.jsx(dy,{}),x.jsx(Fd,{children:x.jsx(Xp,{asChild:!0,children:x.jsx(Np,{to:"#",children:"Checkout"})})})]})}),x.jsx("div",{className:"relative ml-auto flex-1 md:grow-0"})]}),x.jsxs("main",{className:"grid flex-1 items-start gap-4 p-4 sm:px-6 sm:py-0 md:gap-8 lg:grid-cols-3 xl:grid-cols-3",children:[x.jsx("div",{className:"grid auto-rows-max items-start gap-4 md:gap-8 lg:col-span-2",children:x.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-2 xl:grid-cols-4",children:[x.jsxs(ll,{className:"sm:col-span-8","x-chunk":"A card for an orders dashboard with a description and a button to create a new order.",children:[x.jsxs(cl,{className:"pb-3",children:[x.jsx(ul,{children:"Contact us"}),x.jsx(Ud,{className:" text-balance leading-relaxed",children:"Pristiale's team is available to answer your questions, and help you with your orders."})]}),x.jsx(_C,{children:x.jsx(ln,{children:"Go to contact page"})})]}),x.jsxs(ll,{className:"sm:col-span-4",children:[x.jsxs(cl,{className:"pb-3",children:[x.jsx(ul,{children:"Billing, and Delivery"}),x.jsx(Ud,{className:"max-w-lg text-balance leading-relaxed",children:"Please verify your billing information before submitting."})]}),t?x.jsxs(dl,{className:"flex flex-col gap-4",children:[x.jsx(Dn,{className:"h-[125px] w-full rounded-xl"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]})]}):x.jsxs(dl,{className:"flex flex-col gap-4",children:[x.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[x.jsx(is,{htmlFor:"governorate",children:"Ship to"}),x.jsxs(W0,{value:l,onValueChange:c,children:[x.jsx(Ep,{children:x.jsx(X0,{placeholder:"Governorate"})}),x.jsx(Tp,{className:"helvetica",children:n==null?void 0:n.map(I=>x.jsx(Mp,{value:I.id.toString(),children:I.name}))})]})]}),x.jsxs("div",{className:"grid w-full gap-1.5",children:[x.jsx(is,{htmlFor:"address",children:"Address:"}),x.jsx(VE,{value:f,onChange:I=>p(I.target.value)})]}),x.jsxs("div",{className:"grid w-full gap-1.5",children:[x.jsx(is,{htmlFor:"contact-phone",children:"Contact Phone:"}),x.jsx(Ya,{type:"tel",value:g,onChange:I=>_(I.target.value)})]}),x.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[x.jsx(is,{htmlFor:"payment-method",children:"Payment method"}),x.jsxs(W0,{children:[x.jsx(Ep,{children:x.jsx(X0,{placeholder:"Cash"})}),x.jsx(Tp,{className:"helvetica",children:x.jsx(Mp,{value:"cash",children:"Cash"})})]})]}),x.jsxs("div",{className:"items-top flex space-x-2",children:[x.jsx(c8,{id:"terms1",checked:i,onCheckedChange:I=>s(I)}),x.jsxs("div",{className:"grid gap-1.5 leading-none",children:[x.jsx("label",{htmlFor:"terms1",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Accept terms and conditions"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"You agree to our Terms of Service and Privacy Policy."})]})]})]})]}),x.jsxs(ll,{className:"sm:col-span-4",children:[x.jsxs(cl,{className:"pb-3",children:[x.jsx(ul,{children:"Packaging Instructions"}),x.jsx(Ud,{className:"max-w-lg text-balance leading-relaxed",children:"Do you have specific instructions for packaging, handling, or billing."})]}),x.jsx(dl,{className:"flex flex-col gap-4",children:x.jsxs("div",{className:"grid w-full gap-1.5",children:[x.jsx(is,{htmlFor:"additional-order-instructions",children:"Order Instructions:"}),x.jsx(VE,{placeholder:"Optional",value:y,onChange:I=>v(I.target.value)})]})})]})]})}),x.jsx("div",{children:x.jsx(kwe,{shipping:(d==null?void 0:d.fee)??0,shippingInformation:f,phoneNumber:g,canContinue:L,items:o,total:A,subTotal:C,tax:R,user:m,onSubmit:N})})]})]})]})}const $we=({className:t,children:e,showRadialGradient:n=!0,...r})=>x.jsx("main",{children:x.jsxs("div",{className:Ae("relative flex flex-col  h-[100vh] items-center justify-center bg-zinc-50 dark:bg-zinc-900  text-slate-950 transition-bg",t),...r,children:[x.jsx("div",{className:"absolute inset-0 overflow-hidden",children:x.jsx("div",{className:Ae(`
            [--white-gradient:repeating-linear-gradient(100deg,var(--white)_0%,var(--white)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--white)_16%)]
            [--dark-gradient:repeating-linear-gradient(100deg,var(--black)_0%,var(--black)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--black)_16%)]
            [--aurora:repeating-linear-gradient(100deg,var(--blue-500)_10%,var(--indigo-300)_15%,var(--blue-300)_20%,var(--violet-200)_25%,var(--blue-400)_30%)]
            [background-image:var(--white-gradient),var(--aurora)]
            dark:[background-image:var(--dark-gradient),var(--aurora)]
            [background-size:300%,_200%]
            [background-position:50%_50%,50%_50%]
            filter blur-[10px] invert dark:invert-0
            after:content-[""] after:absolute after:inset-0 after:[background-image:var(--white-gradient),var(--aurora)] 
            after:dark:[background-image:var(--dark-gradient),var(--aurora)]
            after:[background-size:200%,_100%] 
            after:animate-aurora after:[background-attachment:fixed] after:mix-blend-difference
            pointer-events-none
            absolute -inset-[10px] opacity-50 will-change-transform`,n&&"[mask-image:radial-gradient(ellipse_at_100%_0%,black_10%,var(--transparent)_70%)]")})}),e]})});function Hwe(){const[t,{language:e}]=hs(),n=mi();return x.jsxs(x.Fragment,{children:[x.jsx(Zc,{}),x.jsxs($we,{children:[x.jsx("img",{className:"absolute mix-blend-difference",width:512,src:ZM}),x.jsxs(a0.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.8,ease:"easeInOut"},className:Ae("relative flex flex-col mix-blend-exclusion  gap-4 items-center justify-center px-4 ",e==="ar"?"alexandria":"bebas-neue-regular"),children:[x.jsx("div",{className:"text-8xl md:text-[15rem] dark:text-white text-center animate-in",children:t("thankYou.thankYou")}),x.jsxs("div",{className:"font-extralight text-sm  md:text-2xl flex flex-col text-center justify-center dark:text-neutral-200 py-4",children:[x.jsx("p",{className:"dark:text-neutral-200  ",children:t("thankYou.youWillBeNotified")}),x.jsxs("span",{children:[t("thankYou.willPrepare"),e==="ar"?" "+t("thankYou.withLove"):x.jsx(n8,{words:[t("thankYou.withLove"),t("thankYou.withPassion"),t("thankYou.withCare")]})]})]}),x.jsxs("div",{className:Ae("flex justify-center  w-screen z-20 gap-8 p-12",e==="ar"?"alexandria":"helvetica"),children:[x.jsx(ln,{variant:"link",onClick:()=>n("/"),children:t("thankYou.continueShopping")}),x.jsx(ln,{variant:"link",onClick:()=>n("/orders/"),children:t("thankYou.viewOrders")})]})]})]}),x.jsx("div",{children:x.jsx("p",{className:" text-center font-mono text-sm p-24 bg-white text-black",children:t("common.copyright")})})]})}function Gwe(){const t=HM(),{order:e,loading:n}=r8(t.orderId),{orderItems:r}=uA({orderId:e==null?void 0:e.id}),{items:i}=dA({orders:[...e!=null&&e.id?[e.id]:[]]}),s=w.useMemo(()=>ds.groupBy(i,a=>a.id),[i]),o=bm();return x.jsx(x.Fragment,{children:e&&!n?x.jsxs("div",{onClick:()=>window.print(),className:"flex flex-col bg-white text-black w-[210mm] h-[297mm] mx-auto p-12 helvetica",children:[x.jsxs("div",{className:Ae("flex justify-between items-center w-full text-2xl  pb-24"),children:[x.jsx("img",{src:Q0,height:64,className:"w-64"}),x.jsx("p",{className:"bebas-neue-regular",children:new Date(e.created_at).toLocaleDateString()})]}),x.jsxs("div",{className:"grid gap-3 helvetica ",children:[x.jsx("div",{className:"font-semibold",children:"Order Details"}),i?x.jsx("ul",{className:"grid gap-3",children:ds.map(r,a=>{var l,c;return x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"",children:[a.name," (",(c=(l=s[a.item])==null?void 0:l[0])==null?void 0:c.feature,")"]}),x.jsx("span",{children:Mn(a==null?void 0:a.price)})]})})}):x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]}),x.jsx(bc,{className:"my-2"}),x.jsxs("ul",{className:"grid gap-3",children:[x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"",children:"Subtotal"}),x.jsx("span",{children:Mn(e.subtotal)})]}),x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"",children:"Shipping"}),x.jsxs("span",{children:["~ ",Mn(e["shipping-fee"])]})]}),x.jsxs("li",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"",children:"Tax"}),x.jsx("span",{children:Mn(e.tax)})]}),x.jsxs("li",{className:"flex items-center justify-between font-semibold",children:[x.jsx("span",{className:"",children:"Total"}),x.jsx("span",{children:Mn(e.total)})]})]})]}),x.jsx(bc,{className:"my-4"}),x.jsx("div",{className:"grid grid-cols-2 gap-4",children:x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Shipping Information"}),x.jsx("address",{className:"grid gap-0.5 not-italic ",children:x.jsx("span",{children:e["shipping-address"]})})]})}),x.jsx(bc,{className:"my-4"}),x.jsxs("div",{className:"grid gap-3",children:[x.jsx("div",{className:"font-semibold",children:"Customer Information"}),o?x.jsxs("dl",{className:"grid gap-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"",children:"Customer"}),x.jsx("dd",{children:`${o==null?void 0:o.user_metadata.firstName}  ${o==null?void 0:o.user_metadata.lastName}`})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("dt",{className:"",children:"Email"}),x.jsx("dd",{children:x.jsx("a",{href:"mailto:",children:o==null?void 0:o.email})})]})]}):x.jsxs("div",{className:"space-y-2",children:[x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"}),x.jsx(Dn,{className:"h-4 w-full"})]})]})]}):x.jsx("div",{className:"flex h-screen w-screen flex-col text-balance bg-black text-center",children:x.jsx("div",{className:"helvetica flex flex-1 flex-col items-center justify-center gap-4 text-lg",children:x.jsx("img",{src:Q0,width:300,className:"animate-ping p-12"})})})})}const Wwe=Pue([{path:"/",element:x.jsx(Npe,{}),errorElement:x.jsx(bs,{})},{path:"/test",element:x.jsx(Qge,{}),errorElement:x.jsx(bs,{})},{path:"/login",element:x.jsx(nve,{}),errorElement:x.jsx(bs,{})},{path:"/signup",element:x.jsx(rve,{}),errorElement:x.jsx(bs,{})},{path:"/checkout",element:x.jsx(Vwe,{}),errorElement:x.jsx(bs,{})},{path:"/thank-you",element:x.jsx(Hwe,{}),errorElement:x.jsx(bs,{})},{path:"/products",element:x.jsx(cve,{}),errorElement:x.jsx(bs,{})},{path:"/product/:productId",element:x.jsx(Rwe,{}),errorElement:x.jsx(bs,{})},{path:"/orders",element:x.jsx(Dwe,{}),errorElement:x.jsx(bs,{})},{path:"/order/:orderId",element:x.jsx(Owe,{}),errorElement:x.jsx(bs,{})},{path:"/reciept/:orderId",element:x.jsx(Gwe,{}),errorElement:x.jsx(bs,{})}]),Xwe=()=>x.jsx(mq,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:x.jsx(jue,{fallbackElement:x.jsx("h1",{children:"Seems like something broke."}),router:Wwe})});var hA="ToastProvider",[pA,Kwe,qwe]=Hy("Toast"),[u8,e1e]=fo("Toast",[qwe]),[Ywe,Ox]=u8(hA),d8=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=w.useState(null),[c,d]=w.useState(0),f=w.useRef(!1),p=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hA}\`. Expected non-empty \`string\`.`),x.jsx(pA.Provider,{scope:e,children:x.jsx(Ywe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>d(g=>g+1),[]),onToastRemove:w.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};d8.displayName=hA;var f8="ToastViewport",Zwe=["F8"],$E="toast.viewportPause",HE="toast.viewportResume",h8=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Zwe,label:i="Notifications ({hotkey})",...s}=t,o=Ox(f8,n),a=Kwe(n),l=w.useRef(null),c=w.useRef(null),d=w.useRef(null),f=w.useRef(null),p=tn(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;w.useEffect(()=>{const v=m=>{var E;r.every(T=>m[T]||m.code===T)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),w.useEffect(()=>{const v=l.current,m=f.current;if(_&&v&&m){const S=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent($E);m.dispatchEvent(P),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(HE);m.dispatchEvent(P),o.isClosePausedRef.current=!1}},T=P=>{!v.contains(P.relatedTarget)&&E()},C=()=>{v.contains(document.activeElement)||E()};return v.addEventListener("focusin",S),v.addEventListener("focusout",T),v.addEventListener("pointermove",S),v.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{v.removeEventListener("focusin",S),v.removeEventListener("focusout",T),v.removeEventListener("pointermove",S),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[_,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:v})=>{const S=a().map(E=>{const T=E.ref.current,C=[T,...uSe(T)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?S.reverse():S).flat()},[a]);return w.useEffect(()=>{const v=f.current;if(v){const m=S=>{var C,P,R;const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const A=document.activeElement,L=S.shiftKey;if(S.target===v&&L){(C=c.current)==null||C.focus();return}const V=y({tabbingDirection:L?"backwards":"forwards"}),W=V.findIndex(z=>z===A);QS(V.slice(W+1))?S.preventDefault():L?(P=c.current)==null||P.focus():(R=d.current)==null||R.focus()}};return v.addEventListener("keydown",m),()=>v.removeEventListener("keydown",m)}},[a,y]),x.jsxs(Ore,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&x.jsx(GE,{ref:c,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});QS(v)}}),x.jsx(pA.Slot,{scope:n,children:x.jsx(At.ol,{tabIndex:-1,...s,ref:p})}),_&&x.jsx(GE,{ref:d,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});QS(v)}})]})});h8.displayName=f8;var p8="ToastFocusProxy",GE=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Ox(p8,n);return x.jsx(pm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});GE.displayName=p8;var kx="Toast",Jwe="toast.swipeStart",Qwe="toast.swipeMove",eSe="toast.swipeCancel",tSe="toast.swipeEnd",m8=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=us({prop:r,defaultProp:i,onChange:s});return x.jsx(Wc,{present:n||a,children:x.jsx(iSe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:pi(t.onPause),onResume:pi(t.onResume),onSwipeStart:bt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:bt(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:bt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:bt(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});m8.displayName=kx;var[nSe,rSe]=u8(kx,{onClose(){}}),iSe=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,..._}=t,y=Ox(kx,n),[v,m]=w.useState(null),S=tn(e,z=>m(z)),E=w.useRef(null),T=w.useRef(null),C=i||y.duration,P=w.useRef(0),R=w.useRef(C),A=w.useRef(0),{onToastAdd:L,onToastRemove:N}=y,I=pi(()=>{var Q;(v==null?void 0:v.contains(document.activeElement))&&((Q=y.viewport)==null||Q.focus()),o()}),V=w.useCallback(z=>{!z||z===1/0||(window.clearTimeout(A.current),P.current=new Date().getTime(),A.current=window.setTimeout(I,z))},[I]);w.useEffect(()=>{const z=y.viewport;if(z){const Q=()=>{V(R.current),c==null||c()},q=()=>{const se=new Date().getTime()-P.current;R.current=R.current-se,window.clearTimeout(A.current),l==null||l()};return z.addEventListener($E,q),z.addEventListener(HE,Q),()=>{z.removeEventListener($E,q),z.removeEventListener(HE,Q)}}},[y.viewport,C,l,c,V]),w.useEffect(()=>{s&&!y.isClosePausedRef.current&&V(C)},[s,C,y.isClosePausedRef,V]),w.useEffect(()=>(L(),()=>N()),[L,N]);const W=w.useMemo(()=>v?S8(v):null,[v]);return y.viewport?x.jsxs(x.Fragment,{children:[W&&x.jsx(sSe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),x.jsx(nSe,{scope:n,onClose:I,children:fs.createPortal(x.jsx(pA.ItemSlot,{scope:n,children:x.jsx(Ire,{asChild:!0,onEscapeKeyDown:bt(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(At.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:bt(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:bt(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:bt(t.onPointerMove,z=>{if(!E.current)return;const Q=z.clientX-E.current.x,q=z.clientY-E.current.y,se=!!T.current,B=["left","right"].includes(y.swipeDirection),J=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ue=B?J(0,Q):0,ge=B?0:J(0,q),oe=z.pointerType==="touch"?10:2,Re={x:ue,y:ge},X={originalEvent:z,delta:Re};se?(T.current=Re,Rv(Qwe,f,X,{discrete:!1})):DO(Re,y.swipeDirection,oe)?(T.current=Re,Rv(Jwe,d,X,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(Q)>oe||Math.abs(q)>oe)&&(E.current=null)}),onPointerUp:bt(t.onPointerUp,z=>{const Q=T.current,q=z.target;if(q.hasPointerCapture(z.pointerId)&&q.releasePointerCapture(z.pointerId),T.current=null,E.current=null,Q){const se=z.currentTarget,B={originalEvent:z,delta:Q};DO(Q,y.swipeDirection,y.swipeThreshold)?Rv(tSe,g,B,{discrete:!0}):Rv(eSe,p,B,{discrete:!0}),se.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),sSe=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ox(kx,e),[s,o]=w.useState(!1),[a,l]=w.useState(!1);return lSe(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:x.jsx(jy,{asChild:!0,children:x.jsx(pm,{...r,children:s&&x.jsxs(x.Fragment,{children:[i.label," ",n]})})})},oSe="ToastTitle",g8=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(At.div,{...r,ref:e})});g8.displayName=oSe;var aSe="ToastDescription",v8=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(At.div,{...r,ref:e})});v8.displayName=aSe;var y8="ToastAction",x8=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?x.jsx(w8,{altText:n,asChild:!0,children:x.jsx(mA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${y8}\`. Expected non-empty \`string\`.`),null)});x8.displayName=y8;var _8="ToastClose",mA=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=rSe(_8,n);return x.jsx(w8,{asChild:!0,children:x.jsx(At.button,{type:"button",...r,ref:e,onClick:bt(t.onClick,i.onClose)})})});mA.displayName=_8;var w8=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return x.jsx(At.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function S8(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cSe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...S8(r))}}),e}function Rv(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VU(i,s):i.dispatchEvent(s)}var DO=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function lSe(t=()=>{}){const e=pi(t);lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function cSe(t){return t.nodeType===t.ELEMENT_NODE}function uSe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var dSe=d8,b8=h8,E8=m8,T8=g8,M8=v8,C8=x8,A8=mA;const fSe=dSe,R8=w.forwardRef(({className:t,...e},n)=>x.jsx(b8,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));R8.displayName=b8.displayName;const hSe=im("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),P8=w.forwardRef(({className:t,variant:e,...n},r)=>x.jsx(E8,{ref:r,className:Ae(hSe({variant:e}),t),...n}));P8.displayName=E8.displayName;const pSe=w.forwardRef(({className:t,...e},n)=>x.jsx(C8,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));pSe.displayName=C8.displayName;const N8=w.forwardRef(({className:t,...e},n)=>x.jsx(A8,{ref:n,className:Ae("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(jF,{className:"h-4 w-4"})}));N8.displayName=A8.displayName;const L8=w.forwardRef(({className:t,...e},n)=>x.jsx(T8,{ref:n,className:Ae("text-sm font-semibold [&+div]:text-xs",t),...e}));L8.displayName=T8.displayName;const D8=w.forwardRef(({className:t,...e},n)=>x.jsx(M8,{ref:n,className:Ae("text-sm opacity-90",t),...e}));D8.displayName=M8.displayName;function mSe(){const{toasts:t}=ax();return x.jsxs(fSe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return x.jsxs(P8,{...s,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(L8,{children:n}),r&&x.jsx(D8,{children:r})]}),i,x.jsx(N8,{})]},e)}),x.jsx(R8,{})]})}var[Ux,t1e]=fo("Tooltip",[qy]),gA=qy(),I8="TooltipProvider",gSe=700,IO="tooltip.open",[vSe,O8]=Ux(I8),k8=t=>{const{__scopeTooltip:e,delayDuration:n=gSe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=w.useState(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),x.jsx(vSe,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};k8.displayName=I8;var U8="Tooltip",[n1e,Fx]=Ux(U8),WE="TooltipTrigger",ySe=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Fx(WE,n),s=O8(WE,n),o=gA(n),a=w.useRef(null),l=tn(e,a,i.onTriggerChange),c=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),x.jsx(s4,{asChild:!0,...o,children:x.jsx(At.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:bt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:bt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:bt(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:bt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:bt(t.onBlur,i.onClose),onClick:bt(t.onClick,i.onClose)})})});ySe.displayName=WE;var xSe="TooltipPortal",[r1e,_Se]=Ux(xSe,{forceMount:void 0}),cf="TooltipContent",F8=w.forwardRef((t,e)=>{const n=_Se(cf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Fx(cf,t.__scopeTooltip);return x.jsx(Wc,{present:r||o.open,children:o.disableHoverableContent?x.jsx(j8,{side:i,...s,ref:e}):x.jsx(wSe,{side:i,...s,ref:e})})}),wSe=w.forwardRef((t,e)=>{const n=Fx(cf,t.__scopeTooltip),r=O8(cf,t.__scopeTooltip),i=w.useRef(null),s=tn(e,i),[o,a]=w.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,p=w.useCallback(()=>{a(null),f(!1)},[f]),g=w.useCallback((_,y)=>{const v=_.currentTarget,m={x:_.clientX,y:_.clientY},S=TSe(m,v.getBoundingClientRect()),E=MSe(m,S),T=CSe(y.getBoundingClientRect()),C=RSe([...E,...T]);a(C),f(!0)},[f]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(l&&d){const _=v=>g(v,d),y=v=>g(v,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),w.useEffect(()=>{if(o){const _=y=>{const v=y.target,m={x:y.clientX,y:y.clientY},S=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),E=!ASe(m,o);S?p():E&&(p(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,p]),x.jsx(j8,{...t,ref:s})}),[SSe,bSe]=Ux(U8,{isInside:!1}),j8=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Fx(cf,n),c=gA(n),{onClose:d}=l;return w.useEffect(()=>(document.addEventListener(IO,d),()=>document.removeEventListener(IO,d)),[d]),w.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),x.jsx(dm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:x.jsxs(o4,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx($T,{children:r}),x.jsx(SSe,{scope:n,isInside:!0,children:x.jsx(Noe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});F8.displayName=cf;var B8="TooltipArrow",ESe=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=gA(n);return bSe(B8,n).isInside?null:x.jsx(a4,{...i,...r,ref:e})});ESe.displayName=B8;function TSe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MSe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CSe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function ASe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function RSe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),PSe(e)}function PSe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NSe=k8,z8=F8;const LSe=NSe,DSe=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(z8,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));DSe.displayName=z8.displayName;const ISe=document.getElementById("root"),OSe=e1.createRoot(ISe);OSe.render(x.jsxs(w.StrictMode,{children:[x.jsx(LSe,{children:x.jsx(Xwe,{})}),x.jsx("div",{className:"helvetica",children:x.jsx(mSe,{})})]}));export{kO as g};
